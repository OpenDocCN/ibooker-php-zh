<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 22. Introduction to jQuery" class="calibre4"><div class="preface" id="introduction_to_jquery">
<h1 class="calibre10"><span class="keep-together">Chapter 22. </span>Introduction to jQuery</h1>

<p class="author1">Powerful<a contenteditable="false" data-primary="jQuery" data-secondary="benefits of" data-type="indexterm" id="JQbene22" class="calibre6"/> and flexible as JavaScript is, with its plethora of built-in functions and the continuing improvements being made to it, you often still need additional layers of code for simple things that cannot be achieved natively or with CSS, such as animations, event handling, and asynchronous communication.</p>

<p class="author1">What’s more, as a consequence of the various browser wars over the years, frustrating and annoying browser incompatibilities have come and gone, rearing their heads at different times on different platforms and programs.</p>

<p class="author1">As a result, ensuring your web pages look the same on all devices can sometimes be achieved only through tedious JavaScript code that accounts for all the discrepancies across the range of browsers and versions released over recent years. Yes, much has been done to resolve these differences, but even today every responsive site I create still needs exceptions to handle the different browsers, unless I use a framework, as I’m sure many would agree.</p>

<p class="author1">To<a contenteditable="false" data-primary="asynchronous communication" data-secondary="libraries facilitating" data-type="indexterm" id="idm45694685612728" class="calibre6"/> fill these gaps, a number of libraries of functions (many of which also provide easy hooks into the DOM) have been developed to minimize the differences between browsers and to facilitate asynchronous communication and event and animation handling, such as the subject of this chapter, jQuery.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>

<p class="author1">Sometimes<a contenteditable="false" data-primary="jQuery" data-secondary="vs. JavaScript-based solutions" data-secondary-sortas="JavaScript-based solutions" data-type="indexterm" id="idm45694685609912" class="calibre6"/><a contenteditable="false" data-primary="JavaScript" data-secondary="vs. jQuery-based solutions" data-secondary-sortas=" jQuery-based solutions" data-type="indexterm" id="idm45694685608200" class="calibre6"/> there is a simple JavaScript-based solution to the problem you are trying to solve. One way to check whether this is the case is to make a search at <a href="http://youmightnotneedjquery.com" class="calibre6">youmightnotneedjquery.com</a>, which will let you know about any alternatives to jQuery that may actually be simpler in a particular situation.</p>
</div>

<section data-type="sect1" data-pdf-bookmark="Why jQuery?" class="calibre4"><div class="preface" id="why_jqueryquestion_mark">
<h1 class="calibre11">Why jQuery?</h1>

<p class="author1">With<a contenteditable="false" data-primary="browsers" data-secondary="cross-browser compatibility" data-type="indexterm" id="idm45694685603416" class="calibre6"/><a contenteditable="false" data-primary="cross-browser compatibility" data-type="indexterm" id="idm45694685601944" class="calibre6"/> jQuery, not only do you get a very high level of cross-browser compatibility, but you also have quick and easy access to HTML and DOM manipulation, special functions to interact directly with CSS, the ability to control events, powerful tools to create professional effects and animations, and functions for conducting asynchronous communications with the web server. jQuery is also the base for a wide range of plug-ins and other utilities.</p>

<p class="author1">Of course, you don’t <em class="hyperlink">need</em> to use jQuery, and some programming purists would never touch a library, preferring to create their own bespoke collections of functions (and there can be good reasons for this, such as not having to wait on others to correct bugs you find, implementing your own security features, and so on). But jQuery has definitely stood the test of time, and if you would like to take advantage of its gentle learning curve and be developing quality web pages as quickly as possible, this chapter will show how you can get started using it.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>

<p class="author1">Important<a contenteditable="false" data-primary="React JavaScript Library" data-type="indexterm" id="idm45694685597816" class="calibre6"/><a contenteditable="false" data-primary="Angular" data-type="indexterm" id="idm45694685596664" class="calibre6"/><a contenteditable="false" data-primary="Vue" data-type="indexterm" id="idm45694685595560" class="calibre6"/> as jQuery is, being used on perhaps 90% of production websites, there are new kids on the block that have been drawing a lot of praise and attention. And because technology changes fast, as well as understanding jQuery, you need to keep up with newly surfacing technologies that could supersede the ones you are currently using. In my opinion React, Angular, and Vue are a few of these technologies as they offer new, interesting, and powerfully scalable ways to enhance JavaScript (as you would expect, having been created by Facebook, Google, and ex-Google staff, respectively). Although we cannot fill this book with JavaScript frameworks, it is important to keep abreast of the main ones, so I have chosen to also introduce you to React in <a data-type="xref" href="ch24.xhtml#introduction_to_react" class="calibre6">Chapter 24</a>, as I believe it is the framework you are likely to come into contact with most frequently, although you may wish to check out Angular, too, for completeness.<a contenteditable="false" data-primary="" data-startref="JQbene22" data-type="indexterm" id="idm45694685592424" class="calibre6"/></p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Including jQuery" class="calibre4"><div class="preface" id="including_jquery">
<h1 class="calibre11">Including jQuery</h1>

<p class="author1">There<a contenteditable="false" data-primary="jQuery" data-secondary="including in web pages" data-type="indexterm" id="JQinclude21" class="calibre6"/> are two ways to include jQuery in your web pages. You can go to the <a href="https://code.jquery.com/jquery/" class="calibre6">download page</a>, download the version you need, upload it to your web server, and reference it from a <code class="calibre15">&lt;script&gt;</code> tag in your HTML files. Or you can take advantage of a free<a contenteditable="false" data-primary="CDNs (content delivery networks)" data-type="indexterm" id="idm45694685586072" class="calibre6"/> content delivery network (CDN) and simply link to the version you require.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">jQuery is released under the terms of the MIT license, which places almost no restrictions on what you can do with it. You are free to use any jQuery project in any other project (even commercial projects) as long as the copyright header is left intact.</p>
</div>

<section data-type="sect2" data-pdf-bookmark="Choosing the Right Version" class="calibre4"><div class="preface" id="choosing_the_right_version">
<h2 class="calibre28">Choosing the Right Version</h2>

<p class="author1">Before<a contenteditable="false" data-primary="jQuery" data-secondary="version selection" data-type="indexterm" id="jQvers21" class="calibre6"/> deciding whether to download and host jQuery directly or to use a CDN, you must pick a version of jQuery. In most cases this is straightforward, because you’ll simply opt for the latest release. However, if you are targeting particular browsers, or if you are maintaining a legacy website that relies on a particular version of jQuery, the latest one may not be right for you.</p>

<p class="author1">Unlike most software, where you simply download and install the newest available version, jQuery has evolved over time to take account of the changing dynamics in the market of differing browser versions, with different features and bugs.</p>

<p class="author1">At the same time, improvements to jQuery have been made that might make newer versions operate differently on sites that have been specially tailored to a particular version (and the quirks surrounding it).</p>

<p class="author1">Of course, each newer version is an improvement over the previous one and is more and more likely to cover all the bases. But where identical operation is critical for a website, until you have fully tested a new version, it is often best to stick with an earlier one.</p>

<section data-type="sect3" data-pdf-bookmark="Different flavors of jQuery" class="calibre4"><div class="preface" id="to_ie_or_not_to_ie">
<h3 class="calibre43">Different flavors of jQuery</h3>

<p class="author1">There are now three branches of jQuery, called 1.x, 2.x, and 3.x, each designed for different environments.</p>

<p class="author1">Version 1.x was the first stable release of jQuery. This release supports older web browsers that aren’t even supported by their respective developers any longer. If you expect a large number of visitors with older web browsers, this is the version to go for (as I write, version 1.12 is probably the best).</p>

<p class="author1">Version 2.x dropped support for Internet Explorer 6–8 to increase jQuery’s overall performance and reduce the library’s file size. It is faster and smaller than version 1.x but doesn’t support older web browsers. Since Microsoft dropped support for Windows XP, it may be safe to assume that your visitors will be using a browser compatible with version 2.x, unless you know otherwise.</p>

<p class="author1">If you need to support older browsers like Internet Explorer 6–8, Opera 12.1x, or Safari 5.1+, the jQuery developers recommend using version 1.12. For full details on the different versions supported, please refer to the <a href="http://jquery.com/browser-support" class="calibre6">website</a>. In this edition of the book, I have settled on version 3.5.1.</p>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Compressed or editable" class="calibre4"><div class="preface" id="compressed_or_editable">
<h3 class="calibre43">Compressed or editable</h3>

<p class="author1">You also must decide whether to use a version of jQuery that has been minified (compressed in size to minimize bandwidth and decrease loading time) or an uncompressed version (perhaps because you want to make an edit to it yourself—which you are fully entitled to do). Generally, a minified version is best, but most web servers support <em class="hyperlink">gzip</em> for on-the-fly compression and decompression, so this is becoming less important (although minification does remove comments too).<a contenteditable="false" data-primary="" data-startref="jQvers21" data-type="indexterm" id="idm45694685569624" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Downloading" class="calibre4"><div class="preface" id="downloading">
<h2 class="calibre28">Downloading</h2>

<p class="author1">The<a contenteditable="false" data-primary="jQuery" data-secondary="obtaining" data-type="indexterm" id="JQobt21" class="calibre6"/> most recent released version of jQuery is available in both uncompressed and minified forms on the <a href="http://jquery.com/download" class="calibre6">download page</a>. You can also find all of the past releases on the <a href="https://code.jquery.com/jquery/" class="calibre6">jQuery CDN</a>. The slim versions of jQuery that appear on the download page omit the asynchronous communication functions to save on space, so you should avoid these if you wish to make use of any Ajax functionality using jQuery.</p>

<p class="author1">All you need to do is choose the version you need, right-click the link displayed alongside it, and save it to your hard disk. From there, you can upload it to your web server and then include it within <code class="calibre15">&lt;script&gt;</code> tags, like this (for the minified version of release 3.5.1):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code> <code class="n">src</code><code class="o">=</code><code class="s">'http://myserver.com/jquery-3.5.1.min.js'</code><code class="o">&gt;&lt;</code><code class="err">/script&gt;</code></pre>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">If you have never used jQuery before (and have no special requirements), then just download the latest minified version, or link to it via a CDN, as described in the following section.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using a Content Delivery Network" class="calibre4"><div class="preface" id="using_a_content_delivery_network">
<h2 class="calibre28">Using a Content Delivery Network</h2>

<p class="author1">Several<a contenteditable="false" data-primary="CDNs (content delivery networks)" data-type="indexterm" id="idm45694685501000" class="calibre6"/> CDNs support jQuery. If you use one of them, you can save yourself the <span class="keep-together">hassle</span> of having to download new versions and then upload them to your server by simply linking directly to the URLs supplied by these networks.</p>

<p class="author1">Not only that, but they provide this service free of charge, and usually on high-capacity backbones that are probably the fastest in the world. Additionally, CDNs usually hold their content in a number of different geographic locations and then supply the required file from the server closest to a user, ensuring the quickest possible delivery.</p>

<p class="author1">Overall, if you don’t need to modify the jQuery source code (requiring you to host it on your own web servers), and your users are certain to have a live internet connection, using a CDN is probably the way to go. And it’s very easy. All you need to know is the filename you wish to access and the root folder the CDN is using. For example, all current and previous versions can be accessed through the CDN that jQuery uses, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code> <code class="n">src</code><code class="o">=</code><code class="s">'http://code.jquery.com/jquery-3.5.1.min.js'</code><code class="o">&gt;&lt;</code><code class="err">/script&gt;</code></pre>

<p class="author1">The base directory is at <em class="hyperlink">http://code.jquery.com/</em>, and you simply follow this with the name of the file you need to include (in this case, <em class="hyperlink">jquery-3.5.1.min.js</em>).</p>

<p class="author1">Both Microsoft and Google offer jQuery on their networks, so you can also include it in either of the following ways:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code> <code class="n">src</code><code class="o">=</code><code class="s">'http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js'</code><code class="o">&gt;&lt;</code><code class="err">/script&gt;</code>
<code class="o">&lt;</code><code class="n">script</code> <code class="n">src</code><code class="o">=</code><code class="s">'http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js'</code><code class="o">&gt;</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>

<p class="author1">In the case of the <a href="http://ajax.aspnetcdn.com" class="calibre6">Microsoft CDN</a>, you should begin the URL with the base directory of <em class="hyperlink">ajax.aspnetcdn.com/ajax/jQuery/</em> and then follow that with the filename you require.</p>

<p class="author1">For Google, however, you must split the filename (for example, <em class="hyperlink">jquery-3.5.1.min.js</em>) into a folder and filename (like this: <em class="hyperlink">3.5.1/jquery.min.js</em>). Then precede that with <em class="hyperlink">ajax.googleapis.com/ajax/libs/jquery/</em>.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">An added benefit of using a CDN is that most other websites also do this, so jQuery may well already be cached in the user’s browser and might not even require redelivery. With 90% or more of websites using jQuery, this can be a lot of valuable bandwidth and time saved.<a contenteditable="false" data-primary="" data-startref="JQobt21" data-type="indexterm" id="idm45694685450264" class="calibre6"/></p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Customizing jQuery" class="calibre4"><div class="preface" id="customizing_jquery">
<h2 class="calibre28">Customizing jQuery</h2>

<p class="author1">If<a contenteditable="false" data-primary="jQuery" data-secondary="customizing" data-type="indexterm" id="idm45694685417688" class="calibre6"/> it’s absolutely critical that you keep the amount of data downloaded by a web page to the minimum, then you may still be able to use jQuery by making a special build of it that includes only the features your website will be using. You won’t be able to rely on a CDN to deliver it, but in this circumstance you probably weren’t planning on using one anyway.</p>

<p class="author1">To create your own custom build of jQuery, try <a href="http://projects.jga.me/jquery-builder" class="calibre6">jQuery Builder</a>. Simply check the boxes you want and uncheck those that you don’t. The bespoke version of jQuery will then be loaded into a separate tab or window, from where you can copy and paste it as required.<a contenteditable="false" data-primary="" data-startref="JQinclude21" data-type="indexterm" id="idm45694685414408" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="jQuery Syntax" class="calibre4"><div class="preface" id="jquery_syntax">
<h1 class="calibre11">jQuery Syntax</h1>

<p class="author1">The<a contenteditable="false" data-primary="jQuery" data-secondary="syntax" data-type="indexterm" id="JQsyntax21" class="calibre6"/><a contenteditable="false" data-primary="syntax (jQuery)" data-type="indexterm" id="syt21" class="calibre6"/><a contenteditable="false" data-primary="$ (dollar) symbol" data-secondary="in jQuery" data-type="indexterm" id="Dollarjq21" class="calibre6"/><a contenteditable="false" data-primary="dollar symbol ($)" data-secondary="in jQuery" data-type="indexterm" id="DSjq22" class="calibre6"/> most striking thing about jQuery to people who are new to it is the <code class="calibre15">$</code> symbol, which acts as the jQuery factory method—the main means of access into the <span class="keep-together">framework</span>. It was chosen because the symbol is legal in JavaScript, is short, and is different from customary variable, object, or function/method names.</p>

<p class="author1">This<a contenteditable="false" data-primary="jQuery function" data-type="indexterm" id="jqfunc22" class="calibre6"/> symbol takes the place of making a call to the <code class="calibre15">jQuery</code> function (which you can also do if you wish). The idea is to keep your code short and sweet and to save on unnecessary extra typing each time you access jQuery. It also immediately shows other developers new to your code that jQuery (or a similar library) is in use.</p>

<section data-type="sect2" data-pdf-bookmark="A Simple Example" class="calibre4"><div class="preface" id="simple_example">
<h2 class="calibre28">A Simple Example</h2>

<p class="author1">At its simplest, you access jQuery by typing a <code class="calibre15">$</code> symbol, followed by a selector in parentheses, and then a period and a method to apply to the selected element(s).</p>

<p class="author1">For example, to change the font family of all paragraphs to monospace, you could use this statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'p'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-family'</code><code class="p">,</code> <code class="s">'monospace'</code><code class="p">)</code></pre>

<p class="author1">Or to add a border to a <code class="calibre15">&lt;code&gt;</code> element, you could use this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'code'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'border'</code><code class="p">,</code> <code class="s">'1px solid #aaa'</code><code class="p">)</code></pre>

<p class="author1">Let’s look at that as part of a complete example (see <a data-type="xref" href="#simple_jquery_example" class="calibre6">Example 22-1</a>, where the jQuery parts are highlighted in bold).</p>

<div data-type="example" id="simple_jquery_example" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-1. </span>A simple jQuery example</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">First jQuery Example</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">
    </code><strong class="calibre31"><code class="na1">&lt;script </code><code class="na1">src=</code><code class="s2">'jquery-3.5.1.min.js'</code><code class="na1">&gt;</code><code class="na1">&lt;/script&gt;</code></strong><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    The jQuery library uses either the </code><code class="nt">&lt;code</code><code class="nt">&gt;</code><code class="calibre15">$()</code><code class="nt">&lt;/code&gt;</code><code class="calibre15">
      or </code><code class="nt">&lt;code</code><code class="nt">&gt;</code><code class="calibre15">jQuery()</code><code class="nt">&lt;/code&gt;</code><code class="calibre15"> function names.
    </code><code class="nt">&lt;script</code><code class="nt">&gt;</code><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'code'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">css</code><code class="p1">(</code><code class="s2">'border'</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'1px solid #aaa'</code><code class="p1">)</code></strong><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">When you load this example into a browser, the result will be similar to <a data-type="xref" href="#modifying_elements_with_jquery" class="calibre6">Figure 22-1</a>. Of course, this particular instruction simply replicates what you can do with normal CSS, but the idea is to illustrate jQuery syntax, so I’m keeping things simple for now.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Another way of issuing this command is by calling the <code class="calibre15">jQuery</code> function (which works in the same way as <code class="calibre15">$</code>), like this:</p>

<p class="author1"><code class="calibre15">jQuery('code').css('border', '1px solid #aaa')</code></p>
</div>

<figure class="calibre23"><div id="modifying_elements_with_jquery" class="figure"><img alt="Modifying elements with jQuery" src="Images/pmj6_2201.png" class="calibre128"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-1. </span>Modifying elements with jQuery</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Avoiding Library Conflicts" class="calibre4"><div class="preface" id="avoiding_library_conflict">
<h2 class="calibre28">Avoiding Library Conflicts</h2>

<p class="author1">If<a contenteditable="false" data-primary="noConflict method (jQuery)" data-type="indexterm" id="idm45694685265016" class="calibre6"/><a contenteditable="false" data-primary="jQuery" data-secondary="avoiding library conflicts" data-type="indexterm" id="idm45694685263912" class="calibre6"/> you use other libraries alongside jQuery, you may find that they define their own <code class="calibre15">$</code> functions. To resolve this issue, you can call the <code class="calibre15">noConflict</code> method on the symbol, which releases control so that the other library can take over, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">.</code><code class="n">noConflict</code><code class="p">()</code></pre>

<p class="author1">Once you do this, to access jQuery thereafter, you must call the <code class="calibre15">jQuery</code> function. Or you can replace the <code class="calibre15">$</code> symbol with an object name of your choice, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">jq</code> <code class="o">=</code> <code class="n">$</code><code class="p">.</code><code class="n">noConflict</code><code class="p">()</code></pre>

<p class="author1">Now you can use the keyword <code class="calibre15">jq</code> to call jQuery wherever you had previously used <code class="calibre15">$</code>.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">To distinguish and keep track of jQuery objects separately from standard element objects, some developers prefix a <code class="calibre15">$</code> to any object created with jQuery (so that they end up looking like PHP variables!).<a contenteditable="false" data-primary="" data-startref="JQsyntax21" data-type="indexterm" id="idm45694685206232" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="syt21" data-type="indexterm" id="idm45694685204856" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="Dollarjq21" data-type="indexterm" id="idm45694685216168" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="DSjq22" data-type="indexterm" id="idm45694685214792" class="calibre6"/></p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Selectors" class="calibre4"><div class="preface" id="selectors">
<h1 class="calibre11">Selectors</h1>

<p class="author1">Now<a contenteditable="false" data-primary="jQuery" data-secondary="selectors" data-type="indexterm" id="JQselector21" class="calibre6"/><a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="using" data-type="indexterm" id="idm45694685185672" class="calibre6"/> that you’ve seen how easy it is to include jQuery in a web page and access its features, let’s move on to looking at its selectors, which (I’m sure you’ll be pleased to learn) work in exactly the same way as in CSS. In fact, selectors are at the heart of how most of jQuery operates.</p>

<p class="author1">All you have to do is think about how you would style one or more elements using CSS, and then you can use the same selector(s) to apply jQuery operations on these selected elements. This means you can make use of element selectors, ID selectors, class selectors, and any combinations thereof.</p>

<section data-type="sect2" data-pdf-bookmark="The css Method" class="calibre4"><div class="preface" id="css_method">
<h2 class="calibre28">The css Method</h2>

<p class="author1">To<a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="css method" data-type="indexterm" id="idm45694685181016" class="calibre6"/><a contenteditable="false" data-primary="$ () function" data-secondary="in jQuery" data-type="indexterm" id="idm45694685179608" class="calibre6"/> explain jQuery’s use of selectors, let’s first look at one of the more fundamental jQuery methods, <code class="calibre15">css</code>, with which you can dynamically alter any CSS property. It takes two arguments, the property name to be accessed and a value to be applied, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">css</code><code class="p">(</code><code class="s">'font-family'</code><code class="p">,</code> <code class="s">'Arial'</code><code class="p">)</code></pre>

<p class="author1">As you will see in the following sections, you cannot use this method on its own; you must append it to a jQuery selector, which will select one or more elements whose properties should be changed by the method. The following, which sets the content of all <code class="calibre15">&lt;p&gt;</code> elements to display with full justification, is an example:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'p'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'text-align'</code><code class="p">,</code> <code class="s">'justify'</code><code class="p">)</code></pre>

<p class="author1">You can also use the <code class="calibre15">css</code> method to return (rather than set) a computed value by supplying only a property name (and no second argument). In this case, the value of the first element that matches the selector is returned. For example, the following will return the text color of the element with the ID of <code class="calibre15">elem</code> as an <code class="calibre15">rgb</code> method:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">color</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'color'</code><code class="p">)</code></pre>

<p class="author1">Remember that the value returned is the <em class="hyperlink">computed</em> value. In other words, jQuery will compute and return the value as used by the browser at the moment the method is called, not the original value that may have been assigned to the property via a stylesheet or in any other way.</p>

<p class="author1">So, if the text color is blue (for example), the value assigned to the variable <code class="calibre15">color</code> in the preceding statement will be <code class="calibre15">rgb(0, 0, 255)</code>, even if the color was originally set with the color name <code class="calibre15">blue</code>, or the hex strings <code class="calibre15">#00f</code> or <code class="calibre15">#0000ff</code>. This computed value, though, will always be in a form that can be assigned back to the element (or any other element) via the second argument of the <code class="calibre15">css</code> method.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">Be wary of any computed dimensions returned by this method because, depending on the current <code class="calibre15">box-sizing</code> setting (see <a data-type="xref" href="ch20.xhtml#advanced_css_with_css3" class="calibre6">Chapter 20</a>), they may or may not necessarily be what you expect. When you need to get or set widths and heights without consideration for <code class="calibre15">box-sizing</code>, you should use the <code class="calibre15">width</code> and <code class="calibre15">height</code> methods (and their siblings), as described in the section <a data-type="xref" href="#modifying_dimensions" class="calibre6">“Modifying Dimensions”</a>.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The Element Selector" class="calibre4"><div class="preface" id="element_selector">
<h2 class="calibre28">The Element Selector</h2>

<p class="author1">To<a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="element selector" data-type="indexterm" id="idm45694685077736" class="calibre6"/> select an element to be manipulated by jQuery, just list its name within the parentheses following the <code class="calibre15">$</code> symbol (or jQuery function name). For example, if you wanted to change the background color of all <code class="calibre15">&lt;blockquote&gt;</code> elements, you could use a statement such as the<a contenteditable="false" data-primary="" data-startref="jqfunc22" data-type="indexterm" id="idm45694685075128" class="calibre6"/> following:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'blockquote'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'lime'</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The ID Selector" class="calibre4"><div class="preface" id="id_selector-id00110">
<h2 class="calibre28">The ID Selector</h2>

<p class="author1">You<a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="ID selector" data-type="indexterm" id="idm45694685047288" class="calibre6"/> can also refer to elements by their IDs if you place a <code class="calibre15">#</code> character in front of the ID name. So, to add a border to the element with the ID of <code class="calibre15">advert</code> (for example), you could use this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#advert'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'border'</code><code class="p">,</code> <code class="s">'3px dashed red'</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The Class Selector" class="calibre4"><div class="preface" id="class_selector-id00111">
<h2 class="calibre28">The Class Selector</h2>

<p class="author1">And<a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="class selector" data-type="indexterm" id="idm45694685032136" class="calibre6"/> you can manipulate groups of elements according to the class they use. For example, to underline all elements that use the class <code class="calibre15">new</code>, you could use this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'.new'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code> <code class="s">'underline'</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Combining Selectors" class="calibre4"><div class="preface" id="combining_selectors">
<h2 class="calibre28">Combining Selectors</h2>

<p class="author1">Just<a contenteditable="false" data-primary="selectors (jQuery)" data-secondary="combining" data-type="indexterm" id="idm45694684995048" class="calibre6"/> as with CSS, you may combine selectors into a single jQuery selection using commas, as with the following example:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'blockquote, #advert, .new'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1"><a data-type="xref" href="#using_jquery_with_different_selectors" class="calibre6">Example 22-2</a> brings all these types of selectors together into a single example (with the jQuery statements shown in bold), the result of which you can see in <a data-type="xref" href="#manipulating_multiple_elements" class="calibre6">Figure 22-2</a>.</p>

<div data-type="example" id="using_jquery_with_different_selectors" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-2. </span>Using jQuery with different selectors</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">Second jQuery Example</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;blockquote</code><code class="nt">&gt;</code><code class="calibre15">Powerful and flexible as JavaScript is, with a plethora of
      built-in functions, it is still necessary to use additional code for
      simple things that cannot be achieved natively or with CSS, such as
      animations, event handling, and asynchronous communication.</code><code class="nt">&lt;/blockquote&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'advert'</code><code class="nt">&gt;</code><code class="calibre15">This is an ad</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;p</code><code class="nt">&gt;</code><code class="calibre15">This is my </code><code class="nt">&lt;span</code><code class="calibre15"> </code><code class="na">class=</code><code class="s">'new'</code><code class="nt">&gt;</code><code class="calibre15">new</code><code class="nt">&lt;/span&gt;</code><code class="calibre15"> website</code><code class="nt">&lt;/p&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script</code><code class="nt">&gt;</code><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'blockquote'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">css</code><code class="p1">(</code><code class="s2">'background'</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'lime'</code><code class="p1">)</code></strong><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'#advert'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">css</code><code class="p1">(</code><code class="s2">'border'</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'3px dashed red'</code><code class="p1">)</code></strong><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'.new'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">css</code><code class="p1">(</code><code class="s2">'text-decoration'</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'underline'</code><code class="p1">)</code></strong><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'blockquote, #advert, .new'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">css</code><code class="p1">(</code><code class="s2">'font-weight'</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'bold'</code><code class="p1">)</code></strong><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="manipulating_multiple_elements" class="figure"><img alt="Manipulating multiple elements" src="Images/pmj6_2202.png" class="calibre129"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-2. </span>Manipulating multiple elements</h6>
</div></figure>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Handling Events" class="calibre4"><div class="preface" id="handling_events">
<h1 class="calibre11">Handling Events</h1>

<p class="author1">If<a contenteditable="false" data-primary="" data-startref="JQselector21" data-type="indexterm" id="idm45694684881208" class="calibre6"/><a contenteditable="false" data-primary="jQuery" data-secondary="event handling" data-type="indexterm" id="idm45694684879800" class="calibre6"/><a contenteditable="false" data-primary="event handling" data-secondary="in jQuery" data-type="indexterm" id="idm45694684884936" class="calibre6"/> all jQuery could do was alter CSS styles, it wouldn’t be a great deal of help—but of course, it can do far more than that. Let’s further investigate by seeing how it handles events.</p>

<p class="author1">As you will recall, most events are triggered by user interaction: when a mouse passes over an element, the mouse button is clicked or a key is pressed. But there are also other events that can be triggered, such as when a document completes loading.</p>

<p class="author1">With jQuery, it’s a simple matter to attach your own code to these events in a safe way that doesn’t block other code from also gaining access to them. For example, here’s how to get jQuery to respond to an element being clicked:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#clickme'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'You clicked the button!'</code><code class="p">)</code>
<code class="p">})</code></pre>

<p class="author1">When the element with the ID of <code class="calibre15">clickme</code> is clicked, the <code class="calibre15">innerHTML</code> property of the element with the ID of <code class="calibre15">result</code> is updated via the jQuery <code class="calibre15">html</code> function.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">jQuery objects (created with either the <code class="calibre15">$</code> or <code class="calibre15">jQuery</code> methods) are <em class="hyperlink">not</em> the same as JavaScript objects created with <code class="calibre15">getElementById</code>. In plain JavaScript, you can use a statement like <code class="calibre15">object = <span class="keep-together">document.getElementById('result')</span></code> followed by (for example) <code class="calibre15">object.innerHTML = 'something'</code>. But in the preceding example, <code class="calibre15">$('#result').innerHTML</code> would not work, because <code class="calibre15">innerHTML</code> is not a property of a jQuery object—hence the use of the jQuery method <code class="calibre15">html</code> to achieve the required result.</p>
</div>

<p class="author1"><a data-type="xref" href="#processing_an_event" class="calibre6">Example 22-3</a> fleshes out the idea; you can see it running in <a data-type="xref" href="#processing_a_click_event" class="calibre6">Figure 22-3</a>.</p>

<div data-type="example" id="processing_an_event" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-3. </span>Processing an event</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>jQuery Events<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'clickme'</code><code class="nt">&gt;</code>Click Me<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;p</code> <code class="na">id=</code><code class="s">'result'</code><code class="nt">&gt;</code>I am a paragraph<code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#clickme'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'You clicked the button!'</code><code class="p">)</code>
      <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="processing_a_click_event" class="figure"><img alt="Processing a click event" src="Images/pmj6_2203.png" class="calibre130"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-3. </span>Processing a click event</h6>
</div></figure>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">When accessing an event with jQuery, omit the <code class="calibre15">on</code> prefix that you would use in standard JavaScript. So, for example, the <code class="calibre15">onmouseover</code> event name becomes the <code class="calibre15">mouseover</code> function in jQuery, <code class="calibre15">onclick</code> becomes <code class="calibre15">click</code>, and so on.</p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Waiting Until the Document Is Ready" class="calibre4"><div class="preface" id="waiting_until_the_document_is_ready">
<h1 class="calibre11">Waiting Until the Document Is Ready</h1>

<p class="author1">Since<a contenteditable="false" data-primary="jQuery" data-secondary="ready method" data-type="indexterm" id="idm45694684676424" class="calibre6"/><a contenteditable="false" data-primary="ready method (jQuery)" data-type="indexterm" id="idm45694684675016" class="calibre6"/> jQuery is so closely related to the DOM in what it lets you achieve, more often than not you will need to wait until a web page has loaded before manipulating parts of it. Without jQuery, this can be achieved with the <code class="calibre15">onload</code> event, but there’s a more efficient, cross-browser jQuery method called <code class="calibre15">ready</code> that you can call to enable it at the earliest possible moment (even sooner than with <code class="calibre15">onload</code>). This means jQuery can get working on a page that much more quickly, and user-unfriendly delays are <span class="keep-together">minimized.</span></p>

<p class="author1">To make use of this feature, place your jQuery code within the following structure:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'document'</code><code class="p">).</code><code class="n">ready</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="c">// Your code goes here</code>
<code class="p">})</code></pre>

<p class="author1">The code will wait there until the document is ready, and only then will it be called by the <code class="calibre15">ready</code> method. In fact, there’s a shorter version you can use that takes even less typing, as shown in <a data-type="xref" href="#smallest_jquery_apostrophereadyapost" class="calibre6">Example 22-4</a>.</p>

<div data-type="example" id="smallest_jquery_apostrophereadyapost" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-4. </span>The smallest jQuery “ready” code encapsulation function</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="c">// Your code goes here</code>
<code class="p">})</code></pre>
</div>

<p class="author1">If you get used to encapsulating your jQuery statements in one of these two structures, you won’t encounter the types of errors that can be generated by trying to access the DOM too soon.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Alternatively, another approach is to always place your JavaScript at the <em class="hyperlink">end</em> of every HTML page so that it is executed only after the entire document has loaded. There is a secondary advantage too, in that this ensures the web page contents get priority with loading—thus, you may well see improvements in user experience.</p>

<p class="author1">The<a contenteditable="false" data-primary="end-of-page scripts" data-type="indexterm" id="idm45694684652248" class="calibre6"/> only time end-of-page scripts may not be a good idea is if a document could appear to be ready when it isn’t, or if all external stylesheets have not yet loaded (which can really be identified only by testing), causing users to think they can interact with it before your script is ready. In such cases, implement the <code class="calibre15">ready</code> function and all will be well. In fact, if in doubt, place your script at the page end <em class="hyperlink">and</em> place its jQuery calls within the <code class="calibre15">ready</code> function, and you’ll get the best of both worlds.</p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Event Functions and Properties" class="calibre4"><div class="preface" id="event_functions_and_properties">
<h1 class="calibre11">Event Functions and Properties</h1>

<p class="author1">You’ve<a contenteditable="false" data-primary="jQuery" data-secondary="event functions and properties" data-type="indexterm" id="JQefunc21" class="calibre6"/><a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="documentation" data-type="indexterm" id="idm45694684644792" class="calibre6"/> just seen the <code class="calibre15">ready</code> event method, but you can access several dozen jQuery event methods and associated properties (far too many to detail here). However, the following are some of the ones that are more commonly used, and they’ll get you started for most projects. For a comprehensive summary of all available events, please see the <a href="http://api.jquery.com/category/events" class="calibre6">documentation</a>.</p>

<section data-type="sect2" data-pdf-bookmark="The blur and focus Events" class="calibre4"><div class="preface" id="blur_and_focus_events">
<h2 class="calibre28">The blur and focus Events</h2>

<p class="author1">The <code class="calibre15">blur</code> event<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="blur and focus" data-type="indexterm" id="idm45694684581656" class="calibre6"/> triggers when focus is removed from an element, causing it to blur, and is a good partner for the <code class="calibre15">focus</code> event. The <code class="calibre15">blur</code> and <code class="calibre15">focus</code> methods can be used to add a handler to the event. They will trigger the event if you omit any arguments from the method’s parentheses.</p>

<p class="author1">In <a data-type="xref" href="#using_the_focus_and_blur_events" class="calibre6">Example 22-5</a>, there are four input fields. The first is given immediate focus with a quick call to the <code class="calibre15">focus</code> method, applying it to the element with the ID of <code class="calibre15">first</code>. Then a pair of handlers is added to all <code class="calibre15">input</code> elements. The <code class="calibre15">focus</code> handler sets their background to yellow when focus is given, and the <code class="calibre15">blur</code> handler sets their background to light gray when focus is removed (or blurred).</p>

<div data-type="example" id="using_the_focus_and_blur_events" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-5. </span>Using the <code class="calibre15">focus</code> and <code class="calibre15">blur</code> events</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: blur<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2&gt;</code>Click in and out of these fields<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;input</code> <code class="na">id=</code><code class="s">'first'</code><code class="nt">&gt;</code> <code class="nt">&lt;input&gt;</code> <code class="nt">&lt;input&gt;</code> <code class="nt">&lt;input&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#first'</code><code class="p">).</code><code class="n">focus</code><code class="p">()</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'input'</code><code class="p">).</code><code class="n">focus</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'#ff0'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'input'</code><code class="p">)</code> <code class="p">.</code><code class="n">blur</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'#aaa'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">You are allowed to include whitespace characters between the closing parenthesis of a method and the period operator used to attach another method to it (and after the period too, if you like), as in the previous example where I have right-aligned the <code class="calibre15">blur</code> event name under <code class="calibre15">focus</code>, to help the rest of the statements also line up in columns.</p>
</div>

<p class="author1">In <a data-type="xref" href="#attaching_to_blur_and_focus_events" class="calibre6">Figure 22-4</a>, you can see how this code gives any input fields that have ever had focus a light-gray background color. If one currently has focus, its background color is set to yellow, while unvisited fields remain with a white background color.</p>

<figure class="calibre23"><div id="attaching_to_blur_and_focus_events" class="figure"><img alt="Attaching to blur and focus events" src="Images/pmj6_2204.png" class="calibre131"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-4. </span>Attaching event handlers to the <code class="calibre15">blur</code> and <code class="calibre15">focus</code> events</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The this Keyword" class="calibre4"><div class="preface" id="this_keyword-id00112">
<h2 class="calibre28">The this Keyword</h2>

<p class="author1">This<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="this keyword" data-type="indexterm" id="idm45694684463096" class="calibre6"/><a contenteditable="false" data-primary="this keyword (jQuery)" data-type="indexterm" id="idm45694684461720" class="calibre6"/> example also serves to illustrate the use of the <code class="calibre15">this</code> keyword. When an event is called, the element on which it was triggered is passed in the object <code class="calibre15">this</code>, which can then be given to the <code class="calibre15">$</code> method for processing. Or, since <code class="calibre15">this</code> is a standard JavaScript object (and not a jQuery object), it can be used as such. So, if you prefer, you could replace this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'#ff0'</code><code class="p">)</code></pre>

<p class="author1">with this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">this</code><code class="p">.</code><code class="n">style</code><code class="p">.</code><code class="n">background</code> <code class="o">=</code> <code class="s">'#ff0'</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The click and dblclick Events" class="calibre4"><div class="preface" id="click_and_dblclick_events">
<h2 class="calibre28">The click and dblclick Events</h2>

<p class="author1">You<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="click and dblclick" data-type="indexterm" id="idm45694684401560" class="calibre6"/> saw the <code class="calibre15">click</code> event a little earlier, but there’s an event for handling double-clicks too. To use either, attach the event’s method to a jQuery selection, and for its argument provide a jQuery method to invoke when the event triggers, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'.myclass'</code><code class="p">)</code>   <code class="p">.</code><code class="n">click</code><code class="p">(</code> <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">slideUp</code><code class="p">()</code> <code class="p">})</code>
<code class="n">$</code><code class="p">(</code><code class="s">'.myclass'</code><code class="p">).</code><code class="n">dblclick</code><code class="p">(</code> <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">hide</code><code class="p">()</code>    <code class="p">})</code></pre>

<p class="author1">Here I have opted to use inline anonymous functions, but you can use named ones instead if you like (just remember to supply only the name of the function, without parentheses, or it will be called at the wrong time). The <code class="calibre15">this</code> object will pass through as expected and be made available to the named function, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'.myclass'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="n">doslide</code><code class="p">)</code>

<code class="k">function</code> <code class="n">doslide</code><code class="p">()</code>
<code class="p">{</code>
  <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">slideUp</code><code class="p">()</code>
<code class="p">}</code></pre>

<p class="author1">The <code class="calibre15">slideUp</code> and <code class="calibre15">hide</code> methods are detailed in the section <a data-type="xref" href="#special_effects" class="calibre6">“Special Effects”</a>. For now, though, just try running <a data-type="xref" href="#attaching_to_the_click_and_dblclick_even" class="calibre6">Example 22-6</a> and either clicking or <span class="keep-together">double-clicking</span> the buttons to see how they sometimes disappear with an animation (using <code class="calibre15">slideUp</code>) and sometimes just vanish (using <code class="calibre15">hide</code>), as shown in <a data-type="xref" href="#button_3_has_been_clicked_once_and_is_sl" class="calibre6">Figure 22-5</a>.</p>

<div data-type="example" id="attaching_to_the_click_and_dblclick_even" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-6. </span>Attaching to the <code class="calibre15">click</code> and <code class="calibre15">dblclick</code> events</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: click <code class="err">&amp;</code> dblclick<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2&gt;</code>Click and double click the buttons<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">class=</code><code class="s">'myclass'</code><code class="nt">&gt;</code>Button 1<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">class=</code><code class="s">'myclass'</code><code class="nt">&gt;</code>Button 2<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">class=</code><code class="s">'myclass'</code><code class="nt">&gt;</code>Button 3<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">class=</code><code class="s">'myclass'</code><code class="nt">&gt;</code>Button 4<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">class=</code><code class="s">'myclass'</code><code class="nt">&gt;</code>Button 5<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'.myclass'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code>    <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">slideUp</code><code class="p">()</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'.myclass'</code><code class="p">).</code><code class="n">dblclick</code><code class="p">(</code> <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">hide</code><code class="p">()</code>    <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="button_3_has_been_clicked_once_and_is_sl" class="figure"><img alt="Button 3 has been clicked once and is sliding up" src="Images/pmj6_2205.png" class="calibre132"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-5. </span>Button 3 has been clicked once and is sliding up</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The keypress Event" class="calibre4"><div class="preface" id="keypress_event">
<h2 class="calibre28">The keypress Event</h2>

<p class="author1">From<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="keypress" data-type="indexterm" id="EFkey21" class="calibre6"/><a contenteditable="false" data-primary="keypress events" data-type="indexterm" id="idm45694684165208" class="calibre6"/> time to time, you’ll need better control over user keyboard interaction, particularly when processing complex forms or when writing games. For cases such as these, you can use the <code class="calibre15">keypress</code> method, which can be attached to anything that accepts keyboard input, such as an input field or even the document itself.</p>

<p class="author1">In <a data-type="xref" href="#intercepting_key_presses" class="calibre6">Example 22-7</a>, the method has been attached to the document in order to intercept all key presses. The result of running it can be seen in <a data-type="xref" href="#processing_key_presses_from_the_keyboard" class="calibre6">Figure 22-6</a>.</p>

<div data-type="example" id="intercepting_key_presses" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-7. </span>Intercepting key presses</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: keypress<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2&gt;</code>Press some keys<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'result'</code><code class="nt">&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="nb">document</code><code class="p">).</code><code class="n">keypress</code><code class="p">(</code><code class="k">function</code><code class="p">(</code><code class="n">event</code><code class="p">)</code>
      <code class="p">{</code>
        <code class="n">key</code> <code class="o">=</code> <code class="nb">String</code><code class="p">.</code><code class="n">fromCharCode</code><code class="p">(</code><code class="n">event</code><code class="p">.</code><code class="n">which</code><code class="p">)</code>

        <code class="k">if</code> <code class="p">(</code><code class="n">key</code> <code class="o">&gt;=</code> <code class="s">'a'</code> <code class="o">&amp;&amp;</code> <code class="n">key</code> <code class="o">&lt;=</code> <code class="s">'z'</code> <code class="o">||</code>
            <code class="n">key</code> <code class="o">&gt;=</code> <code class="s">'A'</code> <code class="o">&amp;&amp;</code> <code class="n">key</code> <code class="o">&lt;=</code> <code class="s">'Z'</code> <code class="o">||</code>
            <code class="n">key</code> <code class="o">&gt;=</code> <code class="s">'0'</code> <code class="o">&amp;&amp;</code> <code class="n">key</code> <code class="o">&lt;=</code> <code class="s">'9'</code><code class="p">)</code>
        <code class="p">{</code>
          <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'You pressed: '</code> <code class="o">+</code> <code class="n">key</code><code class="p">)</code>
          <code class="n">event</code><code class="p">.</code><code class="n">preventDefault</code><code class="p">()</code>
        <code class="p">}</code>
      <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="processing_key_presses_from_the_keyboard" class="figure"><img alt="Processing key presses from the keyboard" src="Images/pmj6_2206.png" class="calibre133"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-6. </span>Processing key presses from the keyboard</h6>
</div></figure>

<p class="author1">There are a few things of note in this example that you will need to bear in mind when writing your own keyboard handlers. For example, because browsers return differing values for this event, the <code class="calibre15">which</code> property of the <code class="calibre15">event</code> object is normalized by jQuery to return the same character codes across all browsers. So, this is where to look for which key was pressed.</p>

<p class="author1">Being a character code, though, the value in <code class="calibre15">which</code> is a number. You can turn it into a single-letter string by passing it through <code class="calibre15">String.fromCharCode</code>. You don’t have to do this, because you can easily respond to ASCII values in your code, but this method is useful when you need to work with characters.</p>

<p class="author1">Within the <code class="calibre15">if</code> block, when a key press is recognized, the example code inserts a simple statement to that effect into the <code class="calibre15">innerHTML</code> property of the <code class="calibre15">&lt;div&gt;</code> element with the ID of <code class="calibre15">result</code>.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">This is a good example of where the <code class="calibre15">document.write</code> function should not be used, because the document will have already fully loaded by the time the user presses a key. If <code class="calibre15">document.write</code> were called to display the information at this time, it would erase the current document. Writing into the HTML of an element instead is a perfect, nondestructive means of supplying user feedback, as explained in <a data-type="xref" href="ch14.xhtml#about_documentdotwrite" class="calibre6">“About document.write”</a> in <a data-type="xref" href="ch14.xhtml#exploring_javascript" class="calibre6">Chapter 14</a>.<a contenteditable="false" data-primary="" data-startref="EFkey21" data-type="indexterm" id="idm45694684021672" class="calibre6"/></p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Considerate Programming" class="calibre4"><div class="preface" id="considerate_programming">
<h2 class="calibre28">Considerate Programming</h2>

<p class="author1">When<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="passing keyboard interrupts" data-type="indexterm" id="idm45694684018328" class="calibre6"/><a contenteditable="false" data-primary="interrupts" data-secondary="passing keyboard interrupts" data-type="indexterm" id="idm45694684016984" class="calibre6"/> you are anticipating user input, you should decide which values you will respond to and then ignore all others, just in case another event handler needs access to them. This is considerate practice for any other utilities (and the main browser itself) that may also be running. For example, in the preceding example I have chosen to accept only the characters a–z, A–Z, and 0–9, ignoring all others.</p>

<p class="author1">There are two ways you can pass keyboard interrupts on to (or deny them from) other handlers. First, do nothing; when your code exits, other handlers will also see and be able to react to the same key presses. This can cause confusion, though, if multiple actions occur from a single key press.</p>

<p class="author1">Alternatively, when you don’t want the event to trigger any other handlers, you can make a call to the <code class="calibre15">preventDefault</code> method of <code class="calibre15">event</code>, which then keeps the event from “bubbling up” to other handlers.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">Be careful where you place your call to <code class="calibre15">preventDefault</code>—if it’s outside the part of the code in which you process the key presses, it will prevent all other keyboard events from bubbling up, and you may lock the user out of the browser (or at least out of using certain features).</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The mousemove Event" class="calibre4"><div class="preface" id="mousemove_event">
<h2 class="calibre28">The mousemove Event</h2>

<p class="author1">Some<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="mouse events" data-type="indexterm" id="EFmouse21" class="calibre6"/><a contenteditable="false" data-primary="mouse events" data-type="indexterm" id="mevent21" class="calibre6"/> of the most commonly intercepted events are for mouse handling. I’ve already covered mouse button clicks, but now let’s take a look at attaching to mouse movement events.</p>

<p class="author1">It’s time, I think, for a slightly more interesting example, so in <a data-type="xref" href="#intercepting_mouse_movement_and_mouse_ke" class="calibre6">Example 22-8</a> I have put together a rudimentary drawing program using jQuery in conjunction with an HTML5 canvas. Although the canvas is not fully explained until <a data-type="xref" href="ch26.xhtml#html5_canvas" class="calibre6">Chapter 26</a>, don’t worry because the code is very simple.</p>

<div data-type="example" id="intercepting_mouse_movement_and_mouse_ke" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-8. </span>Intercepting mouse movement and mouse key events</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: Mouse Handling<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
    <code class="nt">&lt;style&gt;</code>
      <code class="nf">#pad</code> <code class="p">{</code>
        <code class="k">background</code><code class="o">:</code><code class="mi">#def</code><code class="p">;</code>
        <code class="k">border</code>    <code class="o">:</code><code class="mi">1px</code> <code class="nb">solid</code> <code class="mi">#aaa</code><code class="p">;</code>
      <code class="p">}</code>
    <code class="nt">&lt;/style&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;canvas</code> <code class="na">id=</code><code class="s">'pad'</code> <code class="na">width=</code><code class="s">'480'</code> <code class="na">height=</code><code class="s">'320'</code><code class="nt">&gt;&lt;/canvas&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">canvas</code>  <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">)[</code><code class="mi">0</code><code class="p">]</code>
      <code class="n">context</code> <code class="o">=</code> <code class="n">canvas</code><code class="p">.</code><code class="n">getContext</code><code class="p">(</code><code class="s">"2d"</code><code class="p">)</code>
      <code class="n">pendown</code> <code class="o">=</code> <code class="k">false</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">).</code><code class="n">mousemove</code><code class="p">(</code><code class="k">function</code><code class="p">(</code><code class="n">event</code><code class="p">)</code>
      <code class="p">{</code>
        <code class="k">var</code> <code class="n">xpos</code> <code class="o">=</code> <code class="n">event</code><code class="p">.</code><code class="n">pageX</code> <code class="o">-</code> <code class="n">canvas</code><code class="p">.</code><code class="n">offsetLeft</code>
        <code class="k">var</code> <code class="n">ypos</code> <code class="o">=</code> <code class="n">event</code><code class="p">.</code><code class="n">pageY</code> <code class="o">-</code> <code class="n">canvas</code><code class="p">.</code><code class="n">offsetTop</code>

        <code class="k">if</code> <code class="p">(</code><code class="n">pendown</code><code class="p">)</code> <code class="n">context</code><code class="p">.</code><code class="n">lineTo</code><code class="p">(</code><code class="n">xpos</code><code class="p">,</code> <code class="n">ypos</code><code class="p">)</code>
        <code class="k">else</code>         <code class="n">context</code><code class="p">.</code><code class="n">moveTo</code><code class="p">(</code><code class="n">xpos</code><code class="p">,</code> <code class="n">ypos</code><code class="p">)</code>

        <code class="n">context</code><code class="p">.</code><code class="n">stroke</code><code class="p">()</code>
      <code class="p">})</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">).</code><code class="n">mousedown</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">pendown</code> <code class="o">=</code> <code class="k">true</code>  <code class="p">}</code> <code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">)</code>  <code class="p">.</code><code class="n">mouseup</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">pendown</code> <code class="o">=</code> <code class="k">false</code> <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">In <a data-type="xref" href="#capturing_mouse_movement_and_mouse_key_e" class="calibre6">Figure 22-7</a>, you can see how this fairly simple set of instructions can be used to create line drawings (well, if you have artistic ability, that is ☺). Here’s how it works. First, the program creates a <code class="calibre15">canvas</code> object by referencing the first (or zeroth) element of the jQuery selector, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">canvas</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">)[</code><code class="mi">0</code><code class="p">]</code></pre>

<figure class="calibre23"><div id="capturing_mouse_movement_and_mouse_key_e" class="figure"><img alt="Capturing mouse movement and mouse key events" src="Images/pmj6_2207.png" class="calibre134"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-7. </span>Capturing mouse movement and mouse key events</h6>
</div></figure>

<p class="author1">This is one way you can quickly take a jQuery object and extract a standard JavaScript element object. Another would be to use the <code class="calibre15">get</code> method, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">canvas</code>  <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">).</code><code class="n">get</code><code class="p">(</code><code class="mi">0</code><code class="p">)</code></pre>

<p class="author1">The two are interchangeable, but <code class="calibre15">get</code> has the edge because, without any argument passed, it will return all the element node objects from a jQuery object as an array.</p>

<p class="author1">Anyway, as you’ll learn in <a data-type="xref" href="ch26.xhtml#html5_canvas" class="calibre6">Chapter 26</a>, the canvas will be written using a special <code class="calibre15">context</code> object, which is now created:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">context</code> <code class="o">=</code> <code class="n">canvas</code><code class="p">.</code><code class="n">getContext</code><code class="p">(</code><code class="s">"2d"</code><code class="p">)</code></pre>

<p class="author1">There’s one more thing to initialize, which is a Boolean variable called <code class="calibre15">pendown</code> to track the status of the mouse button (initially <code class="calibre15">false</code> because the pen is up):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">pendown</code> <code class="o">=</code> <code class="k">false</code></pre>

<p class="author1">After this, the canvas (with the ID of <code class="calibre15">pad</code>) has its <code class="calibre15">mousemove</code> event intercepted by the anonymous function that follows, within which three sets of things happen:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">).</code><code class="n">mousemove</code><code class="p">(</code><code class="k">function</code><code class="p">(</code><code class="n">event</code><code class="p">)</code>
<code class="p">{</code>
  <code class="p">...</code>
<code class="p">})</code></pre>

<p class="author1">First, the <code class="calibre15">xpos</code> and <code class="calibre15">ypos</code> local variables (local because of the <code class="calibre15">var</code> keywords, although better practice these days is to use <code class="calibre15">let</code> in place of <code class="calibre15">var</code>) are assigned values representing the position of the mouse within the canvas area.</p>

<p class="author1">These values are taken from the jQuery <code class="calibre15">pageX</code> and <code class="calibre15">pageY</code> properties, which refer to the mouse pointer’s offset from the top-left-hand corner of the containing document. Therefore, since the canvas is itself offset slightly from that location, the <code class="calibre15">canvas</code> offset values (in <code class="calibre15">offsetLeft</code> and <code class="calibre15">offsetTop</code>) are subtracted from <code class="calibre15">pageX</code> and <code class="calibre15">pageY</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">var</code> <code class="n">xpos</code> <code class="o">=</code> <code class="n">event</code><code class="p">.</code><code class="n">pageX</code> <code class="o">-</code> <code class="n">canvas</code><code class="p">.</code><code class="n">offsetLeft</code>
<code class="k">var</code> <code class="n">ypos</code> <code class="o">=</code> <code class="n">event</code><code class="p">.</code><code class="n">pageY</code> <code class="o">-</code> <code class="n">canvas</code><code class="p">.</code><code class="n">offsetTop</code></pre>

<p class="author1">Now that we know where the mouse pointer is in relation to the canvas, the next pair of lines tests the value of <code class="calibre15">pendown</code>. If it is <code class="calibre15">true</code>, we know that the mouse button is being pressed, so a <code class="calibre15">lineTo</code> call is made to draw a line to the current location. Otherwise, the pen is up, and so <code class="calibre15">moveTo</code> is called to simply update the current location:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">if</code> <code class="p">(</code><code class="n">pendown</code><code class="p">)</code> <code class="n">context</code><code class="p">.</code><code class="n">lineTo</code><code class="p">(</code><code class="n">xpos</code><code class="p">,</code> <code class="n">ypos</code><code class="p">)</code>
<code class="k">else</code>         <code class="n">context</code><code class="p">.</code><code class="n">moveTo</code><code class="p">(</code><code class="n">xpos</code><code class="p">,</code> <code class="n">ypos</code><code class="p">)</code></pre>

<p class="author1">Then the <code class="calibre15">stroke</code> method is called to apply whichever drawing command was just made to the canvas. These five lines are all that is needed to handle drawing, but it’s still necessary to track the mouse button state, so the final two lines of code intercept the <code class="calibre15">mousedown</code> and <code class="calibre15">mouseup</code> events, setting <code class="calibre15">pendown</code> to <code class="calibre15">true</code> when the mouse button is pressed and <code class="calibre15">false</code> when it’s released:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">).</code><code class="n">mousedown</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">pendown</code> <code class="o">=</code> <code class="k">true</code>  <code class="p">}</code> <code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#pad'</code><code class="p">)</code>  <code class="p">.</code><code class="n">mouseup</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">pendown</code> <code class="o">=</code> <code class="k">false</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">In this example, you see the combination of three different event handlers working together to create a simple utility, using both local variables for internal expressions and global variables where an object or the state of something must be made available across multiple functions.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Other Mouse Events" class="calibre4"><div class="preface" id="other_mouse_events">
<h2 class="calibre28">Other Mouse Events</h2>

<p class="author1">The <code class="calibre15">mouseenter</code> and <code class="calibre15">mouseleave</code> events trigger whenever the mouse passes into an element or leaves it. No position values are supplied because the functions assume you simply want to make a Boolean decision about what to do when one of these events is triggered.</p>

<p class="author1">In <a data-type="xref" href="#detecting_the_mouse_entering_and_leaving" class="calibre6">Example 22-9</a>, a pair of anonymous functions is attached to these events, altering the HTML of an element accordingly, as shown in <a data-type="xref" href="#detecting_when_the_mouse_enters_and_leav" class="calibre6">Figure 22-8</a>.</p>

<div data-type="example" id="detecting_the_mouse_entering_and_leaving" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-9. </span>Detecting the mouse entering and leaving an element</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: Further Mouse Handling<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2</code> <code class="na">id=</code><code class="s">'test'</code><code class="nt">&gt;</code>Pass the mouse over me<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">).</code><code class="n">mouseenter</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Hey, stop tickling!'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">).</code><code class="n">mouseleave</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Where did you go?'</code><code class="p">)</code>   <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="detecting_when_the_mouse_enters_and_leav" class="figure"><img alt="Detecting when the mouse enters and leaves an element" src="Images/pmj6_2208.png" class="calibre135"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-8. </span>Detecting when the mouse enters and leaves an element</h6>
</div></figure>

<p class="author1">When the mouse enters the bounds of the selected element, that element’s <code class="calibre15">innerHTML</code> property is updated (with a call to <code class="calibre15">html</code>). Then, when the mouse leaves again, a further update is made to the element’s HTML.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Alternative Mouse Methods" class="calibre4"><div class="preface" id="alternative_mouse_methods">
<h2 class="calibre28">Alternative Mouse Methods</h2>

<p class="author1">A number of other jQuery mouse event functions are available to cover a wide range of circumstances, all of which are detailed in the <a href="https://tinyurl.com/jquerymouse" class="calibre6">mouse events documentation</a>. For example, you can use the following alternative <code class="calibre15">mouseover</code> and <code class="calibre15">mouseout</code> methods to achieve similar results to the code in the preceding section:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">).</code><code class="n">mouseover</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Cut it out!'</code><code class="p">)</code>         <code class="p">}</code> <code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">)</code> <code class="p">.</code><code class="n">mouseout</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Try it this time...'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">Or you could use the <code class="calibre15">hover</code> method to bind two handlers with a single function call, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">).</code><code class="n">hover</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Cut it out!'</code><code class="p">)</code>         <code class="p">},</code>
                 <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Try it this time...'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">If you are planning on creating <code class="calibre15">mouseover</code> and <code class="calibre15">mouseout</code> combined effects, clearly the <code class="calibre15">hover</code> method is the logical function to choose—but there’s also another way you can achieve the same result, which is <em class="hyperlink">chaining</em> (explained in the section <a data-type="xref" href="#method_chaining" class="calibre6">“Method chaining”</a>), using code like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#test'</code><code class="p">).</code><code class="n">mouseover</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Cut it out!'</code><code class="p">)</code>         <code class="p">}</code> <code class="p">)</code>
           <code class="p">.</code><code class="n">mouseout</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Try it this time...'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">Here the period operator at the start of the second statement attaches it to the first, creating a chain of methods.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">The preceding examples show how to capture mouse click, mouse movement, and keyboard events, and therefore they are mostly suitable for desktop environments—which is what jQuery is primarily targeted at. However, there is a version of jQuery for mobile devices that provides all the touch-handling event control you could wish for (and much more), called <a href="http://jquerymobile.com" class="calibre6">jQuery Mobile</a>. We’ll take a closer look at this in the next chapter.<a contenteditable="false" data-primary="" data-startref="mevent21" data-type="indexterm" id="idm45694683157960" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="EFmouse21" data-type="indexterm" id="idm45694683156584" class="calibre6"/></p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The submit Event" class="calibre4"><div class="preface" id="submit_event">
<h2 class="calibre28">The submit Event</h2>

<p class="author1">When<a contenteditable="false" data-primary="event functions and properties (jQuery)" data-secondary="submit" data-type="indexterm" id="idm45694683153112" class="calibre6"/><a contenteditable="false" data-primary="submit event (jQuery)" data-type="indexterm" id="idm45694683151736" class="calibre6"/> a form is submitted, you may want to perform some error checking on the data entered before it gets sent to the server. One way to do this is to intercept the <code class="calibre15">submit</code> event of the form, as in <a data-type="xref" href="#intercepting_the_submit_event_of_a_form" class="calibre6">Example 22-10</a>. <a data-type="xref" href="#checking_user_input_upon_submission" class="calibre6">Figure 22-9</a> shows the result of loading this document and then submitting the form with one or more fields left empty.</p>

<div data-type="example" id="intercepting_the_submit_event_of_a_form" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-10. </span>Intercepting the <code class="calibre15">submit</code> event of a form</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Events: submit<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;form</code> <code class="na">id=</code><code class="s">'form'</code><code class="nt">&gt;</code>
      First name: <code class="nt">&lt;input</code> <code class="na">id=</code><code class="s">'fname'</code> <code class="na">type=</code><code class="s">'text'</code> <code class="na">name=</code><code class="s">'fname'</code><code class="nt">&gt;&lt;br&gt;</code>
      Last name:  <code class="nt">&lt;input</code> <code class="na">id=</code><code class="s">'lname'</code> <code class="na">type=</code><code class="s">'text'</code> <code class="na">name=</code><code class="s">'lname'</code><code class="nt">&gt;&lt;br&gt;</code>
      <code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">'submit'</code><code class="nt">&gt;</code>
    <code class="nt">&lt;/form&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#form'</code><code class="p">).</code><code class="n">submit</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="k">if</code> <code class="p">(</code><code class="n">$</code><code class="p">(</code><code class="s">'#fname'</code><code class="p">).</code><code class="n">val</code><code class="p">()</code> <code class="o">==</code> <code class="s">''</code> <code class="o">||</code>
            <code class="n">$</code><code class="p">(</code><code class="s">'#lname'</code><code class="p">).</code><code class="n">val</code><code class="p">()</code> <code class="o">==</code> <code class="s">''</code><code class="p">)</code>
        <code class="p">{</code>
          <code class="n">alert</code><code class="p">(</code><code class="s">'Please enter both names'</code><code class="p">)</code>
          <code class="k">return</code> <code class="k">false</code>
        <code class="p">}</code>
      <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="checking_user_input_upon_submission" class="figure"><img alt="Checking user input upon submission" src="Images/pmj6_2209.png" class="calibre136"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-9. </span>Checking user input upon submission</h6>
</div></figure>

<p class="author1">The key parts of this example are where the event is attached to an anonymous function, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#form'</code><code class="p">).</code><code class="n">submit</code><code class="p">(</code><code class="k">function</code><code class="p">()</code></pre>

<p class="author1">and where the values of the two input fields are tested for being empty:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">if</code> <code class="p">(</code><code class="n">$</code><code class="p">(</code><code class="s">'#fname'</code><code class="p">).</code><code class="n">val</code><code class="p">()</code> <code class="o">==</code> <code class="s">''</code> <code class="o">||</code>
    <code class="n">$</code><code class="p">(</code><code class="s">'#lname'</code><code class="p">).</code><code class="n">val</code><code class="p">()</code> <code class="o">==</code> <code class="s">''</code><code class="p">)</code></pre>

<p class="author1">Here the jQuery <code class="calibre15">val</code> method is used to retrieve the value in the <code class="calibre15">value</code> property of each field. This is neater than using <code class="calibre15">$('#fname')[0]</code> (as in <a data-type="xref" href="#intercepting_mouse_movement_and_mouse_ke" class="calibre6">Example 22-8</a>) to get access to the DOM object and then appending <code class="calibre15">value</code> to it to read the field’s value, like this: <code class="calibre15">$('#fname')[0].value</code>.</p>

<p class="author1">In this example, by returning the value <code class="calibre15">false</code> if one or more fields are empty, the <code class="calibre15">if</code> test cancels the normal submission process. To enable the submission to proceed, you can return <code class="calibre15">true</code>, or just not return anything.<a contenteditable="false" data-primary="" data-startref="JQefunc21" data-type="indexterm" id="idm45694682912872" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Special Effects" class="calibre4"><div class="preface" id="special_effects">
<h1 class="calibre11">Special Effects</h1>

<p class="author1">jQuery<a contenteditable="false" data-primary="jQuery" data-secondary="special effect processing" data-type="indexterm" id="JQspecia21" class="calibre6"/> really begins to come into its own when processing special effects. Although you can use CSS3 transitions, they are not always easy to manage dynamically from JavaScript—but with jQuery it really is as simple as selecting one or more elements and then applying one or more effects to them.</p>

<p class="author1">The<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="core effects" data-type="indexterm" id="idm45694682968808" class="calibre6"/> core effects available are hiding and showing, fading in and out, sliding, and animations. These can be used singly, together in synchronization, or in sequence. They also support the use of callbacks, which are functions or methods that get called only once an operation has completed.</p>

<p class="author1">The<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="arguments supported" data-type="indexterm" id="idm45694682966584" class="calibre6"/> following sections describe some of the more useful jQuery effects, each of which supports up to three arguments, as follows:</p>

<dl class="calibre13">
	<dt class="plain"><dfn class="keep-together">Duration</dfn></dt>
	<dd class="calibre14">
	<p class="calibre59">When a duration value is supplied, the effect will take place over the assigned time, which can be a value in milliseconds or the strings <code class="calibre15">fast</code> or <code class="calibre15">slow</code>.</p>
	</dd>
	<dt class="plain"><dfn class="keep-together">Easing</dfn></dt>
	<dd class="calibre14">
	<p class="calibre59">There are only two easing options in the jQuery library, <code class="calibre15">swing</code> and <code class="calibre15">linear</code>. The default is <code class="calibre15">swing</code>, which gives a more natural effect than <code class="calibre15">linear</code>. For more easing options, you can check out plug-ins like <a href="http://jqueryui.com/easing" class="calibre6">jQuery UI</a>.</p>
	</dd>
	<dt class="plain"><dfn class="keep-together">Callback</dfn></dt>
	<dd class="calibre14">
	<p class="calibre59">If you supply a callback function, it will be called after the effect method <span class="keep-together">completes.</span></p>
	</dd>
</dl>

<p class="author1">This means that when no arguments are given, the method is called immediately without being placed in the animation queue.</p>

<p class="author1">So, for example, you can call the <code class="calibre15">hide</code> method in a variety of ways, such as these:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">()</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="mi">1000</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="s">'fast'</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="s">'linear'</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="n">myfunction</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="mi">333</code><code class="p">,</code> <code class="n">myfunction</code><code class="p">)</code>
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="mi">200</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">,</code> <code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">alert</code><code class="p">(</code><code class="s">'Finished!'</code><code class="p">)</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">As you’ll see in the section <a data-type="xref" href="#method_chaining" class="calibre6">“Method chaining”</a>, you can attach function calls (with arguments) to each other and they will then be animated in turn, like in the following example, which will hide and then reveal an element:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#object'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="mi">1000</code><code class="p">).</code><code class="n">show</code><code class="p">(</code><code class="mi">1000</code><code class="p">)</code></pre>

<p class="author1">Other less commonly used arguments are also supported by many of these methods, and you can get full details on them (and all the other supported effects methods) by visiting the <a href="http://api.jquery.com/category/effects" class="calibre6">documentation on effects</a>.</p>

<section data-type="sect2" data-pdf-bookmark="Hiding and Showing" class="calibre4"><div class="preface" id="hiding_and_showing">
<h2 class="calibre28">Hiding and Showing</h2>

<p class="author1">Probably<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="hiding and showing elements" data-type="indexterm" id="idm45694682815256" class="calibre6"/> the simplest effect is to hide and show elements in response to user interaction. As described in the previous section, you can provide no arguments or a variety of arguments to the <code class="calibre15">hide</code> and <code class="calibre15">show</code> methods. By default, when none are supplied, the result is to instantly hide or reveal an element.</p>

<p class="author1">When arguments are supplied, these two methods modify the <code class="calibre15">width</code>, <code class="calibre15">height</code>, and <code class="calibre15">opacity</code> properties of an element simultaneously, until they reach <code class="calibre15">0</code> for <code class="calibre15">hide</code> or their original values for <code class="calibre15">show</code>. The <code class="calibre15">hide</code> function sets the <code class="calibre15">display</code> property of the element to <code class="calibre15">none</code> when it is fully hidden, and the <code class="calibre15">show</code> function reassigns its previous value to it once the element is fully restored.</p>

<p class="author1"><a data-type="xref" href="#hiding_and_showing_an_element" class="calibre6">Example 22-11</a> lets you try <code class="calibre15">hide</code> and <code class="calibre15">show</code> for yourself (as shown in <a data-type="xref" href="#element_is_in_the_process_of_being_r" class="calibre6">Figure 22-10</a>).</p>

<div data-type="example" id="hiding_and_showing_an_element" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-11. </span>Hiding and showing an element</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Effects: hide <code class="err">&amp;</code> show<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'hide'</code><code class="nt">&gt;</code>Hide<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'show'</code><code class="nt">&gt;</code>Show<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;p</code> <code class="na">id=</code><code class="s">'text'</code><code class="nt">&gt;</code>Click the Hide and Show buttons<code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#hide'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">hide</code><code class="p">(</code><code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#show'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">show</code><code class="p">(</code><code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code> <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="element_is_in_the_process_of_being_r" class="figure"><img alt="The element is in the process of being revealed" src="Images/pmj6_2210.png" class="calibre137"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-10. </span>The element is in the process of being revealed</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The toggle Method" class="calibre4"><div class="preface" id="toggle_method">
<h2 class="calibre28">The toggle Method</h2>

<p class="author1">As<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="toggle method" data-type="indexterm" id="idm45694682638392" class="calibre6"/><a contenteditable="false" data-primary="toggle method (jQuery)" data-type="indexterm" id="idm45694682637016" class="calibre6"/> an alternative to calling both the <code class="calibre15">hide</code> and <code class="calibre15">show</code> methods, you can use the <code class="calibre15">toggle</code> method, which enables you to replace the previous example with <a data-type="xref" href="#using_the_toggle_method" class="calibre6">Example 22-12</a>.</p>

<div data-type="example" id="using_the_toggle_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-12. </span>Using the <code class="calibre15">toggle</code> method</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Effects: toggle<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'toggle'</code><code class="nt">&gt;</code>Toggle<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;p</code> <code class="na">id=</code><code class="s">'text'</code><code class="nt">&gt;</code>Click the Toggle button<code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#toggle'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">toggle</code><code class="p">(</code><code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code> <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">The <code class="calibre15">toggle</code> method takes the same arguments as <code class="calibre15">hide</code> and <code class="calibre15">show</code> but keeps track of the state of the element internally so that it knows whether to hide or show it.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">There are four main jQuery methods that set either one state or another and that offer toggling versions to simplify coding. In addition to <code class="calibre15">toggle</code>, there’s <code class="calibre15">fadeToggle</code>, <code class="calibre15">slideToggle</code>, and <span class="keep-together"><code class="calibre15">toggleClass</code></span>, all described in this chapter.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Fading In and Out" class="calibre4"><div class="preface" id="fading_in_and_out">
<h2 class="calibre28">Fading In and Out</h2>

<p class="author1">Four<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="fade methods" data-type="indexterm" id="idm45694682547048" class="calibre6"/><a contenteditable="false" data-primary="fade effects" data-type="indexterm" id="idm45694682545288" class="calibre6"/> methods manage fades: <code class="calibre15">fadeIn</code>, <code class="calibre15">fadeOut</code>, <code class="calibre15">fadeToggle</code>, and <code class="calibre15">fadeTo</code>. You should be getting the idea of how jQuery works by now and realize that the first three are similar to <code class="calibre15">show</code>, <code class="calibre15">hide</code>, and <code class="calibre15">toggle</code>, respectively. The last one, though, is a little different in that it lets you specify an opacity value to which an element (or elements) should be faded, between <code class="calibre15">0</code> and <code class="calibre15">1</code>.</p>

<p class="author1"><a data-type="xref" href="#four_fade_methods" class="calibre6">Example 22-13</a> provides four buttons with which to try out each of these methods, as shown in <a data-type="xref" href="#text_has_been_faded_to_50_percent_op" class="calibre6">Figure 22-11</a>.</p>

<div data-type="example" id="four_fade_methods" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-13. </span>The four fade methods</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Effects: Fading<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'fadeout'</code><code class="nt">&gt;</code>fadeOut<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'fadein'</code><code class="nt">&gt;</code>fadeIn<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'fadetoggle'</code><code class="nt">&gt;</code>fadeToggle<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'fadeto'</code><code class="nt">&gt;</code>fadeTo<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;p</code> <code class="na">id=</code><code class="s">'text'</code><code class="nt">&gt;</code>Click the buttons above<code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#fadeout'</code><code class="p">)</code>   <code class="p">.</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">fadeOut</code><code class="p">(</code>   <code class="s">'slow'</code>     <code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#fadein'</code><code class="p">)</code>    <code class="p">.</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">fadeIn</code><code class="p">(</code>    <code class="s">'slow'</code>     <code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#fadetoggle'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">fadeToggle</code><code class="p">(</code><code class="s">'slow'</code>     <code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#fadeto'</code><code class="p">)</code>    <code class="p">.</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#text'</code><code class="p">).</code><code class="n">fadeTo</code><code class="p">(</code>    <code class="s">'slow'</code><code class="p">,</code> <code class="mi">0.5</code><code class="p">)</code> <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="text_has_been_faded_to_50_percent_op" class="figure"><img alt="The text has been faded to 50% opacity" src="Images/pmj6_2211.png" class="calibre138"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-11. </span>The text has been faded to 50% opacity</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Sliding Elements Up and Down" class="calibre4"><div class="preface" id="sliding_elements_up_and_down">
<h2 class="calibre28">Sliding Elements Up and Down</h2>

<p class="author1">Another<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="slide methods" data-type="indexterm" id="idm45694682415240" class="calibre6"/> way to make elements disappear and reappear is to alter their height over time to make them appear to slide up and down. There are three jQuery methods to do this: <code class="calibre15">slideDown</code>, <code class="calibre15">slideUp</code>, and <code class="calibre15">slideToggle</code>. They work in a similar way to the previous functions, as coded in <a data-type="xref" href="#using_the_slide_methods" class="calibre6">Example 22-14</a> and shown in <a data-type="xref" href="#paragraph_is_sliding_up" class="calibre6">Figure 22-12</a>.</p>

<div data-type="example" id="using_the_slide_methods" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-14. </span>Using the slide methods</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Effects: Sliding<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'slideup'</code><code class="nt">&gt;</code>slideUp<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'slidedown'</code><code class="nt">&gt;</code>slideDown<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'slidetoggle'</code><code class="nt">&gt;</code>slideToggle<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'para'</code> <code class="na">style=</code><code class="s">'background:#def'</code><code class="nt">&gt;</code>
      <code class="nt">&lt;h2&gt;</code>From A Tale of Two Cities - By Charles Dickens<code class="nt">&lt;/h2&gt;</code>
      <code class="nt">&lt;p&gt;</code>It was the best of times, it was the worst of times, it was the age of
      wisdom, it was the age of foolishness, it was the epoch of belief, it was
      the epoch of incredulity, it was the season of Light, it was the season of
      Darkness, it was the spring of hope, it was the winter of despair, we had
      everything before us, we had nothing before us, we were all going direct to
      Heaven, we were all going direct the other way - in short, the period was so
      far like the present period, that some of its noisiest authorities insisted
      on its being received, for good or for evil, in the superlative degree of
      comparison only<code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;/div&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#slideup'</code><code class="p">)</code>    <code class="p">.</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#para'</code><code class="p">).</code><code class="n">slideUp</code><code class="p">(</code>    <code class="s">'slow'</code><code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#slidedown'</code><code class="p">)</code>  <code class="p">.</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#para'</code><code class="p">).</code><code class="n">slideDown</code><code class="p">(</code>  <code class="s">'slow'</code><code class="p">)</code> <code class="p">})</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#slidetoggle'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#para'</code><code class="p">).</code><code class="n">slideToggle</code><code class="p">(</code><code class="s">'slow'</code><code class="p">)</code> <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="paragraph_is_sliding_up" class="figure"><img alt="The paragraph is sliding up" src="Images/pmj6_2212.png" class="calibre139"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-12. </span>The paragraph is sliding up</h6>
</div></figure>

<p class="author1">These methods work well when you have menus and submenus that you want to open up or close dynamically, according to the sections clicked by the user.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Animations" class="calibre4"><div class="preface" id="animations">
<h2 class="calibre28">Animations</h2>

<p class="author1">Now<a contenteditable="false" data-primary="special effect processing (jQuery)" data-secondary="animations" data-type="indexterm" id="SEPanim21" class="calibre6"/><a contenteditable="false" data-primary="animation" data-secondary="using jQuery" data-type="indexterm" id="Ajquery21" class="calibre6"/><a contenteditable="false" data-primary="properties (CSS)" data-secondary="animations using jQuery" data-type="indexterm" id="idm45694682221224" class="calibre6"/> we can really start to have some fun by actually moving elements around in the browser. To do this, though, because the default value of <code class="calibre15">static</code> will not allow them to move, you must remember to first give your elements’ <code class="calibre15">position</code> properties the values of <code class="calibre15">relative</code>, <code class="calibre15">fixed</code>, or <code class="calibre15">absolute</code>.</p>

<p class="author1">To animate an element, all you do is supply a list of CSS properties (excluding colors) to the <code class="calibre15">animate</code> method. Unlike the previous effects methods, <code class="calibre15">animate</code> requires this list of properties first, and then you can supply any duration, easing, and callback arguments you need.</p>

<p class="author1">So, for example, to animate a bouncing ball, you could use code such as that in <a data-type="xref" href="#creating_a_bouncing_ball_animation" class="calibre6">Example 22-15</a> (which displays like <a data-type="xref" href="#ball_is_bouncing_around_in_the_brows" class="calibre6">Figure 22-13</a>).</p>

<div class="calibre41" data-type="example" id="creating_a_bouncing_ball_animation">
<h5 class="calibre42"><span class="keep-together">Example 22-15. </span>Creating a bouncing ball animation</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Effects: Animation<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
    <code class="nt">&lt;style&gt;</code>
      <code class="nf">#ball</code> <code class="p">{</code>
        <code class="k">position</code>  <code class="o">:</code><code class="nb">relative</code><code class="p">;</code>
      <code class="p">}</code>
      <code class="nf">#box</code> <code class="p">{</code>
        <code class="k">width</code>     <code class="o">:</code><code class="mi">640px</code><code class="p">;</code>
        <code class="k">height</code>    <code class="o">:</code><code class="mi">480px</code><code class="p">;</code>
        <code class="k">background</code><code class="o">:</code><code class="nb">green</code><code class="p">;</code>
        <code class="k">border</code>    <code class="o">:</code><code class="mi">1px</code> <code class="nb">solid</code> <code class="mi">#444</code><code class="p">;</code>
      <code class="p">}</code>
    <code class="nt">&lt;/style&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'box'</code><code class="nt">&gt;</code>
      <code class="nt">&lt;img</code> <code class="na">id=</code><code class="s">'ball'</code> <code class="na">src=</code><code class="s">'ball.png'</code><code class="nt">&gt;</code>
    <code class="nt">&lt;/div&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">bounce</code><code class="p">()</code>

      <code class="k">function</code> <code class="n">bounce</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#ball'</code><code class="p">)</code>
          <code class="p">.</code><code class="n">animate</code><code class="p">(</code> <code class="p">{</code> <code class="n">left</code><code class="o">:</code><code class="s">'270px'</code><code class="p">,</code> <code class="n">top</code> <code class="o">:</code><code class="s">'380px'</code> <code class="p">},</code> <code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code>
          <code class="p">.</code><code class="n">animate</code><code class="p">(</code> <code class="p">{</code> <code class="n">left</code><code class="o">:</code><code class="s">'540px'</code><code class="p">,</code> <code class="n">top</code> <code class="o">:</code><code class="s">'190px'</code> <code class="p">},</code> <code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code>
          <code class="p">.</code><code class="n">animate</code><code class="p">(</code> <code class="p">{</code> <code class="n">left</code><code class="o">:</code><code class="s">'270px'</code><code class="p">,</code> <code class="n">top</code> <code class="o">:</code><code class="s">'0px'</code>   <code class="p">},</code> <code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code>
          <code class="p">.</code><code class="n">animate</code><code class="p">(</code> <code class="p">{</code> <code class="n">left</code><code class="o">:</code><code class="s">'0px'</code><code class="p">,</code>   <code class="n">top</code> <code class="o">:</code><code class="s">'190px'</code> <code class="p">},</code> <code class="s">'slow'</code><code class="p">,</code> <code class="s">'linear'</code><code class="p">)</code>
      <code class="p">}</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="ball_is_bouncing_around_in_the_brows" class="figure"><img alt="The ball is bouncing around in the browser" src="Images/pmj6_2213.png" class="calibre140"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-13. </span>The ball is bouncing around in the browser</h6>
</div></figure>

<p class="author1">In the <code class="calibre15">&lt;style&gt;</code> section of this example, the <code class="calibre15">position</code> property of the ball is set relative to its container, which is a <code class="calibre15">&lt;div&gt;</code> element that has been given a border and a green background.</p>

<p class="author1">Then the <code class="calibre15">&lt;script&gt;</code> section features a function called <code class="calibre15">bounce</code>, which concatenates four calls to <code class="calibre15">animate</code>. Notice how the names of the properties to animate (<code class="calibre15">left</code> and <code class="calibre15">top</code> in this example) are supplied without quotation marks and are separated from the values to which they should be changed (such as <code class="calibre15">'270px'</code>) with colons—in other words, in the form of associative arrays.</p>

<p class="author1">You<a contenteditable="false" data-primary="-= (subtraction and assignment) operator" data-secondary="in jQuery" data-type="indexterm" id="idm45694682004584" class="calibre6"/><a contenteditable="false" data-primary="+= (addition and assignment) operator" data-secondary="in jQuery" data-type="indexterm" id="idm45694682003080" class="calibre6"/> can also supply relative values in place of absolute ones by using the <code class="calibre15">+=</code> and <code class="calibre15">-=</code> operators. So, for example, the following will animate the ball to the right and up by 50 pixels relative to its current position:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="p">.</code><code class="n">animate</code><code class="p">(</code><code class="calibre15"> </code><code class="p">{</code><code class="calibre15"> </code><code class="n">left</code><code class="o">:</code><code class="s">'</code><strong class="calibre31"><code class="s2">+=</code></strong><code class="s">50px'</code><code class="p">,</code><code class="calibre15"> </code><code class="n">top</code><code class="o">:</code><code class="s">'</code><strong class="calibre31"><code class="s2">-=</code></strong><code class="s">50px'</code><code class="calibre15"> </code><code class="p">}</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'slow'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'linear'</code><code class="p">)</code></pre>

<p class="author1">And you can even use the string values of <code class="calibre15">hide</code>, <code class="calibre15">show</code>, and <code class="calibre15">toggle</code> to update a property, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="p">.</code><code class="n">animate</code><code class="p">(</code><code class="calibre15"> </code><code class="p">{</code><code class="calibre15"> </code><code class="n">height</code><code class="o">:</code><code class="s">'</code><strong class="calibre31"><code class="s2">hide</code></strong><code class="s">'</code><code class="p">,</code><code class="calibre15"> </code><code class="n">width</code><code class="o">:</code><code class="s">'</code><strong class="calibre31"><code class="s2">toggle</code></strong><code class="s">'</code><code class="calibre15"> </code><code class="p">}</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'slow'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'linear'</code><code class="p">)</code></pre>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">If you wish to modify any hyphenated CSS properties and they’re not being passed within quotation marks (as with <code class="calibre15">height</code> and <code class="calibre15">width</code> in the previous example), you must convert their names to camelCase by removing the hyphens and capitalizing the letter following. For example, to animate the <code class="calibre15">left-margin</code> property of an element, you would supply the name of <code class="calibre15">leftMargin</code>. However, when supplying a hyphenated property name within a string—for example, <code class="calibre15">css('font-weight', 'bold')</code>, you <em class="hyperlink">shouldn’t</em> convert it to camelCase.</p>
</div>

<section data-type="sect3" data-pdf-bookmark="Method chaining" class="calibre4"><div class="preface" id="method_chaining">
<h3 class="calibre43">Method chaining</h3>

<p class="author1">Because<a contenteditable="false" data-primary="method chaining" data-type="indexterm" id="idm45694681916360" class="calibre6"/> of the way that method chaining works, when jQuery methods have been given arguments, they will run sequentially. So, each of these methods is called only after the previous one has finished animating. Any methods you call without arguments, however, will run immediately and quickly, without animation.</p>

<p class="author1">When you load <a data-type="xref" href="#creating_a_bouncing_ball_animation" class="calibre6">Example 22-15</a> into a web browser, the animation is kicked off (so to speak) with a single call to <code class="calibre15">bounce</code>, causing the ball to bounce off the bottom, right, and top edges of its container and then come to rest back at the middle of the left-hand edge. Looking again at the <code class="calibre15">bounce</code> function in this example, you can see there are four chained calls to the <code class="calibre15">animate</code> function.</p>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Using callbacks" class="calibre4"><div class="preface" id="using_callbacks">
<h3 class="calibre43">Using callbacks</h3>

<p class="author1">As<a contenteditable="false" data-primary="callback functions" data-secondary="animation using" data-type="indexterm" id="idm45694681895624" class="calibre6"/> it stands, the preceding example stops after four animations, but you can use a callback function to make the animation start over again every time it completes. This is why I chose to place the animation in a named function.</p>

<p class="author1">With the animation in the <code class="calibre15">bounce</code> function, it is necessary only to add that name as a callback to the fourth animation in the group in order to make the animation repeat forever, as shown in bold here:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="p">.</code><code class="n">animate</code><code class="p">(</code><code class="calibre15"> </code><code class="p">{</code><code class="calibre15"> </code><code class="n">left</code><code class="o">:</code><code class="s">'0px'</code><code class="p">,</code><code class="calibre15"> </code><code class="n">top</code><code class="calibre15"> </code><code class="o">:</code><code class="s">'190px'</code><code class="calibre15"> </code><code class="p">}</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'slow'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'linear'</code><strong class="calibre31"><code class="p1">,</code><code class="calibre17"> </code><code class="nx1">bounce</code></strong><code class="p">)</code></pre>

<p class="author1">Using the <code class="calibre15">animate</code> method, you can animate many CSS properties, with the notable exception of colors. However, even color animation is possible with the addition of the jQuery UI add-in, which provides the facility to create very eye-pleasing color-changing effects (plus many more goodies). Please refer to the <a href="http://jqueryui.com" class="calibre6">jQuery UI page</a> for details.</p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Stopping Animations" class="calibre4"><div class="preface" id="stopping_animations">
<h2 class="calibre28">Stopping Animations</h2>

<p class="author1">There are several methods available for cutting off animations midway through, or ending a chain of animations. For example, <code class="calibre15">clearQueue</code> can<a contenteditable="false" data-primary="clearQue method (jQuery)" data-type="indexterm" id="idm45694681823784" class="calibre6"/> empty all stored animations from the queue, <code class="calibre15">stop</code> can immediately stop any animation currently in <span class="keep-together">progress</span>, and <code class="calibre15">finish</code> will stop the currently running animation and remove any that are queued.</p>

<p class="author1">Let’s turn the previous example into a sort of game by making the ball clickable, such that when the click event triggers, the animation will cease. To do this, all that’s required is to add the following single line of code underneath the <code class="calibre15">bounce</code> function:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#ball'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">finish</code><code class="p">()</code> <code class="p">})</code></pre>

<p class="author1">If you successfully manage to click the ball, the <code class="calibre15">finish</code> method will stop the current animation, empty the queue, and ignore any callbacks—in other words, the ball will come to rest.</p>

<p class="author1">For more information on managing jQuery queues, check out the <a href="http://api.jquery.com/queue" class="calibre6">documentation for the <code class="calibre15">queue</code> method</a>, where you’ll also learn how to directly manipulate the contents of queues to get exactly the effects you need.<a contenteditable="false" data-primary="" data-startref="PRanimate21" data-type="indexterm" id="idm45694681783288" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="JQspecia21" data-type="indexterm" id="idm45694681781912" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="SEPanim21" data-type="indexterm" id="idm45694681780536" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="Ajquery21" data-type="indexterm" id="idm45694681779160" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Manipulating the DOM" class="calibre4"><div class="preface" id="manipulating_the_dom">
<h1 class="calibre11">Manipulating the DOM</h1>

<p class="author1">Because<a contenteditable="false" data-primary="jQuery" data-secondary="DOM manipulation using" data-type="indexterm" id="JQdomman21" class="calibre6"/><a contenteditable="false" data-primary="DOM (Document Object Model)" data-secondary="manipulating with jQuery" data-type="indexterm" id="DOMman21" class="calibre6"/> jQuery is so tightly linked with the DOM, of necessity the examples in this chapter have already utilized some of its DOM-accessing methods, such as <code class="calibre15">html</code> and <code class="calibre15">val</code>. But let’s now look at all the DOM methods in detail to discover exactly what you can get access to with jQuery, and how.</p>

<p class="author1">In <a data-type="xref" href="#processing_an_event" class="calibre6">Example 22-3</a>, you saw how to use the <code class="calibre15">html</code> method to change the <code class="calibre15">innerHTML</code> property of an element. This method can be used either to set the HTML or retrieve it from an HTML document. <a data-type="xref" href="#displaying_the_html_of_an_element_using" class="calibre6">Example 22-16</a> (with the jQuery highlighted in bold) shows how to retrieve the HTML content of an element (as shown in <a data-type="xref" href="#retrieving_and_displaying_the_html_of_an" class="calibre6">Figure 22-14</a>).</p>

<div data-type="example" id="displaying_the_html_of_an_element_using" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-16. </span>Displaying the HTML of an element using an alert window</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">The DOM: html </code><code class="err">&amp;</code><code class="calibre15"> text</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;h2</code><code class="nt">&gt;</code><code class="calibre15">Example Document</code><code class="nt">&lt;/h2&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;p</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'intro'</code><code class="nt">&gt;</code><code class="calibre15">This is an example document</code><code class="nt">&lt;/p&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script</code><code class="nt">&gt;</code><code class="calibre15">
      </code><code class="n">alert</code><code class="p">(</code><strong class="calibre31"><code class="nx1">$</code><code class="p1">(</code><code class="s2">'#intro'</code><code class="p1">)</code><code class="p1">.</code><code class="nx1">html</code><code class="p1">(</code><code class="p1">)</code></strong><code class="p">)</code><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="retrieving_and_displaying_the_html_of_an" class="figure"><img alt="Retrieving and displaying the HTML of an element" src="Images/pmj6_2214.png" class="calibre141"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-14. </span>Retrieving and displaying the HTML of an element</h6>
</div></figure>

<p class="author1">When you issue this method without arguments, the result is to read rather than set the HTML of the element.</p>

<section data-type="sect2" data-pdf-bookmark="The Difference Between the text and html Methods" class="calibre4"><div class="preface" id="difference_between_the_text_and_html">
<h2 class="calibre28">The Difference Between the text and html Methods</h2>

<p class="author1">When<a contenteditable="false" data-primary="html method (jQuery)" data-type="indexterm" id="idm45694681741896" class="calibre6"/><a contenteditable="false" data-primary="text method (jQuery)" data-type="indexterm" id="idm45694681684392" class="calibre6"/><a contenteditable="false" data-primary="XML documents" data-type="indexterm" id="idm45694681683288" class="calibre6"/> you are working with XML documents, you cannot use the <code class="calibre15">html</code> method because it simply won’t work (it’s designed for use only with HTML). But you can use the <code class="calibre15">text</code> method to achieve a similar result (in XML or HTML documents), like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">text</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#intro'</code><code class="p">).</code><code class="n">text</code><code class="p">()</code></pre>

<p class="author1">The difference between the two is quite simply that <code class="calibre15">html</code> treats the content as HTML and <code class="calibre15">text</code> treats it as text. So, for example, let’s assume you wish to assign the following string to an element:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">'http://google.com'</code><code class="nt">&gt;</code>Visit Google<code class="nt">&lt;/a&gt;</code></pre>

<p class="author1">If you assign it to an HTML element using the <code class="calibre15">html</code> method, the DOM will be updated with the new <code class="calibre15">&lt;a&gt;</code> element and the link will become clickable. But if you do so to either an XML or HTML document using the <code class="calibre15">text</code> method, that string will first be escaped into text (for example, by converting HTML characters such as <code class="calibre15">&lt;</code> into the <code class="calibre15">&amp;lt;</code> entity, and so on) and then inserted into the element—no element is added to the DOM.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The val and attr Methods" class="calibre4"><div class="preface" id="val_and_attr_methods">
<h2 class="calibre28">The val and attr Methods</h2>

<p class="author1">There<a contenteditable="false" data-primary="val method (jQuery)" data-type="indexterm" id="idm45694681644376" class="calibre6"/><a contenteditable="false" data-primary="attr method (jQuery)" data-type="indexterm" id="idm45694681643240" class="calibre6"/> are a couple more methods for interacting with the content of elements. First, you can set and get the value of an input element with the <code class="calibre15">val</code> method, as illustrated in <a data-type="xref" href="#intercepting_the_submit_event_of_a_form" class="calibre6">Example 22-10</a>, in which the first and last name fields are read. To set a value, simply provide it as an argument to the method, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#password'</code><code class="p">).</code><code class="n">val</code><code class="p">(</code><code class="s">'mypass123'</code><code class="p">)</code></pre>

<p class="author1">With the <code class="calibre15">attr</code> method, you can get and set the attributes of elements, as shown in <a data-type="xref" href="#modifying_attributes_with_the_attr_metho" class="calibre6">Example 22-17</a>, in which a link to the Google website has been completely replaced with one to Yahoo.</p>

<div data-type="example" id="modifying_attributes_with_the_attr_metho" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-17. </span>Modifying attributes with the <code class="calibre15">attr</code> method</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>The DOM: attr<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2&gt;</code>Example Document<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;p&gt;&lt;a</code> <code class="na">id=</code><code class="s">'link'</code> <code class="na">href=</code><code class="s">'http://google.com'</code> <code class="na">title=</code><code class="s">'Google'</code><code class="nt">&gt;</code>Visit Google<code class="nt">&lt;/a&gt;&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#link'</code><code class="p">).</code><code class="n">text</code><code class="p">(</code><code class="s">'Visit Yahoo!'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#link'</code><code class="p">).</code><code class="n">attr</code><code class="p">(</code> <code class="p">{</code> <code class="n">href</code> <code class="o">:</code><code class="s">'http://yahoo.com'</code><code class="p">,</code> <code class="n">title</code><code class="o">:</code><code class="s">'Yahoo!'</code> <code class="p">}</code> <code class="p">)</code>
      <code class="n">alert</code><code class="p">(</code><code class="s">'The new HTML is:\n'</code> <code class="o">+</code> <code class="n">$</code><code class="p">(</code><code class="s">'p'</code><code class="p">).</code><code class="n">html</code><code class="p">())</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">The first jQuery statement uses the <code class="calibre15">text</code> method to change the text inside the <code class="calibre15">&lt;a&gt;</code> element, and the second one changes the <code class="calibre15">href</code> and <code class="calibre15">title</code> attribute values to match by supplying the data in the form of an associative array. The third statement displays the changed element’s contents in an alert window by first retrieving it with the <code class="calibre15">html</code> method, as shown in <a data-type="xref" href="#link_has_now_been_completely_modifie" class="calibre6">Figure 22-15</a>.</p>

<figure class="calibre23"><div id="link_has_now_been_completely_modifie" class="figure"><img alt="The link has now been completely modified" src="Images/pmj6_2215.png" class="calibre142"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-15. </span>The link has now been completely modified</h6>
</div></figure>

<p class="author1">You can also read the value of an attribute like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#link'</code><code class="p">).</code><code class="n">attr</code><code class="p">(</code><code class="s">'href'</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Adding and Removing Elements" class="calibre4"><div class="preface" id="adding_and_removing_elements">
<h2 class="calibre28">Adding and Removing Elements</h2>

<p class="author1">While<a contenteditable="false" data-primary="DOM (Document Object Model)" data-secondary="adding elements to" data-type="indexterm" id="idm45694681473784" class="calibre6"/><a contenteditable="false" data-primary="DOM (Document Object Model)" data-secondary="removing elements from" data-type="indexterm" id="idm45694681472440" class="calibre6"/> it is possible to insert elements into the DOM using the <code class="calibre15">html</code> method, this is suitable only for creating child elements of a particular element. Therefore, jQuery provides a number of methods for manipulating any part of the DOM.</p>

<p class="author1">These methods are <code class="calibre15">append</code>, <code class="calibre15">prepend</code>, <code class="calibre15">after</code>, <code class="calibre15">before</code>, <code class="calibre15">remove</code>, and <code class="calibre15">empty</code>. An example of each appears in <a data-type="xref" href="#adding_and_removing_elements-id00113" class="calibre6">Example 22-18</a>.</p>

<div data-type="example" id="adding_and_removing_elements-id00113" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-18. </span>Adding and removing elements</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Modifying The DOM<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;h2&gt;</code>Example Document<code class="nt">&lt;/h2&gt;</code>
    <code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">'http://google.com'</code> <code class="na">title=</code><code class="s">'Google'</code><code class="nt">&gt;</code>Visit Google<code class="nt">&lt;/a&gt;</code>
    <code class="nt">&lt;code&gt;</code>
      This is a code section
    <code class="nt">&lt;/code&gt;</code>
    <code class="nt">&lt;p&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'a'</code><code class="nt">&gt;</code>Remove the image<code class="nt">&lt;/button&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'b'</code><code class="nt">&gt;</code>Empty the quote<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;img</code> <code class="na">id=</code><code class="s">'ball'</code> <code class="na">src=</code><code class="s">'ball.png'</code><code class="nt">&gt;</code>
    <code class="nt">&lt;blockquote</code> <code class="na">id=</code><code class="s">'quote'</code> <code class="na">style=</code><code class="s">'border:1px dotted #444; height:20px;'</code><code class="nt">&gt;</code>
      test
    <code class="nt">&lt;/blockquote&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'a'</code><code class="p">).</code><code class="n">prepend</code><code class="p">(</code><code class="s">'Link: '</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">"[href^='http']"</code><code class="p">).</code><code class="n">append</code><code class="p">(</code><code class="s">" &lt;img src='link.png'&gt;"</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'code'</code><code class="p">).</code><code class="n">before</code><code class="p">(</code><code class="s">'&lt;hr&gt;'</code><code class="p">).</code><code class="n">after</code><code class="p">(</code><code class="s">'&lt;hr&gt;'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#a'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#ball'</code><code class="p">).</code><code class="n">remove</code><code class="p">()</code> <code class="p">}</code> <code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#b'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#quote'</code><code class="p">).</code><code class="n">empty</code><code class="p">()</code> <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">In <a data-type="xref" href="#document_with_a_variety_of_different_e" class="calibre6">Figure 22-16</a>, you can see the result of applying the <code class="calibre15">prepend</code>, <code class="calibre15">append</code>, <code class="calibre15">before</code>, and <code class="calibre15">after</code> methods<a contenteditable="false" data-primary="after method (jQuery)" data-type="indexterm" id="idm45694681335064" class="calibre6"/> to some elements.</p>

<figure class="calibre23"><div id="document_with_a_variety_of_different_e" class="figure"><img alt="A document with a variety of elements" src="Images/pmj6_2216.png" class="calibre143"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-16. </span>A document with a variety of elements</h6>
</div></figure>

<p class="author1">The<a contenteditable="false" data-primary="prepend method (jQuery)" data-type="indexterm" id="idm45694681331640" class="calibre6"/> <code class="calibre15">prepend</code> method has been used to insert the string <code class="calibre15">Link:</code> before the inner text or HTML of all <code class="calibre15">&lt;a&gt;</code> elements, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'a'</code><code class="p">).</code><code class="n">prepend</code><code class="p">(</code><code class="s">'Link: '</code><code class="p">)</code></pre>

<p class="author1">Then an attribute selector is used to select all elements that have an <code class="calibre15">href</code> attribute starting with <code class="calibre15">http</code>. The string <code class="calibre15">http</code> appearing at the beginning of the URL (because of the <code class="calibre15">^=</code> operator) denotes links that are not relative and therefore are absolute. In these cases, an external link icon is appended to the end of the inner text or HTML of all matching elements, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">"[href^='http']"</code><code class="p">).</code><code class="n">append</code><code class="p">(</code><code class="s">" &lt;img src='link.png'&gt;"</code><code class="p">)</code></pre>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">The <code class="calibre15">^=</code> operator is how only the start of the string is matched. If just the <code class="calibre15">=</code> operator were used, only entire strings that matched would be selected. CSS selectors are covered in detail in Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch19.xhtml#introduction_to_css" class="calibre6">19</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch20.xhtml#advanced_css_with_css3" class="calibre6">20</a>.</p>
</div>

<p class="author1">Next, using chained methods, the <code class="calibre15">before</code> and <code class="calibre15">after</code> methods are employed to place sibling elements either before or after another one. In this instance, I have chosen to place an <code class="calibre15">&lt;hr&gt;</code> element both before and after <code class="calibre15">&lt;code&gt;</code> elements, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'code'</code><code class="p">).</code><code class="n">before</code><code class="p">(</code><code class="s">'&lt;hr&gt;'</code><code class="p">).</code><code class="n">after</code><code class="p">(</code><code class="s">'&lt;hr&gt;'</code><code class="p">)</code></pre>

<p class="author1">Then I added a little user interaction with a couple of buttons. When clicked, using the <code class="calibre15">remove</code> method, the first button removes the <code class="calibre15">&lt;img&gt;</code> element containing the ball, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#a'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#ball'</code><code class="p">).</code><code class="n">remove</code><code class="p">()</code> <code class="p">}</code> <code class="p">)</code></pre>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">The image is now no longer in the DOM, which you can verify if you right-click and choose Inspect Element in most major desktop browsers.</p>
</div>

<p class="author1">Finally, the <code class="calibre15">empty</code> method is applied to the <code class="calibre15">&lt;blockquote&gt;</code> element when the second button is clicked, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#b'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code> <code class="p">{</code> <code class="n">$</code><code class="p">(</code><code class="s">'#quote'</code><code class="p">).</code><code class="n">empty</code><code class="p">()</code> <code class="p">}</code> <code class="p">)</code></pre>

<p class="author1">This empties out the element’s contents but leaves the element in the DOM.<a contenteditable="false" data-primary="" data-startref="JQdomman21" data-type="indexterm" id="idm45694681121928" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="DOMman21" data-type="indexterm" id="idm45694681120712" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Dynamically Applying Classes" class="calibre4"><div class="preface" id="dynamically_applying_classes">
<h1 class="calibre11">Dynamically Applying Classes</h1>

<p class="author1">Sometimes<a contenteditable="false" data-primary="jQuery" data-secondary="dynamic application of classes" data-type="indexterm" id="idm45694681118008" class="calibre6"/><a contenteditable="false" data-primary="classes" data-secondary="dynamic application of in jQuery" data-type="indexterm" id="idm45694681116632" class="calibre6"/> it can be convenient to change the class applied to an element, or maybe just add a class to an element or remove it from one. For example, suppose you have a class called <code class="calibre15">read</code> that you use to style blog posts that have been read. Using the <code class="calibre15">addClass</code> method, it’s a simple matter to add a class to that post, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#post23'</code><code class="p">).</code><code class="n">addClass</code><code class="p">(</code><code class="s">'read'</code><code class="p">)</code></pre>

<p class="author1">You can add more than one class at a time by separating them with spaces, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#post23'</code><code class="p">).</code><code class="n">addClass</code><code class="p">(</code><code class="s">'read liked'</code><code class="p">)</code></pre>

<p class="author1">But what if a reader chooses to mark a post as unread again, perhaps to be reminded to read it again later? In this case, all you need to do is use <code class="calibre15">removeClass</code>, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#post23'</code><code class="p">).</code><code class="n">removeClass</code><code class="p">(</code><code class="s">'read'</code><code class="p">)</code></pre>

<p class="author1">All other classes that the post uses remain unaffected when you do this.</p>

<p class="author1">Where you are supporting the ability of a class to be continuously added or removed, however, you might find it simpler to use the <code class="calibre15">toggleClass</code> method, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#post23'</code><code class="p">).</code><code class="n">toggleClass</code><code class="p">(</code><code class="s">'read'</code><code class="p">)</code></pre>

<p class="author1">Now, if the post doesn’t already use the class, it is added; otherwise, it is removed.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Modifying Dimensions" class="calibre4"><div class="preface" id="modifying_dimensions">
<h1 class="calibre11">Modifying Dimensions</h1>

<p class="author1">Working<a contenteditable="false" data-primary="jQuery" data-secondary="modifying dimensions on web pages" data-type="indexterm" id="JQdimen21" class="calibre6"/> with dimensions is always a tricky web development task because different browsers tend to utilize slightly differing values. One of jQuery’s big strengths, therefore, is that it does a great job of normalizing these types of values so that your pages will look how you intend them to appear in all major browsers.</p>

<p class="author1">There are three types of dimensions: element width and height, inner width and height, and outer width and height. Let’s look at these in turn.</p>

<section data-type="sect2" data-pdf-bookmark="The width and height Methods" class="calibre4"><div class="preface" id="width_and_height_methods">
<h2 class="calibre28">The width and height Methods</h2>

<p class="author1">Both<a contenteditable="false" data-primary="height method (jQuery)" data-type="indexterm" id="idm45694681003768" class="calibre6"/><a contenteditable="false" data-primary="width method (jQuery)" data-type="indexterm" id="idm45694681002632" class="calibre6"/> the <code class="calibre15">width</code> and <code class="calibre15">height</code> methods can get the width or height of the first element that matches a selector, or set the width or height of all matching elements. For example, to get the width of an element with the ID of <code class="calibre15">elem</code>, you could use this statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">width</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">width</code><code class="p">()</code></pre>

<p class="author1">The value returned to the variable <code class="calibre15">width</code> is a plain numeric value, which is different from returning the CSS value from a call to the <code class="calibre15">css</code> method, as in the following example, which would return (for example) <code class="calibre15">230px</code> rather than just the number <code class="calibre15">230</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">width</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'width'</code><code class="p">)</code></pre>

<p class="author1">You can also obtain the width of either the current window or the document, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">width</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="nb">window</code><code class="p">).</code><code class="n">width</code><code class="p">()</code>
<code class="n">width</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="nb">document</code><code class="p">).</code><code class="n">width</code><code class="p">()</code></pre>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">When you pass the <code class="calibre15">window</code> or <code class="calibre15">document</code> objects to jQuery, you cannot fetch their width or height with the <code class="calibre15">css</code> method. Instead, you must use the <code class="calibre15">width</code> or <code class="calibre15">height</code> methods.</p>
</div>

<p class="author1">The value returned is independent of the <code class="calibre15">box-sizing</code> setting (see <a data-type="xref" href="ch20.xhtml#advanced_css_with_css3" class="calibre6">Chapter 20</a>). If you need to take <code class="calibre15">box-sizing</code> into account, use the <code class="calibre15">css</code> method with an argument of <code class="calibre15">width</code> instead, like this (but remember to remove from the returned value the <code class="calibre15">px</code> that will be added after the numeric part if you intend to work with the values returned):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">width</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'width'</code><code class="p">)</code></pre>

<p class="author1">Setting values is just as easy. For example, to set all elements that use the class <code class="calibre15">box</code> to 100 × 100 pixels, you could use this statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'.box'</code><code class="p">).</code><code class="n">width</code><code class="p">(</code><code class="mi">100</code><code class="p">).</code><code class="n">height</code><code class="p">(</code><code class="mi">100</code><code class="p">)</code></pre>

<p class="author1"><a data-type="xref" href="#getting_and_setting_element_dimensions" class="calibre6">Example 22-19</a> combines these actions into a single program that displays as <a data-type="xref" href="#getting_and_setting_element_dim-id00114" class="calibre6">Figure 22-17</a>.</p>

<div data-type="example" id="getting_and_setting_element_dimensions" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-19. </span>Getting and setting element dimensions</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Dimensions<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;p&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'getdoc'</code><code class="nt">&gt;</code>Get document width<code class="nt">&lt;/button&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'getwin'</code><code class="nt">&gt;</code>Get window width<code class="nt">&lt;/button&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'getdiv'</code><code class="nt">&gt;</code>Get div width<code class="nt">&lt;/button&gt;</code>
      <code class="nt">&lt;button</code> <code class="na">id=</code><code class="s">'setdiv'</code><code class="nt">&gt;</code>Set div width to 150 pixels<code class="nt">&lt;/button&gt;</code>
    <code class="nt">&lt;/p&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'result'</code> <code class="na">style=</code><code class="s">'width:300px; height:50px; background:#def;'</code><code class="nt">&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#getdoc'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Document width: '</code> <code class="o">+</code> <code class="n">$</code><code class="p">(</code><code class="nb">document</code><code class="p">).</code><code class="n">width</code><code class="p">())</code>
      <code class="p">}</code> <code class="p">)</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#getwin'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Window width: '</code> <code class="o">+</code> <code class="n">$</code><code class="p">(</code><code class="nb">window</code><code class="p">).</code><code class="n">width</code><code class="p">())</code>
      <code class="p">}</code> <code class="p">)</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#getdiv'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Div width: '</code> <code class="o">+</code> <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">width</code><code class="p">())</code>
      <code class="p">}</code> <code class="p">)</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#setdiv'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">width</code><code class="p">(</code><code class="mi">150</code><code class="p">)</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'Div width: '</code> <code class="o">+</code> <code class="n">$</code><code class="p">(</code><code class="s">'#result'</code><code class="p">).</code><code class="n">width</code><code class="p">())</code>
      <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="getting_and_setting_element_dim-id00114" class="figure"><img alt="Getting and setting element dimensions" src="Images/pmj6_2217.png" class="calibre144"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-17. </span>Getting and setting element dimensions</h6>
</div></figure>

<p class="author1">At the start of the <code class="calibre15">&lt;body&gt;</code>, there are four buttons: three for reporting the widths of the document, window, and a <code class="calibre15">&lt;div&gt;</code> element that appears just below the buttons; and one to set the <code class="calibre15">&lt;div&gt;</code>’s width to a new value. In the <code class="calibre15">&lt;script&gt;</code> section, there are four jQuery statements, the first three of which simply fetch the widths of the objects given and then report these values by writing into the HTML of the <code class="calibre15">&lt;div&gt;</code>.</p>

<p class="author1">The final statement has two parts: the first reduces the width of the <code class="calibre15">&lt;div&gt;</code> element to 150 pixels, and the second displays the new width value within the <code class="calibre15">&lt;div&gt;</code> by fetching it using the <code class="calibre15">width</code> method, to ensure the computed value is displayed.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">When the page has been zoomed (either in or out) by the user, this event is not noted in any major browser in any way that JavaScript can reliably detect. Therefore, jQuery cannot take zooming into account when it applies or returns dimensional values, so it is possible to get unexpected results in this circumstance.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The innerWidth and innerHeight Methods" class="calibre4"><div class="preface" id="innerwidth_and_innerheight_methods">
<h2 class="calibre28">The innerWidth and innerHeight Methods</h2>

<p class="author1">It’s<a contenteditable="false" data-primary="innerWidth method (jQuery)" data-type="indexterm" id="idm45694680588248" class="calibre6"/><a contenteditable="false" data-primary="innerHeight method (jQuery)" data-type="indexterm" id="idm45694680587096" class="calibre6"/> often necessary to also take borders, padding, and other properties into account when working with dimensions. For these purposes, you can use the <code class="calibre15">innerWidth</code> and <code class="calibre15">innerHeight</code> methods to return the width and height of the first element that matches the selector, <em class="hyperlink">including</em> the padding but <em class="hyperlink">not including</em> any border.</p>

<p class="author1">For example, the following returns the <code class="calibre15">innerWidth</code> of the element with an ID of <code class="calibre15">elem</code>, including padding:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">iwidth</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">innerWidth</code><code class="p">()</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The outerWidth and outerHeight Methods" class="calibre4"><div class="preface" id="outerwidth_and_outerheight_methods">
<h2 class="calibre28">The outerWidth and outerHeight Methods</h2>

<p class="author1">To<a contenteditable="false" data-primary="outerWidth method (jQuery)" data-type="indexterm" id="idm45694680550792" class="calibre6"/><a contenteditable="false" data-primary="OuterHeight Method (jQuery)" data-type="indexterm" id="idm45694680549720" class="calibre6"/> return the dimensions of an element including <em class="hyperlink">both</em> padding and border, you can call the <code class="calibre15">outerWidth</code> and <code class="calibre15">outerHeight</code> methods, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">owidth</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">outerWidth</code><code class="p">()</code></pre>

<p class="author1">If you wish to <em class="hyperlink">also</em> include any margin in the returned value, you can pass the value of <code class="calibre15">true</code> when you call either of these methods, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">owidth</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">outerWidth</code><code class="p">(</code><code class="k">true</code><code class="p">)</code></pre>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">The values returned for any of the <code class="calibre15">inner...</code> or <code class="calibre15">outer...</code> methods are not necessarily integers and may be fractional in some cases. User page zooming is not detected by these methods, and you cannot use these methods on <code class="calibre15">window</code> or <code class="calibre15">document</code> objects—for those, use the <code class="calibre15">width</code> or <code class="calibre15">height</code> methods instead.<a contenteditable="false" data-primary="" data-startref="JQdimen21" data-type="indexterm" id="idm45694680528488" class="calibre6"/></p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="DOM Traversal" class="calibre4"><div class="preface" id="dom_traversal">
<h1 class="calibre11">DOM Traversal</h1>

<p class="author1">If<a contenteditable="false" data-primary="jQuery" data-secondary="DOM traversal" data-type="indexterm" id="JQdomtrav21" class="calibre6"/><a contenteditable="false" data-primary="DOM (Document Object Model)" data-secondary="traversing with jQuery" data-type="indexterm" id="DOMtrav21" class="calibre6"/><a contenteditable="false" data-primary="traversing the DOM" data-type="indexterm" id="travdom21" class="calibre6"/> you refer back to the section on the Document Object Model in <a data-type="xref" href="ch14.xhtml#exploring_javascript" class="calibre6">Chapter 14</a>, you’ll recall that all web pages are constructed in much the same way as extended families. There are parent and child objects, siblings, grandparents, grandchildren, and even element relationships that could be referred to as cousins, aunts, and so forth. For example, in the following snippet, the <code class="calibre15">&lt;li&gt;</code> elements are children of the <code class="calibre15">&lt;ul&gt;</code> element, which, in turn, is parent to the <code class="calibre15">&lt;li&gt;</code> elements:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;ul&gt;</code>
  <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code></pre>

<p class="author1">And, like in families, there are multiple ways you can refer to HTML elements, such as with absolute specifications or by starting at the window level and moving on down (also known as <em class="hyperlink">traversing the DOM</em>). You can also use the relationship between one element and another to refer to elements. Really, it’s a matter of what makes sense for your particular project—for example, if you want a web page to be as self-contained as possible so that you have a better chance of cutting and pasting elements into other web documents without having to change the pasted HTML to match that of the destination. Whatever you choose, though, jQuery offers a wide range of functions to help you accurately address elements.</p>

<section data-type="sect2" data-pdf-bookmark="Parent Elements" class="calibre4"><div class="preface" id="parent_elements">
<h2 class="calibre28">Parent Elements</h2>

<p class="author1">To<a contenteditable="false" data-primary="parent method (jQuery)" data-type="indexterm" id="idm45694680451224" class="calibre6"/><a contenteditable="false" data-primary="parent elements" data-secondary="referring to" data-type="indexterm" id="idm45694680497336" class="calibre6"/> refer to an element’s direct parent, use the <code class="calibre15">parent</code> method like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">my_parent</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">parent</code><code class="p">()</code></pre>

<p class="author1">Whatever type of element <code class="calibre15">elem</code> may be, the <code class="calibre15">my_parent</code> object now contains a jQuery object that refers to its parent element. In fact, since selectors can refer to multiple elements, this call actually returns an object that refers to a list of parent elements (although the list can have only one item), one for each matching element.</p>

<p class="author1">Since a parent may have many children, you might wonder whether more elements can be returned by this method than there are parents. Take the preceding snippet with three <code class="calibre15">&lt;li&gt;</code> elements. If we do this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">my_parent</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'li'</code><code class="p">).</code><code class="n">parent</code><code class="p">()</code></pre>

<p class="author1">will three parent elements be returned (because three matches will be made), even though there is just a single <code class="calibre15">&lt;ul&gt;</code> parent? The answer is no, because jQuery is smart enough to recognize all duplicates and filter them out. To verify this, if you ask for the number of elements returned like this, the result will be <code class="calibre15">1</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">alert</code><code class="p">(</code><code class="n">$</code><code class="p">(</code><code class="s">'li'</code><code class="p">).</code><code class="n">parent</code><code class="p">().</code><code class="n">length</code><code class="p">)</code></pre>

<p class="author1">Let’s now make something happen when the selector matches, such as changing the <code class="calibre15">font-weight</code> property of the parent element in the previous snippet to <code class="calibre15">bold</code>, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'li'</code><code class="p">).</code><code class="n">parent</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<section data-type="sect3" data-pdf-bookmark="Using a filter" class="calibre4"><div class="preface" id="using_a_filter">
<h3 class="calibre43">Using a filter</h3>

<p class="author1">Optionally, a selector<a contenteditable="false" data-primary="parent elements" data-secondary="filtering" data-type="indexterm" id="idm45694680285048" class="calibre6"/> can be passed to <code class="calibre15">parent</code> to filter out which of the parents should reflect the desired changes. To illustrate, <a data-type="xref" href="#accessing_parent_elements" class="calibre6">Example 22-20</a> has three small lists and a couple of jQuery statements.</p>

<div data-type="example" id="accessing_parent_elements" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-20. </span>Accessing parent elements</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>DOM Traversal: Parent<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;ul&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
    <code class="nt">&lt;/ul&gt;</code>
    <code class="nt">&lt;ul</code> <code class="na">class=</code><code class="s">'memo'</code><code class="nt">&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
    <code class="nt">&lt;/ul&gt;</code>
    <code class="nt">&lt;ul&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
    <code class="nt">&lt;/ul&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'li'</code><code class="p">).</code><code class="n">parent</code><code class="p">()</code>       <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code>     <code class="s">'bold'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'li'</code><code class="p">).</code><code class="n">parent</code><code class="p">(</code><code class="s">'.memo'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'list-style-type'</code><code class="p">,</code> <code class="s">'circle'</code><code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">The three lists are all the same, except that the middle one’s <code class="calibre15">&lt;ul&gt;</code> element uses a class of <code class="calibre15">memo</code>. In the <code class="calibre15">&lt;script&gt;</code> section, the first statement applies a value of <code class="calibre15">bold</code> to the <code class="calibre15">font-weight</code> property of all parents of <code class="calibre15">&lt;li&gt;</code> elements. In this instance, it causes all the <code class="calibre15">&lt;ul&gt;</code> elements to display in bold.</p>

<p class="author1">The second statement is similar but also passes the class name <code class="calibre15">memo</code> to the parent method so that only that parent will be selected. Then the <code class="calibre15">css</code> method is called to set the <code class="calibre15">list-style-type</code> property of the selected list to <code class="calibre15">circle</code>. <a data-type="xref" href="#accessing_parent_elements_with_and_witho" class="calibre6">Figure 22-18</a> shows the effect of these two statements.</p>

<figure class="calibre23"><div id="accessing_parent_elements_with_and_witho" class="figure"><img alt="Accessing parent elements with and without filters" src="Images/pmj6_2218.png" class="calibre145"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-18. </span>Accessing parent elements with and without filters</h6>
</div></figure>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Selecting all ancestor elements" class="calibre4"><div class="preface" id="selecting_all_ancestor_elements">
<h3 class="calibre43">Selecting all ancestor elements</h3>

<p class="author1">We’ve<a contenteditable="false" data-primary="parent elements" data-secondary="selecting all ancestor elements" data-type="indexterm" id="idm45694680147896" class="calibre6"/><a contenteditable="false" data-primary="ancestor elements, selecting all" data-type="indexterm" id="idm45694680146424" class="calibre6"/> just seen how to select direct parents of elements, but you can also select ancestors, all the way back to the <code class="calibre15">&lt;html&gt;</code> root element, by using the <code class="calibre15">parents</code> method. But why might you want to do this? Well, how about wanting to access the first <code class="calibre15">&lt;div&gt;</code> element up the ancestry chain in order to style it according to something dynamic that has gone on further down the chain?</p>

<p class="author1">This type of selection may be slightly too advanced for any purpose you can think of right now, but you’ll be pleased it’s there when you need it, and here’s how you might proceed:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">parents</code><code class="p">(</code><code class="s">'div'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'yellow'</code><code class="p">)</code></pre>

<p class="author1">Actually, that may not be exactly what you want, because it will select all <code class="calibre15">&lt;div&gt;</code> elements in the ancestry chain, and there may be others further up that you don’t want to style. So, for this type of eventuality, you can further filter the selection by using the <code class="calibre15">parentsUntil</code> method instead.</p>

<p class="author1">The <code class="calibre15">parentsUntil</code> method traverses up the ancestry chain in the same way as <span class="keep-together"><code class="calibre15">parents</code></span> but stops at the first element that matches the selection filter (in this case, it’s a <code class="calibre15">&lt;div&gt;</code> element), so you can use it in the same way as the preceding statement, certain in the knowledge that you will select only the closest matching element you want:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">parentsUntil</code><code class="p">(</code><code class="s">'div'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'yellow'</code><code class="p">)</code></pre>

<p class="author1">To illustrate the difference between these two methods, take a look at <a data-type="xref" href="#using_the_parents_and_parentsuntil_metho" class="calibre6">Example 22-21</a>, which contains two sets of nested elements, both of which are within one parent <code class="calibre15">&lt;div&gt;</code> element. The <code class="calibre15">&lt;script&gt;</code> section calls one example each of the <code class="calibre15">parents</code> and <span class="keep-together"><code class="calibre15">parentsUntil</code></span> methods.</p>

<div data-type="example" id="using_the_parents_and_parentsuntil_metho" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-21. </span>Using the <code class="calibre15">parents</code> and <code class="calibre15">parentsUntil</code> methods</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">DOM Traversal: Parents</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;div</code><code class="nt">&gt;</code><code class="calibre15">
      </code><strong class="calibre31"><code class="na1">&lt;div</code><code class="na1">&gt;</code></strong><code class="calibre15">
        </code><strong class="calibre31"><code class="na1">&lt;section</code><code class="na1">&gt;</code></strong><code class="calibre15">
          </code><strong class="calibre31"><code class="na1">&lt;blockquote</code><code class="na1">&gt;</code></strong><code class="calibre15">
            </code><strong class="calibre31"><code class="na1">&lt;ul</code><code class="na1">&gt;</code></strong><code class="calibre15">
              </code><strong class="calibre31"><code class="na1">&lt;li</code><code class="na1">&gt;</code><code class="calibre17">Item 1</code><code class="na1">&lt;/li&gt;</code></strong><code class="calibre15">
              </code><strong class="calibre31"><code class="na1">&lt;li</code><code class="calibre17"> </code><code class="na1">id=</code><code class="s2">'elem'</code><code class="na1">&gt;</code><code class="calibre17">Item 2</code><code class="na1">&lt;/li&gt;</code></strong><code class="calibre15">
              </code><strong class="calibre31"><code class="na1">&lt;li</code><code class="na1">&gt;</code><code class="calibre17">Item 3</code><code class="na1">&lt;/li&gt;</code></strong><code class="calibre15">
            </code><strong class="calibre31"><code class="na1">&lt;/ul&gt;</code></strong><code class="calibre15">
          </code><strong class="calibre31"><code class="na1">&lt;/blockquote&gt;</code></strong><code class="calibre15">
        </code><strong class="calibre31"><code class="na1">&lt;/section&gt;</code></strong><code class="calibre15">
      </code><strong class="calibre31"><code class="na1">&lt;/div&gt;</code></strong><code class="calibre15">
      </code><code class="nt">&lt;div</code><code class="nt">&gt;</code><code class="calibre15">
        </code><code class="nt">&lt;section</code><code class="nt">&gt;</code><code class="calibre15">
          </code><code class="nt">&lt;blockquote</code><code class="nt">&gt;</code><code class="calibre15">
            </code><code class="nt">&lt;ul</code><code class="nt">&gt;</code><code class="calibre15">
              </code><code class="nt">&lt;li</code><code class="nt">&gt;</code><code class="calibre15">Item 1</code><code class="nt">&lt;/li&gt;</code><code class="calibre15">
              </code><code class="nt">&lt;li</code><code class="nt">&gt;</code><code class="calibre15">Item 2</code><code class="nt">&lt;/li&gt;</code><code class="calibre15">
              </code><code class="nt">&lt;li</code><code class="nt">&gt;</code><code class="calibre15">Item 3</code><code class="nt">&lt;/li&gt;</code><code class="calibre15">
            </code><code class="nt">&lt;/ul&gt;</code><code class="calibre15">
          </code><code class="nt">&lt;/blockquote&gt;</code><code class="calibre15">
        </code><code class="nt">&lt;/section&gt;</code><code class="calibre15">
      </code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script</code><code class="nt">&gt;</code><code class="calibre15">
      </code><code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">)</code><code class="p">.</code><code class="n">parents</code><code class="p">(</code><code class="s">'div'</code><code class="p">)</code><code class="calibre15">     </code><code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code><code class="calibre15">      </code><code class="s">'yellow'</code><code class="p">)</code><code class="calibre15">
      </code><code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">)</code><code class="p">.</code><code class="n">parentsUntil</code><code class="p">(</code><code class="s">'div'</code><code class="p">)</code><code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'underline'</code><code class="p">)</code><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">If you take a look at <a data-type="xref" href="#comparing_the_parents_and_parentsuntil_m" class="calibre6">Figure 22-19</a>, you’ll see that the first jQuery statement has set the background color of all the contents to yellow. This is because the ancestry tree has been traversed all the way up to the <code class="calibre15">&lt;html&gt;</code> element using the <code class="calibre15">parents</code> method, and both <code class="calibre15">&lt;div&gt;</code> elements encountered on the way up the tree have been selected (the one containing the list with the <code class="calibre15">&lt;li&gt;</code> element—highlighted in bold—with the ID of <code class="calibre15">elem</code> <em class="hyperlink">and</em> its parent <code class="calibre15">&lt;div&gt;</code>, which contains both sets of nested elements).</p>

<figure class="calibre23"><div id="comparing_the_parents_and_parentsuntil_m" class="figure"><img alt="Comparing the parents and parentsUntil methods" src="Images/pmj6_2219.png" class="calibre146"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-19. </span>Comparing the <code class="calibre15">parents</code> and <code class="calibre15">parentsUntil</code> methods</h6>
</div></figure>

<p class="author1">However, the second statement uses <code class="calibre15">parentsUntil</code> so that the selection stops at the first <code class="calibre15">&lt;div&gt;</code> element encountered. This means that when the underline styling is applied, it is applied only to the closest parent <code class="calibre15">&lt;div&gt;</code> that contains the <code class="calibre15">&lt;li&gt;</code> element with the ID of <code class="calibre15">elem</code>. The outer <code class="calibre15">&lt;div&gt;</code> is not reached, and because it doesn’t get styled, the second list isn’t underlined.</p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Child Elements" class="calibre4"><div class="preface" id="child_elements">
<h2 class="calibre28">Child Elements</h2>

<p class="author1">To<a contenteditable="false" data-primary="child elements, accessing" data-type="indexterm" id="idm45694679816808" class="calibre6"/> access the children of an element, use the <code class="calibre15">children</code> method, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">my_children</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">children</code><code class="p">()</code></pre>

<p class="author1">Like the <code class="calibre15">parent</code> method, this goes down only one level and returns a list of zero, one, or more matching selections. You can also pass a filter argument to it to select between the children, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">li_children</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">children</code><code class="p">(</code><code class="s">'li'</code><code class="p">)</code></pre>

<p class="author1">Here, only children that are <code class="calibre15">&lt;li&gt;</code> elements will be selected.</p>

<p class="author1">To delve deeper down the generations, you need to use the <code class="calibre15">find</code> method, which is the inverse of <code class="calibre15">parents</code>, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">li_descendants</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">find</code><code class="p">(</code><code class="s">'li'</code><code class="p">)</code></pre>

<p class="author1">However, unlike with <code class="calibre15">parents</code>, you <em class="hyperlink">must</em> provide a filter selector to the <code class="calibre15">find</code> method. If you need to select all descendants, you can use the universal selector, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">all_descendants</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'#elem'</code><code class="p">).</code><code class="n">find</code><code class="p">(</code><code class="s">'*'</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Sibling Elements" class="calibre4"><div class="preface" id="sibling_elements">
<h2 class="calibre28">Sibling Elements</h2>

<p class="author1">When<a contenteditable="false" data-primary="sibling elements, selecting" data-type="indexterm" id="idm45694679779048" class="calibre6"/> it comes to selecting siblings, there’s an even wider range of methods available, starting with <code class="calibre15">siblings</code>.</p>

<p class="author1">The <code class="calibre15">siblings</code> method will return all the matching elements that are children of the same parent, <em class="hyperlink">except</em> for the element used for selecting. So, taking the example of the following snippet, if you look up the siblings of the <code class="calibre15">&lt;li&gt;</code> element with the ID of <code class="calibre15">two</code>, it will return only the first and third <code class="calibre15">&lt;li&gt;</code> elements:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;ul&gt;</code>
  <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'two'</code><code class="nt">&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code></pre>

<p class="author1">For example, the following statement will cause the first and third sibling elements to be bold:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#two'</code><code class="p">).</code><code class="n">siblings</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">You can also use a filter in the <code class="calibre15">siblings</code> method to further narrow down the siblings returned. For example, to select only those siblings that use the class <code class="calibre15">new</code>, you might use a statement such as this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#two'</code><code class="p">).</code><code class="n">siblings</code><code class="p">(</code><code class="s">'.new'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1"><a data-type="xref" href="#selecting_and_filtering_sibling_elements" class="calibre6">Example 22-22</a> (liberally whitespaced to line up the attributes in columns) displays an unordered list of seven items, of which four use the class <code class="calibre15">new</code>. The second item also has the ID of <code class="calibre15">two</code>.</p>

<div data-type="example" id="selecting_and_filtering_sibling_elements" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-22. </span>Selecting and filtering sibling elements</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>DOM Traversal: Siblings<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;ul&gt;</code>
      <code class="nt">&lt;li</code>          <code class="na">class=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'two'</code> <code class="na">class=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code>                     <code class="nt">&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code>          <code class="na">class=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 4<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code>          <code class="na">class=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 5<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code>                     <code class="nt">&gt;</code>Item 6<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code>                     <code class="nt">&gt;</code>Item 7<code class="nt">&lt;/li&gt;</code>
    <code class="nt">&lt;/ul&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'#two'</code><code class="p">).</code><code class="n">siblings</code><code class="p">(</code><code class="s">'.new'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">When loaded into a browser, the jQuery statement results in <a data-type="xref" href="#selecting_sibling_elements" class="calibre6">Figure 22-20</a>, in which only Item 1, Item 4, and Item 5 are in bold, even though Item 2 also uses the class <code class="calibre15">new</code> (because the method is called on that element, and so it is excluded from the <span class="keep-together">selection).</span></p>

<figure class="calibre23"><div id="selecting_sibling_elements" class="figure"><img alt="Selecting sibling elements" src="Images/pmj6_2220.png" class="calibre147"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-20. </span>Selecting sibling elements</h6>
</div></figure>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Since the <code class="calibre15">siblings</code> method omits the element on which it is called (which I will refer to as the <em class="hyperlink">callee</em>), it cannot be used to select from <em class="hyperlink">all</em> children of a parent element. However, to achieve that with the preceding example, you could use a statement such as the following, which will return all siblings (including the callee) that use the class <code class="calibre15">new</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre45">
<code class="n">$</code><code class="p">(</code><code class="s">'#two'</code><code class="p">).</code><code class="n">parent</code><code class="p">().</code><code class="n">children</code><code class="p">(</code><code class="s">'.new'</code><code class="p">)</code>
<code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">You can alternatively add the <code class="calibre15">addBack</code> method to the selection to achieve the same result, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre45">
<code class="n">$</code><code class="p">(</code><code class="s">'#two'</code><code class="p">).</code><code class="n">siblings</code><code class="p">(</code><code class="s">'.new'</code><code class="p">).</code><code class="n">addBack</code><code class="p">()</code>
<code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Selecting the Next and Previous Elements" class="calibre4"><div class="preface" id="selecting_the_next_and_previous_elements">
<h2 class="calibre28">Selecting the Next and Previous Elements</h2>

<p class="author1">When you need finer control over the selection of siblings, you can further narrow down the elements returned using the <code class="calibre15">next</code> and <code class="calibre15">prev</code> methods and their extended versions. For example, to refer to the element immediately following a selector, you can use a statement such as this (which sets the matched element(s) to display in bold):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">next</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">In the case of the following liberally whitespaced snippet, for example, the third item has the ID <code class="calibre15">new</code>, and therefore the fourth item is returned:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;ul&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 4<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 5<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code></pre>

<p class="author1">So far, so simple. But what if you would like to reference <em class="hyperlink">all</em> the siblings following a particular element? Well, you can do that with the <code class="calibre15">nextAll</code> method, like this (which in the preceding snippet would style the last two items):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">nextAll</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">When calling <code class="calibre15">nextAll</code>, you can also supply a filter to select from the elements that are matched, such as in the following example, which will style only the following siblings that use the class <code class="calibre15">info</code> (in the previous snippet, however, there are no elements that use that class, so the statement will do nothing):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">nextAll</code><code class="p">(</code><code class="s">'.info'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">Or consider the case of this snippet, in which one item has the ID <code class="calibre15">new</code> and another has the ID <code class="calibre15">old</code>:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;ul&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'old'</code><code class="nt">&gt;</code>Item 4<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code>         <code class="nt">&gt;</code>Item 5<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code></pre>

<p class="author1">Now it’s possible to select only those siblings following the one with the ID of <code class="calibre15">new</code>, up to (but not including) the one with the ID of <code class="calibre15">old</code>, like this (in which just the third item will be styled):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">nextUntil</code><code class="p">(</code><code class="s">'#old'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">If no argument is supplied to <code class="calibre15">nextUntil</code>, it behaves exactly like <code class="calibre15">nextAll</code>, returning all the following siblings. You can also supply a second argument to <code class="calibre15">nextUntil</code> to act as a filter for selecting from the elements that are matched by it, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">nextUntil</code><code class="p">(</code><code class="s">'#old'</code><code class="p">,</code> <code class="s">'.info'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">In this statement, only those elements that use the class <code class="calibre15">info</code> will be styled, which in the case of the preceding snippet is none of them, so no action will be taken.</p>

<p class="author1">You can do exactly the same, working backward through groups of siblings, by using the <code class="calibre15">prev</code>, <code class="calibre15">prevAll</code>, and <code class="calibre15">prevUntil</code> methods.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Traversing jQuery Selections" class="calibre4"><div class="preface" id="traversing_jquery_selections">
<h2 class="calibre28">Traversing jQuery Selections</h2>

<p class="author1">In<a contenteditable="false" data-primary="traversing jQuery selections" data-type="indexterm" id="idm45694679197976" class="calibre6"/> addition to traversing the DOM, once you have returned a set of elements as a jQuery selection you can also traverse those elements, choosing which ones to act on.</p>

<p class="author1">For example, to style just the first element returned by a selection, you can use the <code class="calibre15">first</code> method, like this (to set the first list item in the first unordered list to display underlined):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">first</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code> <code class="s">'underline'</code><code class="p">)</code></pre>

<p class="author1">Or you can choose to style only the last item by using the <code class="calibre15">last</code> method, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">last</code><code class="p">().</code><code class="n">css</code><code class="p">(</code><code class="s">'font-style'</code><code class="p">,</code> <code class="s">'italic'</code><code class="p">)</code></pre>

<p class="author1">Or, to access an element by index (starting from 0), you can use the <code class="calibre15">eq</code> method, like this (which styles the second item in the list, because numbering starts at 0):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">eq</code><code class="p">(</code><code class="mi">1</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code> <code class="s">'bold'</code><code class="p">)</code></pre>

<p class="author1">You can also apply a filter to a selection using the <code class="calibre15">filter</code> method, like this (which changes the background color of every other element starting with the first, element 0):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">filter</code><code class="p">(</code><code class="s">':even'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code> <code class="s">'cyan'</code><code class="p">)</code></pre>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">Remember that when you are indexing into jQuery selections, the first element is the zeroth. So, for example, when you use the selector <code class="calibre15">:even</code> in this manner, elements 1, 3, 5, and so on will be selected (not 0, 2, 4, 6, etc.).</p>
</div>

<p class="author1">To exclude one or more elements, you can apply the <code class="calibre15">not</code> method, like this (where elements that <em class="hyperlink">don’t</em> use the ID <code class="calibre15">new</code> are styled in blue):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">not</code><code class="p">(</code><code class="s">'#new'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'color'</code><code class="p">,</code> <code class="s">'blue'</code><code class="p">)</code></pre>

<p class="author1">You can also select an element depending on what descendants it has. To select only elements that have descendant <code class="calibre15">&lt;ol&gt;</code> elements, for example, you could use this statement to place a line through those that match:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">has</code><code class="p">(</code><code class="s">'ol'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code> <code class="s">'line-through'</code><code class="p">)</code></pre>

<p class="author1"><a data-type="xref" href="#traversing_a_jquery_selection" class="calibre6">Example 22-23</a> brings all these together to style an unordered list, one of whose elements also contains an ordered list.</p>

<div data-type="example" id="traversing_a_jquery_selection" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-23. </span>Traversing a jQuery selection</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Selection Traversal<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;ul&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 1<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 2<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li</code> <code class="na">id=</code><code class="s">'new'</code><code class="nt">&gt;</code>Item 3<code class="nt">&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 4
        <code class="nt">&lt;ol</code> <code class="na">type=</code><code class="s">'a'</code><code class="nt">&gt;</code>
          <code class="nt">&lt;li&gt;</code>Item 4a<code class="nt">&lt;/li&gt;</code>
          <code class="nt">&lt;li&gt;</code>Item 4b<code class="nt">&lt;/li&gt;</code>
        <code class="nt">&lt;/ol&gt;&lt;/li&gt;</code>
      <code class="nt">&lt;li&gt;</code>Item 5<code class="nt">&lt;/li&gt;</code>
    <code class="nt">&lt;/ul&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">first</code><code class="p">()</code>        <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code> <code class="s">'underline'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">last</code><code class="p">()</code>         <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'font-style'</code><code class="p">,</code>      <code class="s">'italic'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">eq</code><code class="p">(</code><code class="mi">1</code><code class="p">)</code>          <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'font-weight'</code><code class="p">,</code>     <code class="s">'bold'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">filter</code><code class="p">(</code><code class="s">':even'</code><code class="p">).</code><code class="n">css</code><code class="p">(</code><code class="s">'background'</code><code class="p">,</code>      <code class="s">'cyan'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">not</code><code class="p">(</code><code class="s">'#new'</code><code class="p">)</code>    <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'color'</code><code class="p">,</code>           <code class="s">'blue'</code><code class="p">)</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'ul&gt;li'</code><code class="p">).</code><code class="n">has</code><code class="p">(</code><code class="s">'ol'</code><code class="p">)</code>      <code class="p">.</code><code class="n">css</code><code class="p">(</code><code class="s">'text-decoration'</code><code class="p">,</code> <code class="s">'line-through'</code><code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">As you will see from studying <a data-type="xref" href="#uniquely_addressing_elements_in_a_jquery" class="calibre6">Figure 22-21</a>, every element in each list has been styled by one or more of the jQuery statements.</p>

<figure class="calibre23"><div id="uniquely_addressing_elements_in_a_jquery" class="figure"><img alt="Uniquely addressing elements in a jQuery selection" src="Images/pmj6_2221.png" class="calibre148"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-21. </span>Uniquely addressing elements in a jQuery selection</h6>
</div></figure>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The is Method" class="calibre4"><div class="preface" id="is_method">
<h2 class="calibre28">The is Method</h2>

<p class="author1">There<a contenteditable="false" data-primary="is method (jQuery)" data-type="indexterm" id="idm45694678799976" class="calibre6"/> is also a jQuery selector that returns a Boolean value for use in plain JavaScript: the <code class="calibre15">is</code> method. Unlike the jQuery filtering methods shown in earlier sections, this function doesn’t create a new jQuery object that can then have other methods appended to it, or that can then be further filtered. Instead, it returns just <code class="calibre15">true</code> or <code class="calibre15">false</code>, making the method most suitable for use in conditional statements.</p>

<p class="author1"><a data-type="xref" href="#reporting_the_parent_element_with_is" class="calibre6">Example 22-24</a> uses the <code class="calibre15">is</code> method attached to a call to <span class="keep-together"><code class="calibre15">parent</code></span> in an event handler for a set of buttons. When any button is clicked, the handler is called, and the <code class="calibre15">is</code> method returns a value of <code class="calibre15">true</code> or <code class="calibre15">false</code> when asked whether the parent element is a <code class="calibre15">&lt;div&gt;</code> (<a class="calibre6" data-type="xref" href="#using_the_is_method_to_report_the_parent">Figure 22-22</a>).</p>

<div data-type="example" id="reporting_the_parent_element_with_is" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-24. </span>Reporting the <code class="calibre15">parent</code> element with <code class="calibre15">is</code></h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Using is<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;div&gt;&lt;button&gt;</code>Button in a div<code class="nt">&lt;/button&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;div&gt;&lt;button&gt;</code>Button in a div<code class="nt">&lt;/button&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;span&gt;&lt;button&gt;</code>Button in a span<code class="nt">&lt;/button&gt;&lt;/span&gt;</code>
    <code class="nt">&lt;div&gt;&lt;button&gt;</code>Button in a div<code class="nt">&lt;/button&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;span&gt;&lt;button&gt;</code>Button in a span<code class="nt">&lt;/button&gt;&lt;/span&gt;</code>
    <code class="nt">&lt;p</code> <code class="na">id=</code><code class="s">'info'</code><code class="nt">&gt;&lt;/p&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">(</code><code class="s">'button'</code><code class="p">).</code><code class="n">click</code><code class="p">(</code><code class="k">function</code><code class="p">()</code>
      <code class="p">{</code>
        <code class="k">var</code> <code class="n">elem</code> <code class="o">=</code> <code class="s">''</code>

        <code class="k">if</code> <code class="p">(</code><code class="n">$</code><code class="p">(</code><code class="k">this</code><code class="p">).</code><code class="n">parent</code><code class="p">().</code><code class="n">is</code><code class="p">(</code><code class="s">'div'</code><code class="p">))</code> <code class="n">elem</code> <code class="o">=</code> <code class="s">'div'</code>
        <code class="k">else</code>                            <code class="n">elem</code> <code class="o">=</code> <code class="s">'span'</code>

        <code class="n">$</code><code class="p">(</code><code class="s">'#info'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'You clicked a '</code> <code class="o">+</code> <code class="n">elem</code><code class="p">)</code>
      <code class="p">})</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<figure class="calibre23"><div id="using_the_is_method_to_report_the_parent" class="figure"><img alt="Using the is method to report the parent element" src="Images/pmj6_2222.png" class="calibre149"/>
<h6 class="calibre24"><span class="keep-together">Figure 22-22. </span>Using the <code class="calibre15">is</code> method to report the <code class="calibre15">parent</code> element</h6>
</div></figure>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using jQuery Without Selectors" class="calibre4"><div class="preface" id="using_jquery_without_selectors">
<h1 class="calibre11">Using jQuery Without Selectors</h1>

<p class="author1">A<a contenteditable="false" data-primary="" data-startref="JQdomtrav21" data-type="indexterm" id="idm45694678575896" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="DOMtrav21" data-type="indexterm" id="idm45694678744120" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="travdom21" data-type="indexterm" id="idm45694678742744" class="calibre6"/> couple of jQuery methods<a contenteditable="false" data-primary="jQuery" data-secondary="using without selectors" data-type="indexterm" id="idm45694678741192" class="calibre6"/> are provided for use with standard JavaScript objects, rendering their handling a lot simpler. These are <code class="calibre15">$.each</code> and <code class="calibre15">$.map</code>, which are similar but have subtle differences.</p>

<section data-type="sect2" data-pdf-bookmark="The $.each Method" class="calibre4"><div class="preface" id="dollardoteach_method">
<h2 class="calibre28">The $.each Method</h2>

<p class="author1">Using <code class="calibre15">$.each</code>, you can<a contenteditable="false" data-primary="$.each method  (jQuery)" data-type="indexterm" id="idm45694678736184" class="calibre6"/> iterate through arrays or array-like objects by simply attaching a function to be called for each iteration. <a data-type="xref" href="#calling_the_each_method" class="calibre6">Example 22-25</a> shows an array of pet names and types (called <code class="calibre15">pets</code>), from which another array (called <code class="calibre15">guineapigs</code>) needs to be extracted, containing only the names of the guinea pigs.</p>

<div data-type="example" id="calling_the_each_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-25. </span>Calling the <code class="calibre15">$.each</code> method</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Using each<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'info'</code><code class="nt">&gt;&lt;/div&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">pets</code> <code class="o">=</code>
      <code class="p">{</code>
        <code class="n">Scratchy</code> <code class="o">:</code> <code class="s">'Guinea Pig'</code><code class="p">,</code>
        <code class="n">Squeaky</code>  <code class="o">:</code> <code class="s">'Guinea Pig'</code><code class="p">,</code>
        <code class="n">Fluffy</code>   <code class="o">:</code> <code class="s">'Rabbit'</code><code class="p">,</code>
        <code class="n">Thumper</code>  <code class="o">:</code> <code class="s">'Rabbit'</code><code class="p">,</code>
        <code class="n">Snoopy</code>   <code class="o">:</code> <code class="s">'Dog'</code><code class="p">,</code>
        <code class="n">Tiddles</code>  <code class="o">:</code> <code class="s">'Cat'</code>
      <code class="p">}</code>

      <code class="n">guineapigs</code> <code class="o">=</code> <code class="p">[]</code>

      <code class="n">$</code><code class="p">.</code><code class="n">each</code><code class="p">(</code><code class="n">pets</code><code class="p">,</code> <code class="k">function</code><code class="p">(</code><code class="n">name</code><code class="p">,</code> <code class="n">type</code><code class="p">)</code>
      <code class="p">{</code>
        <code class="k">if</code> <code class="p">(</code><code class="n">type</code> <code class="o">==</code> <code class="s">'Guinea Pig'</code><code class="p">)</code> <code class="n">guineapigs</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="n">name</code><code class="p">)</code>
      <code class="p">})</code>

      <code class="n">$</code><code class="p">(</code><code class="s">'#info'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="s">'The guinea pig names are: '</code> <code class="o">+</code> <code class="n">guineapigs</code><code class="p">.</code><code class="n">join</code><code class="p">(</code><code class="s">' &amp; '</code><code class="p">))</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">To do this, the <code class="calibre15">$.each</code> method is passed the array, along with an anonymous function to process it. The function takes two arguments, the index into the array (called <code class="calibre15">name</code>) and the contents of each element (called <code class="calibre15">type</code>).</p>

<p class="author1">The value in <code class="calibre15">type</code> is then tested to see whether it is <code class="calibre15">Guinea Pig</code>, and if so, the value in <code class="calibre15">name</code> is pushed onto the <code class="calibre15">guineapigs</code> array. Upon completion, the code displays the contents of the <span class="keep-together"><code class="calibre15">guineapigs</code></span> array by writing them into the <code class="calibre15">&lt;div&gt;</code> element with the ID of <code class="calibre15">info</code>. To separate the items in the array, the JavaScript <code class="calibre15">join</code> method is used with the <code class="calibre15">&amp;</code> symbol as a <span class="keep-together">separator.</span> The result of loading this example into a browser is simply to display the text “The guinea pig names are: Scratchy &amp; Squeaky.”</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The $.map Method" class="calibre4"><div class="preface" id="dollardotmap_method">
<h2 class="calibre28">The $.map Method</h2>

<p class="author1">Another<a contenteditable="false" data-primary="$.map method (jQuery)" data-type="indexterm" id="idm45694678517688" class="calibre6"/> way to achieve this is with the <code class="calibre15">$.map</code> method, which returns all the values that your function returns in an array.</p>

<p class="author1">This function saves you the trouble of creating an array, as we had to in the preceding example. Instead, you can create and populate the array at the same time, by assigning the array returned by <code class="calibre15">$.map</code> to a variable, like this (the end result being the same but with less code):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">guineapigs</code> <code class="o">=</code> <code class="n">$</code><code class="p">.</code><code class="n">map</code><code class="p">(</code><code class="n">pets</code><code class="p">,</code> <code class="k">function</code><code class="p">(</code><code class="n">type</code><code class="p">,</code> <code class="n">name</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">if</code> <code class="p">(</code><code class="n">type</code> <code class="o">==</code> <code class="s">'Guinea Pig'</code><code class="p">)</code> <code class="k">return</code> <code class="n">name</code>
<code class="p">})</code></pre>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">Watch out when you change between using the <code class="calibre15">$.each</code> and <code class="calibre15">$.map</code> methods, because <code class="calibre15">$.each</code> passes arguments to the function in the order <em class="hyperlink">index</em>, <em class="hyperlink">value</em>, but map uses the order <em class="hyperlink">value</em>, <em class="hyperlink">index</em>. This is why the two arguments are swapped in the preceding <code class="calibre15">$.map</code> example.</p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using Asynchronous Communication" class="calibre4"><div class="preface" id="using_ajax-id00115">
<h1 class="calibre11">Using Asynchronous Communication</h1>

<p class="author1">In <a data-type="xref" href="ch18.xhtml#using_ajax" class="calibre6">Chapter 18</a>, I showed<a contenteditable="false" data-primary="jQuery" data-secondary="asynchronous communication using" data-type="indexterm" id="idm45694678481208" class="calibre6"/><a contenteditable="false" data-primary="asynchronous communication" data-secondary="jQuery and" data-type="indexterm" id="idm45694678479832" class="calibre6"/> in detail how to implement asynchronous communications between JavaScript in a browser and PHP running on a web server. I also provided some handy and compact functions you can call to simplify the process.</p>

<p class="author1">But if you have jQuery loaded, you can use its asynchronous functionality instead, if you prefer—it works in a very similar way, in that you choose whether to make a POST or a GET request and then take it from there.</p>

<section class="calibre4" data-type="sect2" data-pdf-bookmark="Using the POST Method"><div class="preface" id="using_the_post_method">
<h2 class="calibre28">Using the POST Method</h2>

<p class="author1"><a data-type="xref" href="#sending_a_post_ajax_request" class="calibre6">Example 22-26</a> (which loads the Amazon Mobile website into a <code class="calibre15">&lt;div&gt;</code> element) is the direct<a contenteditable="false" data-primary="POST method (HTTP)" data-secondary="jQuery and" data-type="indexterm" id="idm45694678474056" class="calibre6"/> jQuery equivalent to <a data-type="xref" href="ch18.xhtml#urlpostdothtml" class="calibre6">Example 18-1</a>, but since all the asynchronous communication–handling code is tidied away in the jQuery library file, it’s much shorter. It requires just a single call to the <code class="calibre15">$.post</code> method, passing it the following three items:</p>

<ul class="printings">
	<li class="calibre9">The URL of a PHP program on the server to access
	</li>
	<li class="calibre9">The data to pass to that URL
	</li>
	<li class="calibre9">An anonymous function to process the returned data
	</li>
</ul>

<div data-type="example" id="sending_a_post_ajax_request" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-26. </span>Sending a POST asynchronous request</h5>
<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code> <code class="c4">&lt;!-- jqueryasyncpost.htm --&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>jQuery Asynchronous Post<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body</code> <code class="na">style=</code><code class="s">'text-align:center'</code><code class="nt">&gt;</code>
    <code class="nt">&lt;h1&gt;</code>Loading a web page into a DIV<code class="nt">&lt;/h1&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'info'</code><code class="nt">&gt;</code>This sentence will be replaced<code class="nt">&lt;/div&gt;</code>

    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">.</code><code class="n">post</code><code class="p">(</code><code class="s">'urlpost.php'</code><code class="p">,</code> <code class="p">{</code> <code class="n">url</code> <code class="o">:</code> <code class="s">'amazon.com/gp/aw'</code> <code class="p">},</code> <code class="k">function</code><code class="p">(</code><code class="n">data</code><code class="p">)</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#info'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="n">data</code><code class="p">)</code>
      <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">The <em class="hyperlink">urlpost.php</em> program remains unchanged from <a data-type="xref" href="ch18.xhtml#urlpostdotphp" class="calibre6">Example 18-2</a>, because this example and <a data-type="xref" href="ch18.xhtml#urlpostdothtml" class="calibre6">Example 18-1</a> are interchangeable.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using the GET Method" class="calibre4"><div class="preface" id="using_the_get_method">
<h2 class="calibre28">Using the GET Method</h2>

<p class="author1">Communicating<a contenteditable="false" data-primary="GET method (HTTP)" data-secondary="jQuery and" data-type="indexterm" id="idm45694678323848" class="calibre6"/> asynchronously using the GET method is just as easy, requiring only the following two arguments:</p>

<ul class="printings">
	<li class="calibre9">
	<p class="author1">The URL of a PHP program on the server to access (including a query string containing the data to pass to it)</p>
	</li>
	<li class="calibre9">
	<p class="author1">An anonymous function to process the returned data</p>
	</li>
</ul>

<p class="author1"><a data-type="xref" href="#sending_a_get_ajax_request" class="calibre6">Example 22-27</a> is therefore the jQuery equivalent to <a data-type="xref" href="ch18.xhtml#urlgetdothtml" class="calibre6">Example 18-3</a>.</p>

<div data-type="example" id="sending_a_get_ajax_request" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 22-27. </span>Sending a GET asynchronous request</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="cp">&lt;!DOCTYPE html&gt;</code>
<code class="nt">&lt;html&gt;</code> <code class="c4">&lt;!-- jqueryasyncget.htm --&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>jQuery Asynchronous GET<code class="nt">&lt;/title&gt;</code>
    <code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'jquery-3.5.1.min.js'</code><code class="nt">&gt;&lt;/script&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body</code> <code class="na">style=</code><code class="s">'text-align:center'</code><code class="nt">&gt;</code>
    <code class="nt">&lt;h1&gt;</code>Loading a web page into a DIV<code class="nt">&lt;/h1&gt;</code>
    <code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'info'</code><code class="nt">&gt;</code>This sentence will be replaced<code class="nt">&lt;/div&gt;</code>

    <code class="nt">&lt;script&gt;</code>
      <code class="n">$</code><code class="p">.</code><code class="n">get</code><code class="p">(</code><code class="s">'urlget.php?url=amazon.com/gp/aw'</code><code class="p">,</code> <code class="k">function</code><code class="p">(</code><code class="n">data</code><code class="p">)</code>
      <code class="p">{</code>
        <code class="n">$</code><code class="p">(</code><code class="s">'#info'</code><code class="p">).</code><code class="n">html</code><code class="p">(</code><code class="n">data</code><code class="p">)</code>
      <code class="p">}</code> <code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">The <em class="hyperlink">urlget.php</em> program remains unchanged from <a data-type="xref" href="ch18.xhtml#urlgetdotphp" class="calibre6">Example 18-4</a>, because this example and <a data-type="xref" href="ch18.xhtml#urlgetdothtml" class="calibre6">Example 18-3</a> are interchangeable.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">Remember that the security restrictions of asynchronous communication require that the communication takes place with the same server that supplied the main web document. You must also use a web server for asynchronous communication, <em class="hyperlink">not</em> a local filesystem. These examples are therefore best tested with a production or development server, as described in <a data-type="xref" href="ch02.xhtml#setting_up_a_development_server" class="calibre6">Chapter 2</a>.</p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Plug-ins" class="calibre4"><div class="preface" id="plugins">
<h1 class="calibre11">Plug-ins</h1>

<p class="author1">There’s room in this chapter to cover only the core jQuery library, and while that’s more than enough for a beginner to accomplish a lot, the time will come when you’ll find you need even more features and functionality. Thankfully, other jQuery projects can help you there, because a range of official and third-party plug-ins are now available to provide just about any features you can imagine.</p>

<section data-type="sect2" data-pdf-bookmark="jQuery User Interface" class="calibre4"><div class="preface" id="jquery_user_interface">
<h2 class="calibre28">jQuery User Interface</h2>

<p class="author1">First, there’s the jQuery User Interface<a contenteditable="false" data-primary="jQuery" data-secondary="User Interface plug-in" data-type="indexterm" id="idm45694678226856" class="calibre6"/> plug-in, known as <a href="http://jqueryui.com" class="calibre6">jQuery UI</a>, which takes over directly where jQuery leaves off. With it, you can add dragging and dropping, resizing, and sorting methods to your web pages, as well as more animations and effects, animated color transitions, and more easing effects. It also provides a bunch of widgets to create menus and other features such as accordions, buttons, pickers, progress bars, sliders, spinners, tabs, tooltips, and much more.</p>

<p class="author1">If you want to see some demos before deciding whether to download it, check out the <a href="http://jqueryui.com/demos" class="calibre6">jQuery UI Demos page</a>.</p>

<p class="author1">The whole package is under 400 KB zipped and is usable with almost no restrictions (just the very generous MIT license).</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Other Plug-ins" class="calibre4"><div class="preface" id="other_plugins">
<h2 class="calibre28">Other Plug-ins</h2>

<p class="author1">The <a href="http://plugins.jquery.com" class="calibre6">jQuery Plugin Registry</a> brings<a contenteditable="false" data-primary="jQuery" data-secondary="Plugin Registry" data-type="indexterm" id="idm45694678219944" class="calibre6"/> together a wide variety of free, ready-made plug-ins to jQuery from numerous developers. These include plug-ins for form handling and verification, slideshows, responsive layout, image manipulation, additional animations, and much more.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">If you are using jQuery and developing for mobile browsers, you will also want to take a look at jQuery Mobile (see <a data-type="xref" href="ch23.xhtml#introduction_to_jquery_mobile" class="calibre6">Chapter 23</a>), which offers sophisticated, touch-optimized ways to navigate the wide range of different types of mobile hardware and software to provide the best possible user experience.</p>
</div>

<p class="author1">You’ve come a long way in this chapter, learning material that sometimes takes up entire books. I hope you’ve found everything clear, though, because jQuery is very easy to learn and use. If you need any other information, check out the <a href="http://jquery.com" class="calibre6">jQuery <span class="keep-together">website</span></a>.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Questions" class="calibre4"><div class="preface" id="questions-id00116">
<h1 class="calibre11">Questions</h1>

<ol class="calibre25">
	<li class="calibre26">
	<p class="author1">What is the symbol commonly used as the factory method for creating jQuery objects, and what is the alternative method name?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How would you link to the minified release 3.5.1 of jQuery from the Google CDN?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What types of argument does the jQuery factory method accept?</p>
	</li>
	<li class="calibre26">
	<p class="author1">With which jQuery method can you get or set a CSS property value?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What statement would you use to attach a method to the click event of an element with the ID of <code class="calibre15">elem</code>, to make it slowly hide?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What element property must you modify in order to allow it to be animated, and what are the acceptable values?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you cause several methods to run at once (or sequentially, in the case of animations)?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you retrieve an element node object from a jQuery selection object?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What statement would set the sibling element immediately preceding one with the ID of <code class="calibre15">news</code> to display in bold?</p>
	</li>
	<li class="calibre26">
	<p class="author1">With which method can you make a jQuery asynchronous GET request?</p>
	</li>
</ol>

<p class="author1">See <a data-type="xref" href="app01_split_021.xhtml#chapter_22_answers" class="calibre6">“Chapter 22 Answers”</a> in the <a data-type="xref" href="app01_split_000.xhtml#solutions_to_the_chapter_questions" class="calibre6">Appendix A</a> for the answers to these <span class="keep-together">qu</span><span class="keep-together">estions</span>.</p>
</div></section>
</div></section></div></body></html>