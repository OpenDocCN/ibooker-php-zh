<html><head></head><body><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 2. Language Basics"><div class="chapter" id="language_basics">
<h1><span class="label">Chapter 2. </span>Language Basics</h1>

<p>This chapter provides a whirlwind tour of the core PHP language, covering such basic topics as data types, variables, operators, and flow-control statements. PHP is strongly influenced by other programming languages, such as Perl and C, so if you’ve had experience with those languages, PHP should be easy to pick up. If PHP is one of your first programming languages, don’t panic. We start with the basic units of a PHP program and build up your knowledge from there.</p>

<section data-type="sect1" data-pdf-bookmark="Lexical Structure"><div class="sect1" id="lexical_structure">
<h1>Lexical Structure</h1>

<p><a contenteditable="false" data-primary="lexical structure of PHP" data-type="indexterm" id="ix_lexical_structure_2"/><a contenteditable="false" data-primary="PHP" data-secondary="lexical structure" data-type="indexterm" id="ix_lexical_structure"/>The lexical structure of a programming language is the set of basic rules that governs how you write programs in that language. It is the lowest-level syntax of the language and specifies such things as what variable names look like, what characters are used for comments, and how program statements are separated from each other.</p>

<section data-type="sect2" data-pdf-bookmark="Case Sensitivity"><div class="sect2" id="case_sensitivity">
<h2>Case Sensitivity</h2>

<p><a contenteditable="false" data-primary="case sensitivity" data-secondary="basics" data-type="indexterm" id="idm45922812239304"/>The names of user-defined <a contenteditable="false" data-primary="classes" data-secondary="case insensitivity of" data-type="indexterm" id="idm45922812237576"/>classes and <a contenteditable="false" data-primary="functions" data-secondary="case insensitivity of" data-type="indexterm" id="idm45922812236072"/>functions, as well as built-in constructs and keywords (such as <code>echo</code>, <code>while</code>, <code>class</code>, etc.), are case-insensitive. Thus, these three lines are equivalent:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">echo</code><code class="p">(</code><code class="s2">"hello, world"</code><code class="p">);</code>
<code class="k">ECHO</code><code class="p">(</code><code class="s2">"hello, world"</code><code class="p">);</code>
<code class="k">EcHo</code><code class="p">(</code><code class="s2">"hello, world"</code><code class="p">);</code></pre>

<p><a contenteditable="false" data-primary="variables" data-secondary="case sensitivity of" data-type="indexterm" id="idm45922812225352"/>Variables, on the other hand, are case-sensitive. That is, <code>$name</code>, <code>$NAME</code>, and <code>$NaME</code> are three different variables.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Statements and Semicolons"><div class="sect2" id="statements_and_semicolons">
<h2>Statements and Semicolons</h2>

<p><a contenteditable="false" data-primary="statements" data-secondary="basics" data-type="indexterm" id="idm45922818283192"/>A statement is a collection of PHP code that does something. It can be as simple as a variable assignment or as complicated as a loop with multiple exit points. Here is a small sample of PHP statements, including function calls, some variable data assignments, and an <code>if</code> statement:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">echo</code> <code class="s2">"Hello, world"</code><code class="p">;</code>
<code class="nx">myFunction</code><code class="p">(</code><code class="mi">42</code><code class="p">,</code> <code class="s2">"O'Reilly"</code><code class="p">);</code>
<code class="nv">$a</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>
<code class="nv">$name</code> <code class="o">=</code> <code class="s2">"Elphaba"</code><code class="p">;</code>
<code class="nv">$b</code> <code class="o">=</code> <code class="nv">$a</code> <code class="o">/</code> <code class="mf">25.0</code><code class="p">;</code>
<code class="k">if</code> <code class="p">(</code><code class="nv">$a</code> <code class="o">==</code> <code class="nv">$b</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Rhyme? And Reason?"</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>PHP uses <a contenteditable="false" data-primary="; (semicolon), separating statements" data-type="indexterm" id="idm45922818250840"/><a contenteditable="false" data-primary="semicolon (;), separating statements" data-type="indexterm" id="idm45922818237624"/>semicolons to separate simple statements. A compound statement that uses <a contenteditable="false" data-primary="{…} (curly braces)" data-secondary="enclosing code blocks" data-type="indexterm" id="idm45922818236488"/><a contenteditable="false" data-primary="curly braces {…}" data-secondary="enclosing code blocks" data-type="indexterm" id="idm45922818235112"/>curly braces to mark a block of code, such as a conditional test or loop, does not need a semicolon after a closing brace. Unlike in other languages, in PHP the semicolon before the closing brace is not optional:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$needed</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"We must have it!"</code><code class="p">;</code> <code class="c1">// semicolon required here</code>
<code class="p">}</code> <code class="c1">// no semicolon required here after the brace</code></pre>

<p>The semicolon, however, is optional before a <a contenteditable="false" data-primary="&lt;?php…?&gt; tag, enclosing PHP code" data-primary-sortas="php tag" data-type="indexterm" id="idm45922818168168"/><a contenteditable="false" data-primary="&lt;?php…?&gt; tag, enclosing PHP code" data-type="indexterm" id="idm45922818166952"/>closing PHP tag:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code>
<code class="k">if</code> <code class="p">(</code><code class="nv">$a</code> <code class="o">==</code> <code class="nv">$b</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Rhyme? And Reason?"</code><code class="p">;</code>
<code class="p">}</code>
<code class="k">echo</code> <code class="s2">"Hello, world"</code> <code class="c1">// no semicolon required before closing tag</code>
<code class="cp">?&gt;</code></pre>

<p>It’s good programming practice to include optional semicolons, as they make it easier to add code later.<a contenteditable="false" data-primary="" data-startref="ix_statements_basics" data-type="indexterm" id="idm45922818203368"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Whitespace and Line Breaks"><div class="sect2" id="whitespace_and_line_breaks">
<h2>Whitespace and Line Breaks</h2>

<p><a contenteditable="false" data-primary="line spaces" data-type="indexterm" id="idm45922818215160"/>In general, <a contenteditable="false" data-primary="whitespace" data-secondary="basics" data-type="indexterm" id="idm45922818213928"/>whitespace doesn’t matter in a PHP program. You can spread a statement across any number of lines, or lump a bunch of statements together on a single line. For example, this statement:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">raisePrices</code><code class="p">(</code><code class="nv">$inventory</code><code class="p">,</code> <code class="nv">$inflation</code><code class="p">,</code> <code class="nv">$costOfLiving</code><code class="p">,</code> <code class="nv">$greed</code><code class="p">);</code></pre>

<p>could just as well be written with more whitespace:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">raisePrices</code> <code class="p">(</code>
 <code class="nv">$inventory</code> <code class="p">,</code>
 <code class="nv">$inflation</code> <code class="p">,</code>
 <code class="nv">$costOfLiving</code> <code class="p">,</code>
 <code class="nv">$greed</code>
<code class="p">)</code> <code class="p">;</code></pre>

<p>or with less whitespace:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">raisePrices</code><code class="p">(</code><code class="nv">$inventory</code><code class="p">,</code><code class="nv">$inflation</code><code class="p">,</code><code class="nv">$costOfLiving</code><code class="p">,</code><code class="nv">$greed</code><code class="p">);</code></pre>

<p>You can take advantage of this flexible formatting to make your code more readable (by lining up assignments, indenting, etc.). Some lazy programmers take advantage of this freeform formatting and create completely unreadable code—this is not <span class="keep-together">recommended.</span></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Comments"><div class="sect2" id="comments">
<h2>Comments</h2>

<p><a contenteditable="false" data-primary="comments" data-type="indexterm" id="ix_comments"/>Comments give information to people who read your code, but they are ignored by PHP at execution time. Even if you think you’re the only person who will ever read your code, it’s a good idea to include comments in your code—in retrospect, code you wrote months ago could easily look as though a stranger wrote it.</p>

<p>A good practice is to make your comments sparse enough not to get in the way of the code itself but plentiful enough that you can use the comments to tell what’s happening. Don’t comment obvious things, lest you bury the comments that describe tricky things. For example, this is worthless:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$x</code> <code class="o">=</code> <code class="mi">17</code><code class="p">;</code> <code class="c1">// store 17 into the variable $x</code></pre>

<p>whereas the comments on this complex regular expression will help whoever maintains your code:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="c1">// convert &amp;#nnn; entities into characters</code>

<code class="nv">$text</code> <code class="o">=</code> <code class="nb">preg_replace</code><code class="p">(</code><code class="s1">'/&amp;#([0-9])+;/'</code><code class="p">,</code> <code class="s2">"chr('</code><code class="se">\\</code><code class="s2">1')"</code><code class="p">,</code> <code class="nv">$text</code><code class="p">);</code></pre>

<p>PHP provides several ways to include comments within your code, all of which are borrowed from existing languages such as C, C++, and the Unix shell. In general, use C-style comments to comment <em>out</em> code, and C++-style comments to comment <em>on</em> code.</p>

<section data-type="sect3" data-pdf-bookmark="Shell-style comments"><div class="sect3" id="shell_style_comments">
<h3>Shell-style comments</h3>

<p><a contenteditable="false" data-primary="shell-style comments" data-type="indexterm" id="idm45922818014328"/>When PHP encounters a <a contenteditable="false" data-primary="# (hash mark), preceding comments" data-type="indexterm" id="idm45922818013096"/><a contenteditable="false" data-primary="hash mark (#), preceding comments" data-type="indexterm" id="idm45922817960376"/>hash mark character (<code>#</code>) within the code, everything from the hash mark to the end of the line or the end of the section of PHP code (whichever comes first) is considered a comment. This method of commenting is found in Unix shell scripting languages and is useful for annotating single lines of code or making short notes.</p>

<p class="pagebreak-before">Because the hash mark is visible on the page, shell-style comments are sometimes used to mark off blocks of code:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="c1">#######################</code>
<code class="c1">## Cookie functions</code>
<code class="c1">#######################</code></pre>

<p>Sometimes they’re used before a line of code to identify what that code does, in which case they’re usually indented to the same level as the code for which the comment is intended:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$doubleCheck</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1"># create an HTML form requesting that the user confirm the action</code>
 <code class="k">echo</code> <code class="nx">confirmationForm</code><code class="p">();</code>
<code class="p">}</code></pre>

<p>Short comments on a single line of code are often put on the same line as the code:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$value</code> <code class="o">=</code> <code class="nv">$p</code> <code class="o">*</code> <code class="nb">exp</code><code class="p">(</code><code class="nv">$r</code> <code class="o">*</code> <code class="nv">$t</code><code class="p">);</code> <code class="c1"># calculate compounded interest</code></pre>

<p>When you’re tightly mixing HTML and PHP code, it can be useful to have the closing PHP tag terminate the comment:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code> <code class="nv">$d</code> <code class="o">=</code> <code class="mi">4</code><code class="p">;</code> <code class="c1"># Set $d to 4. ?&gt; Then another &lt;?php echo $d; ?&gt;</code>
<code class="nx">Then</code> <code class="nx">another</code> <code class="mi">4</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="C++ comments"><div class="sect3" id="cplusplus_comments">
<h3>C++ comments</h3>

<p><a contenteditable="false" data-primary="C++ comment style" data-type="indexterm" id="idm45922817889256"/>When PHP encounters two <a contenteditable="false" data-primary="// (slashes, double), preceding comments" data-type="indexterm" id="idm45922817888024"/><a contenteditable="false" data-primary="slashes, double (//), preceding comments" data-type="indexterm" id="idm45922817858024"/>slashes (<code>//</code>) within the code, everything from the slashes to the end of the line or the end of the section of code, whichever comes first, is considered a comment. This method of commenting is derived from C++. The result is the same as the shell comment style.</p>

<p>Here are the shell-style comment examples, rewritten to use C++ comments:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="c1">////////////////////////</code>
<code class="c1">// Cookie functions</code>
<code class="c1">////////////////////////</code>

<code class="k">if</code> <code class="p">(</code><code class="nv">$doubleCheck</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// create an HTML form requesting that the user confirm the action</code>
 <code class="k">echo</code> <code class="nx">confirmationForm</code><code class="p">();</code>
<code class="p">}</code>

<code class="nv">$value</code> <code class="o">=</code> <code class="nv">$p</code> <code class="o">*</code> <code class="nb">exp</code><code class="p">(</code><code class="nv">$r</code> <code class="o">*</code> <code class="nv">$t</code><code class="p">);</code> <code class="c1">// calculate compounded interest</code>

<code class="o">&lt;?</code><code class="nx">php</code> <code class="nv">$d</code> <code class="o">=</code> <code class="mi">4</code><code class="p">;</code> <code class="c1">// Set $d to 4. ?&gt; Then another &lt;?php echo $d; ?&gt;</code>
<code class="nx">Then</code> <code class="nx">another</code> <code class="mi">4</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="C comments"><div class="sect3" id="c_comments">
<h3>C comments</h3>

<p><a contenteditable="false" data-primary="C comment style" data-type="indexterm" id="ix_c_comment"/>While shell-style and C++-style comments are useful for annotating code or making short notes, longer comments require a different style. Therefore, PHP supports block comments whose syntax comes from the C programming language. <a contenteditable="false" data-primary="/*…*/ (slash, asterisk), enclosing comments" data-type="indexterm" id="idm45922817781352"/><a contenteditable="false" data-primary="slash, asterisk (/*…*/), enclosing comments" data-type="indexterm" id="idm45922817780152"/>When PHP encounters a slash followed by an asterisk (<code>/*</code>), everything after that, until it encounters an asterisk followed by a slash (<code>*/</code>), is considered a comment. This kind of comment, unlike those shown earlier, can span multiple lines.</p>

<p>Here’s an example of a C-style multiline comment:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="cm">/* In this section, we take a bunch of variables and</code>
<code class="cm"> assign numbers to them. There is no real reason to</code>
<code class="cm"> do this, we're just having fun.</code>
<code class="cm">*/</code>
<code class="nv">$a</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>
<code class="nv">$b</code> <code class="o">=</code> <code class="mi">2</code><code class="p">;</code>
<code class="nv">$c</code> <code class="o">=</code> <code class="mi">3</code><code class="p">;</code>
<code class="nv">$d</code> <code class="o">=</code> <code class="mi">4</code><code class="p">;</code></pre>

<p>Because C-style comments have specific start and end markers, you can tightly integrate them with code. This tends to make your code harder to read and is <span class="keep-together">discouraged:</span></p>

<pre data-code-language="php" data-type="programlisting">
<code class="cm">/* These comments can be mixed with code too,</code>
<code class="cm">see? */</code> <code class="nv">$e</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code> <code class="cm">/* This works just fine. */</code></pre>

<p>C-style comments, unlike the other types, can continue past the end PHP tag markers. For example:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code><code>
</code><code class="nv">$l</code><code> </code><code class="o">=</code><code> </code><code class="mi">12</code><code class="p">;</code><code>
</code><code class="nv">$m</code><code> </code><code class="o">=</code><code> </code><code class="mi">13</code><code class="p">;</code><code>
</code><code class="cm">/* A comment begins here
?&gt;
&lt;p&gt;Some stuff you want to be HTML.&lt;/p&gt;
&lt;?= $n = 14; ?&gt;
*/</code><code>
</code><code class="k">echo</code><code class="p">(</code><code class="s2">"</code><code class="s2">l=</code><code class="si">$l</code><code class="s2"> m=</code><code class="si">$m</code><code class="s2"> n=</code><code class="si">$n\n</code><code class="s2">"</code><code class="p">);</code><code>
</code><code class="cp">?&gt;</code><code class="nt">&lt;p</code><code class="nt">&gt;</code><code>Now </code><code class="nt">&lt;b</code><code class="nt">&gt;</code><code>this</code><code class="nt">&lt;/b&gt;</code><code> is regular HTML...</code><code class="nt">&lt;/p&gt;</code><code>
</code><strong><code>l=12 m=13 n=</code></strong><code>
</code><strong><code class="nt">&lt;p</code><code class="nt">&gt;</code><code>Now </code><code class="nt">&lt;b</code><code class="nt">&gt;</code><code>this</code><code class="nt">&lt;/b&gt;</code><code> is regular HTML...</code><code class="nt">&lt;/p&gt;</code></strong></pre>

<p>You can indent comments as you like:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="cm">/* There are no</code>
<code class="cm"> special indenting or spacing</code>
<code class="cm"> rules that have to be followed, either.</code>


<code class="cm"> */</code></pre>

<p>C-style comments can be useful for disabling sections of code. In the following example, we’ve disabled the second and third statements, as well as the inline comment, by including them in a block comment. To enable the code, all we have to do is remove the comment markers:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$f</code> <code class="o">=</code> <code class="mi">6</code><code class="p">;</code>
<code class="cm">/*</code>
<code class="cm">$g = 7; # This is a different style of comment</code>
<code class="cm">$h = 8;</code>
<code class="cm">*/</code></pre>

<p>However, you have to be careful not to attempt to nest block comments:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$i</code> <code class="o">=</code> <code class="mi">9</code><code class="p">;</code>
<code class="cm">/*</code>
<code class="cm">$j = 10; /* This is a comment */</code>
<code class="nv">$k</code> <code class="o">=</code> <code class="mi">11</code><code class="p">;</code>
<code class="nx">Here</code> <code class="nx">is</code> <code class="nx">some</code> <code class="nx">comment</code> <code class="nx">text</code><code class="o">.</code>
<code class="o">*/</code></pre>

<p>In this case, PHP tries (and fails) to execute the (non)statement <code>Here is some </code><span class="keep-together"><code>comment</code></span><code> text</code> and returns an error.<a contenteditable="false" data-primary="" data-startref="ix_c_comment" data-type="indexterm" id="idm45922817492216"/></p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Literals"><div class="sect2" id="literals">
<h2>Literals</h2>

<p><a contenteditable="false" data-primary="literals" data-secondary="basics" data-type="indexterm" id="idm45922817489480"/>A literal is a data value that appears directly in a program. The following are all literals in PHP:<a contenteditable="false" data-primary="" data-startref="ix_comments" data-type="indexterm" id="idm45922817487864"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">2001</code>
<code class="mh">0xFE</code>
<code class="mf">1.4142</code>
<code class="s2">"Hello World"</code>
<code class="s1">'Hi'</code>
<code class="k">true</code>
<code class="k">null</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Identifiers"><div class="sect2" id="identifiers">
<h2>Identifiers</h2>

<p><a contenteditable="false" data-primary="identifiers" data-type="indexterm" id="ix_identifiers"/>An identifier is simply a name. In PHP, identifiers are used to name variables, functions, constants, and classes. The first character of an identifier must be an ASCII letter (uppercase or lowercase), the underscore character (<code>_</code>), or any of the characters between ASCII 0x7F and ASCII 0xFF. After the initial character, these characters and the digits 0–9 are valid.</p>

<section data-type="sect3" data-pdf-bookmark="Variable names"><div class="sect3" id="variable_names">
<h3>Variable names</h3>

<p><a contenteditable="false" data-primary="variables" data-secondary="names of" data-type="indexterm" id="idm45922817475400"/>Variable names always begin with a <a contenteditable="false" data-primary="$ (dollar sign)" data-secondary="preceding variable names" data-type="indexterm" id="idm45922817473896"/><a contenteditable="false" data-primary="dollar sign ($)" data-secondary="preceding variable names" data-type="indexterm" id="idm45922817472552"/>dollar sign (<code>$</code>) and are case-sensitive. Here are some valid variable names:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$bill</code>
<code class="nv">$head_count</code>
<code class="nv">$MaximumForce</code>
<code class="nv">$I_HEART_PHP</code>
<code class="nv">$_underscore</code>
<code class="nv">$_int</code></pre>

<p>Here are some illegal variable names:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$not</code> <code class="nx">valid</code>
<code class="err">$</code><code class="o">|</code>
<code class="err">$</code><code class="mi">3</code><code class="nx">wa</code></pre>

<p>These variables are all different due to case sensitivity:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$hot_stuff</code> <code class="nv">$Hot_stuff</code> <code class="nv">$hot_Stuff</code> <code class="nv">$HOT_STUFF</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Function names"><div class="sect3" id="function_names">
<h3>Function names</h3>

<p><a contenteditable="false" data-primary="functions" data-secondary="names of" data-type="indexterm" id="idm45922817414936"/>Function names are not case-sensitive (functions are discussed in more detail in <a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a>). Here are some valid function names:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">tally</code>
<code class="nx">list_all_users</code>
<code class="nx">deleteTclFiles</code>
<code class="nx">LOWERCASE_IS_FOR_WIMPS</code>
<code class="nx">_hide</code></pre>

<p>These function names all refer to the same function:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">howdy</code> <code class="nx">HoWdY</code> <code class="nx">HOWDY</code> <code class="nx">HOWdy</code> <code class="nx">howdy</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Class names"><div class="sect3" id="class_names">
<h3>Class names</h3>

<p><a contenteditable="false" data-primary="classes" data-secondary="names of" data-type="indexterm" id="idm45922817411384"/>Class names follow the standard rules for PHP identifiers and are also not case-sensitive. Here are some valid class names:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nx">Person</code>
<code class="nx">account</code></pre>

<p>The class name <code>stdClass</code> is a reserved class name.</p>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Constants"><div class="sect3" id="constants">
<h3>Constants</h3>

<p><a contenteditable="false" data-primary="constants" data-type="indexterm" id="idm45922817293624"/>A constant is an identifier for a value that will not be changed; scalar values (Boolean, integer, double, and string) and arrays can be constants. Once set, the value of a constant cannot change. Constants are referred to by their identifiers and are set using the <a contenteditable="false" data-primary="define function" data-type="indexterm" id="idm45922817290888"/><code>define()</code> function:<a contenteditable="false" data-primary="" data-startref="ix_identifiers" data-type="indexterm" id="idm45922817289368"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="nb">define</code><code class="p">(</code><code class="s1">'PUBLISHER'</code><code class="p">,</code> <code class="s2">"O'Reilly Media"</code><code class="p">);</code>
<code class="k">echo</code> <code class="nx">PUBLISHER</code><code class="p">;</code></pre>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Keywords"><div class="sect2" id="keywords">
<h2>Keywords</h2>

<p><a contenteditable="false" data-primary="keywords" data-type="indexterm" id="ix_keywords_2"/>A keyword (or reserved word) is a word set aside by the language for its core functionality—you cannot give a function, class, or constant the same name as a keyword. <a data-type="xref" href="#php_core_language_keywords">Table 2-1</a> lists the keywords in PHP, which are case-insensitive.<a contenteditable="false" data-primary="" data-startref="ix_lexical_structure_2" data-type="indexterm" id="idm45922817264360"/><a contenteditable="false" data-primary="" data-startref="ix_lexical_structure" data-type="indexterm" id="idm45922817243624"/></p>

<table class="border" id="php_core_language_keywords">
	<caption><span class="label">Table 2-1. </span>PHP core language keywords</caption>
	<tbody>
		<tr>
			<td><code>__CLASS__</code><br/>
			<code>__DIR__</code><br/>
			<code>__FILE__</code><br/>
			<code>__FUNCTION__</code><br/>
			<code>__LINE__</code><br/>
			<code>__METHOD__</code><br/>
			<code>__NAMESPACE__</code><br/>
			<code>__TRAIT__</code><br/>
			<code>__halt_compiler()</code><br/>
			<code>abstract</code><br/>
			<code>and</code><br/>
			<code>array()</code><br/>
			<code>as</code><br/>
			<code>break</code><br/>
			<code>callable</code><br/>
			<code>case</code><br/>
			<code>catch</code><br/>
			<code>class</code><br/>
			<code>clone</code><br/>
			<code>const</code><br/>
			<code>continue</code><br/>
			<code>declare</code><br/>
			<code>default</code><br/>
			<code>die()</code><br/>
			<code>do</code></td>
			<td><code>echo</code><br/>
			<code>else</code><br/>
			<code>elseif</code><br/>
			<code>empty()</code><br/>
			<code>enddeclare</code><br/>
			<code>endfor</code><br/>
			<code>endforeach</code><br/>
			<code>endif</code><br/>
			<code>endswitch</code><br/>
			<code>endwhile</code><br/>
			<code>eval()</code><br/>
			<code>exit()</code><br/>
			<code>extends</code><br/>
			<code>final</code><br/>
			<code>finally</code><br/>
			<code>for</code><br/>
			<code>foreach</code><br/>
			<code>function</code><br/>
			<code>global</code><br/>
			<code>goto</code><br/>
			<code>if</code><br/>
			<code>implements</code><br/>
			<code>include</code><br/>
			<code>include_once</code><br/>
			<code>instanceof</code></td>
			<td><code>insteadof</code><br/>
			<code>interface</code><br/>
			<code>isset()</code><br/>
			<code>list()</code><br/>
			<code>namespace</code><br/>
			<code>new</code><br/>
			<code>or</code><br/>
			<code>print</code><br/>
			<code>private</code><br/>
			<code>protected</code><br/>
			<code>public</code><br/>
			<code>require</code><br/>
			<code>require_once</code><br/>
			<code>return</code><br/>
			<code>static</code><br/>
			<code>switch</code><br/>
			<code>throw</code><br/>
			<code>trait</code><br/>
			<code>try</code><br/>
			<code>unset()</code><br/>
			<code>use</code><br/>
			<code>var</code><br/>
			<code>while</code><br/>
			<code>xor</code><br/>
			<code>yield</code><br/>
			<code>yield from</code></td>
		</tr>
	</tbody>
</table>

<p>In addition, you cannot use an identifier that is the same as a built-in PHP function. For a complete list of these, see the <a data-type="xref" href="app01.xhtml#function_reference">Appendix</a>.<a contenteditable="false" data-primary="" data-startref="ix_keywords_2" data-type="indexterm" id="idm45922817176216"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Data Types"><div class="sect1" id="data_types">
<h1>Data Types</h1>

<p><a contenteditable="false" data-primary="PHP" data-secondary="data types" data-type="indexterm" id="ix_data_types_1"/><a contenteditable="false" data-primary="data types" data-type="indexterm" id="ix_data_types_2"/>PHP provides eight types of values, or data types. Four are scalar (single-value) types: integers, floating-point numbers, strings, and Booleans. Two are compound (collection) types: arrays and objects. The remaining two are special types: resource and NULL. Numbers, Booleans, resources, and NULL are discussed in full here, while strings, arrays, and objects are big enough topics that they get their own chapters (Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch04.xhtml#strings">4</a>, <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch05.xhtml#array">5</a>, and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch06.xhtml#objects-id00032">6</a>, respectively).</p>

<section data-type="sect2" data-pdf-bookmark="Integers"><div class="sect2" id="integers">
<h2>Integers</h2>

<p><a contenteditable="false" data-primary="integers" data-type="indexterm" id="ix_integers_1"/><a contenteditable="false" data-primary="numbers" data-secondary="integers" data-type="indexterm" id="ix_integers_2"/>Integers are whole numbers, such as 1, 12, and 256. The range of acceptable values varies according to the details of your platform but typically extends from −2,147,483,648 to +2,147,483,647. Specifically, the range is equivalent to the range of the long data type of your C compiler. Unfortunately, the C standard doesn’t specify what range that long type should have, so on some systems you might see a different integer range.</p>

<p><a contenteditable="false" data-primary="literals" data-secondary="integer" data-type="indexterm" id="idm45922817159800"/>Integer literals can be written in decimal, octal, binary, or hexadecimal. Decimal values are represented by a sequence of digits, without leading zeros. The sequence may begin with a plus (<code>+</code>) or minus (<code>−</code>) sign. If there is no sign, positive is assumed. Examples of decimal integers include the following:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">1998</code>
<code class="nx">−641</code>
<code class="o">+</code><code class="mi">33</code></pre>

<p><a contenteditable="false" data-primary="octal numbers" data-type="indexterm" id="idm45922817153672"/>Octal numbers consist of a leading <code>0</code> and a sequence of digits from 0 to 7. Like decimal numbers, octal numbers can be prefixed with a plus or minus. Here are some example octal values and their equivalent decimal values:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mo">0755</code> <code class="c1">// decimal 493</code>
<code class="o">+</code><code class="mo">010</code> <code class="c1">// decimal 8</code></pre>

<p><a contenteditable="false" data-primary="hexadecimal numbers" data-type="indexterm" id="idm45922817147912"/>Hexadecimal values begin with <code>0x</code>, followed by a sequence of digits (0–9) or letters (A–F). The letters can be upper- or lowercase but are usually written in capitals. As with decimal and octal values, you can include a sign in hexadecimal numbers:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mh">0xFF</code> <code class="c1">// decimal 255</code>
<code class="mh">0x10</code> <code class="c1">// decimal 16</code>
<code class="nx">–0xDAD1</code> <code class="c1">// decimal −56017</code></pre>

<p><a contenteditable="false" data-primary="binary numbers" data-type="indexterm" id="idm45922817134520"/>Binary numbers begin with <code>0b</code>, followed by a sequence of digits (0 and 1). As with other values, you can include a sign in binary numbers:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">0</code><code class="nx">b01100000</code> <code class="c1">// decimal 96</code>
<code class="mi">0</code><code class="nx">b00000010</code> <code class="c1">// decimal 2</code>
<code class="o">-</code><code class="mi">0</code><code class="nx">b10</code> <code class="c1">// decimal -2</code></pre>

<p>If you try to store a variable that is too large to be stored as an integer or is not a whole number, it will automatically be turned into a floating-point number.</p>

<p><a contenteditable="false" data-primary="is_int function" data-type="indexterm" id="idm45922817081784"/>Use the <code>is_int()</code> function (or its <a contenteditable="false" data-primary="is_integer function" data-type="indexterm" id="idm45922817080232"/><code>is_integer()</code> alias) to test whether a value is an integer:<a contenteditable="false" data-primary="" data-startref="ix_integers_1" data-type="indexterm" id="idm45922817078680"/><a contenteditable="false" data-primary="" data-startref="ix_integers_2" data-type="indexterm" id="idm45922817077304"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_int</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is an integer</code>
<code class="p">}</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Floating-Point Numbers"><div class="sect2" id="floating_point_numbers">
<h2>Floating-Point Numbers</h2>

<p><a contenteditable="false" data-primary="floating-point numbers" data-type="indexterm" id="ix_float_point_1"/><a contenteditable="false" data-primary="literals" data-secondary="floating-point numbers" data-type="indexterm" id="ix_float_point_2"/>Floating-point numbers (often referred to as “real” numbers) represent numeric values with decimal digits. Like integers, their limits depend on your machine’s details. PHP floating-point numbers are equivalent to the range of the double data type of your C compiler. Usually, this allows numbers between 1.7E−308 and 1.7E+308 with 15 digits of accuracy. If you need more accuracy or a wider range of integer values, you can use the BC or GMP extensions.</p>

<p>PHP recognizes floating-point numbers written in two different formats. There’s the one we all use every day:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mf">3.14</code>
<code class="mf">0.017</code>
<code class="o">-</code><code class="mf">7.1</code></pre>

<p>But PHP also recognizes numbers in scientific notation:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mf">0.314E1</code> <code class="c1">// 0.314*10^1, or 3.14</code>
<code class="mf">17.0E-3</code> <code class="c1">// 17.0*10^(-3), or 0.017</code></pre>

<p>Floating-point values are only approximate representations of numbers. For example, on many systems 3.5 is actually represented as 3.4999999999. This means you must take care to avoid writing code that assumes floating-point numbers are represented completely accurately, such as directly comparing two floating-point values using <code>==</code>. The normal approach is to compare to several decimal places:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">intval</code><code class="p">(</code><code class="nv">$a</code> <code class="o">*</code> <code class="mi">1000</code><code class="p">)</code> <code class="o">==</code> <code class="nb">intval</code><code class="p">(</code><code class="nv">$b</code> <code class="o">*</code> <code class="mi">1000</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// numbers equal to three decimal places</code>
<code class="p">}</code></pre>

<p>Use the <code>is_float()</code> function (or its <code>is_real()</code> alias) to test whether a value is a floating-point number:<a contenteditable="false" data-primary="" data-startref="ix_float_point_1" data-type="indexterm" id="idm45922816926936"/><a contenteditable="false" data-primary="" data-startref="ix_float_point_2" data-type="indexterm" id="idm45922816925560"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_float</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is a floating-point number</code>
<code class="p">}</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Strings"><div class="sect2" id="string">
<h2>Strings</h2>

<p>Because strings are so common in web applications, PHP includes core-level support for creating and manipulating strings. A string is a sequence of characters of arbitrary length. String literals are delimited by either single or double quotes:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="s1">'big dog'</code>
<code class="s2">"fat hog"</code></pre>

<p>Variables are expanded (interpolated) within double quotes, while within <a contenteditable="false" data-primary="‘…’ (single quotes)" data-secondary="enclosing string literals" data-type="indexterm" id="idm45922816888248"/><a contenteditable="false" data-primary="single quotes (‘…’)" data-secondary="enclosing string literals" data-type="indexterm" id="idm45922816887032"/>single quotes they are not:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$name</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">Guido</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Hi, </code><code class="si">$name</code><code class="s2"> &lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">echo</code><code> </code><code class="s1">'Hi, $name'</code><code class="p">;</code><code>
</code><strong><code class="nx">Hi</code><code class="p">,</code><code> </code><code class="nx">Guido</code></strong><code>
</code><strong><code class="nx">Hi</code><code class="p">,</code><code> </code><code class="nv">$name</code></strong></pre>

<p><a contenteditable="false" data-primary="“…” (double quotes)" data-secondary="enclosing string literals" data-type="indexterm" id="idm45922816820200"/><a contenteditable="false" data-primary="double quotes (“…”)" data-secondary="enclosing string literals" data-type="indexterm" id="idm45922816818952"/>Double quotes also support a variety of string escapes, as listed in <a data-type="xref" href="#escape_sequences_in_double_quoted_stri">Table 2-2</a>.</p>

<table class="border" id="escape_sequences_in_double_quoted_stri">
	<caption><span class="label">Table 2-2. </span>Escape sequences in double-quoted strings</caption>
	<thead>
		<tr>
			<th>Escape sequence</th>
			<th>Character represented</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>\"</code></td>
			<td>Double quotes</td>
		</tr>
		<tr>
			<td><code>\n</code></td>
			<td>Newline</td>
		</tr>
		<tr>
			<td><code>\r</code></td>
			<td>Carriage return</td>
		</tr>
		<tr>
			<td><code>\t</code></td>
			<td>Tab</td>
		</tr>
		<tr>
			<td><code>\\</code></td>
			<td>Backslash</td>
		</tr>
		<tr>
			<td><code>\$</code></td>
			<td>Dollar sign</td>
		</tr>
		<tr>
			<td><code>\{</code></td>
			<td>Left brace</td>
		</tr>
		<tr>
			<td><code>\}</code></td>
			<td>Right brace</td>
		</tr>
		<tr>
			<td><code>\[</code></td>
			<td>Left bracket</td>
		</tr>
		<tr>
			<td><code>\]</code></td>
			<td>Right bracket</td>
		</tr>
		<tr>
			<td><code>\0</code> through <code>\777</code></td>
			<td>ASCII character represented by octal value</td>
		</tr>
		<tr>
			<td><code>\x0</code> through <code>\xFF</code></td>
			<td>ASCII character represented by hex value</td>
		</tr>
	</tbody>
</table>

<p>A single-quoted string recognizes <code>\\</code> to get a literal backslash and <code>\'</code> to get a literal single quote:</p>

<pre data-code-language="php" data-type="programlisting">
$dosPath = 'C:\\WINDOWS\\SYSTEM';
$publisher = 'Tim O\'Reilly';
echo "$dosPath $publisher";
<code>C:\WINDOWS\SYSTEM Tim O'Reilly</code></pre>

<p><a contenteditable="false" data-primary="== (equals signs, double), equal to operator" data-type="indexterm" id="idm45922816776456"/><a contenteditable="false" data-primary="equals signs, double (==), equal to operator" data-type="indexterm" id="idm45922816775384"/><a contenteditable="false" data-primary="equal to operator (==)" data-type="indexterm" id="idm45922816774312"/><a contenteditable="false" data-primary="comparison operators" data-type="indexterm" id="idm45922816773208"/>To test whether two strings are equal, use the <code>==</code> (double equals) comparison <span class="keep-together">operator:</span></p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$a</code> <code class="o">==</code> <code class="nv">$b</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"a and b are equal"</code><code class="p">;</code>
<code class="p">}</code></pre>

<p><a contenteditable="false" data-primary="is_string function" data-type="indexterm" id="idm45922816761912"/>Use the <code>is_string()</code> function to test whether a value is a string:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_string</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is a string</code>
<code class="p">}</code></pre>

<p>PHP provides operators and functions to compare, disassemble, assemble, search, replace, and trim strings, as well as a host of specialized string functions for working with HTTP, HTML, and SQL encodings. Because there are so many string-manipulation functions, we’ve devoted a whole chapter (<a data-type="xref" href="ch04.xhtml#strings">Chapter 4</a>) to covering all the details.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Booleans"><div class="sect2" id="booleans">
<h2>Booleans</h2>

<p><a contenteditable="false" data-primary="Booleans" data-type="indexterm" id="idm45922816739112"/>A Boolean value represents a <em>truth value</em>—it says whether something is true or not. Like most programming languages, PHP defines some values as true and others as false. Truthfulness and falseness determine the outcome of conditional code such as:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$alive</code><code class="p">)</code> <code class="p">{</code> <code class="o">...</code> <code class="p">}</code></pre>

<p>In PHP, the following values all evaluate to <code>false</code>:</p>

<ul>
	<li>
	<p>The keyword <code>false</code></p>
	</li>
	<li>
	<p>The integer <code>0</code></p>
	</li>
	<li>
	<p>The floating-point value <code>0.0</code></p>
	</li>
	<li>
	<p>The empty string (<code>""</code>) and the string <code>"0"</code></p>
	</li>
	<li>
	<p>An array with zero elements</p>
	</li>
	<li>
	<p>The <code>NULL</code> value</p>
	</li>
</ul>

<p>A value that is not false is true, including all resource values (which are described later in the section “Resources”).</p>

<p>PHP provides <a contenteditable="false" data-primary="true keyword" data-seealso="Booleans" data-type="indexterm" id="idm45922816673896"/><code>true</code> and <a contenteditable="false" data-primary="false keyword" data-seealso="Booleans" data-type="indexterm" id="idm45922816672072"/><code>false</code> keywords for clarity:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$x</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code> <code class="c1">// $x has a true value</code>
<code class="nv">$x</code> <code class="o">=</code> <code class="k">true</code><code class="p">;</code> <code class="c1">// clearer way to write it</code>
<code class="nv">$y</code> <code class="o">=</code> <code class="s2">""</code><code class="p">;</code> <code class="c1">// $y has a false value</code>
<code class="nv">$y</code> <code class="o">=</code> <code class="k">false</code><code class="p">;</code> <code class="c1">// clearer way to write it</code></pre>

<p><a contenteditable="false" data-primary="is_bool function" data-type="indexterm" id="idm45922816646664"/>Use the <code>is_bool()</code> function to test whether a value is a Boolean:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_bool</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is a Boolean</code>
<code class="p">}</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Arrays"><div class="sect2" id="arrays">
<h2>Arrays</h2>

<p><a contenteditable="false" data-primary="arrays" data-secondary="basics" data-type="indexterm" id="ix_arrays_basics"/>An array holds a group of values, which you can identify by position (a number, with zero being the first position) or some identifying name (a string), called an <a contenteditable="false" data-primary="associative index, defined" data-type="indexterm" id="idm45922816630584"/><em>associative index</em>:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$person</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Edison"</code><code class="p">;</code>
<code class="nv">$person</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Wankel"</code><code class="p">;</code>
<code class="nv">$person</code><code class="p">[</code><code class="mi">2</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Crapper"</code><code class="p">;</code>

<code class="nv">$creator</code><code class="p">[</code><code class="s1">'Light bulb'</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Edison"</code><code class="p">;</code>
<code class="nv">$creator</code><code class="p">[</code><code class="s1">'Rotary Engine'</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Wankel"</code><code class="p">;</code>
<code class="nv">$creator</code><code class="p">[</code><code class="s1">'Toilet'</code><code class="p">]</code> <code class="o">=</code> <code class="s2">"Crapper"</code><code class="p">;</code></pre>

<p><a contenteditable="false" data-primary="arrays" data-secondary="creating" data-type="indexterm" id="idm45922816627368"/>The <a contenteditable="false" data-primary="array() construct" data-type="indexterm" id="idm45922816524968"/><code>array()</code> construct creates an array. Here are two examples:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$person</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s2">"Edison"</code><code class="p">,</code> <code class="s2">"Wankel"</code><code class="p">,</code> <code class="s2">"Crapper"</code><code class="p">);</code>
<code class="nv">$creator</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s1">'Light bulb'</code> <code class="o">=&gt;</code> <code class="s2">"Edison"</code><code class="p">,</code>
 <code class="s1">'Rotary Engine'</code> <code class="o">=&gt;</code> <code class="s2">"Wankel"</code><code class="p">,</code>
 <code class="s1">'Toilet'</code> <code class="o">=&gt;</code> <code class="s2">"Crapper"</code><code class="p">);</code></pre>

<p><a contenteditable="false" data-primary="arrays" data-secondary="traversing" data-type="indexterm" id="idm45922816522312"/>There are several ways to loop through arrays, but the most common is a <a contenteditable="false" data-primary="foreach statement" data-type="indexterm" id="idm45922816489960"/><a contenteditable="false" data-primary="loop statements" data-secondary="foreach statement" data-type="indexterm" id="idm45922816488856"/><code>foreach</code> loop:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">foreach</code><code> </code><code class="p">(</code><code class="nv">$person</code><code> </code><code class="k">as</code><code> </code><code class="nv">$name</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Hello, </code><code class="si">{</code><code class="nv">$name</code><code class="si">}</code><code class="s2">&lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="k">foreach</code><code> </code><code class="p">(</code><code class="nv">$creator</code><code> </code><code class="k">as</code><code> </code><code class="nv">$invention</code><code> </code><code class="o">=&gt;</code><code> </code><code class="nv">$inventor</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="si">{</code><code class="nv">$inventor</code><code class="si">}</code><code class="s2"> invented the </code><code class="si">{</code><code class="nv">$invention</code><code class="si">}</code><code class="s2">&lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="p">}</code><code>
</code><strong><code class="nx">Hello</code><code class="p">,</code><code> </code><code class="nx">Edison</code></strong><code>
</code><strong><code class="nx">Hello</code><code class="p">,</code><code> </code><code class="nx">Wankel</code></strong><code>
</code><strong><code class="nx">Hello</code><code class="p">,</code><code> </code><code class="nx">Crapper</code></strong><code>
</code><strong><code class="nx">Edison</code><code> </code><code class="nx">created</code><code> </code><code class="nx">the</code><code> </code><code class="nx">Light</code><code> </code><code class="nx">bulb</code></strong><code>
</code><strong><code class="nx">Wankel</code><code> </code><code class="nx">created</code><code> </code><code class="nx">the</code><code> </code><code class="nx">Rotary</code><code> </code><code class="nx">Engine</code></strong><code>
</code><strong><code class="nx">Crapper</code><code> </code><code class="nx">created</code><code> </code><code class="nx">the</code><code> </code><code class="nx">Toilet</code></strong></pre>

<p><a contenteditable="false" data-primary="arrays" data-secondary="sorting" data-type="indexterm" id="idm45922816360008"/><a contenteditable="false" data-primary="sorting arrays" data-type="indexterm" id="idm45922816343480"/>You can sort the elements of an array with the various sort functions:</p>

<pre data-code-language="php" data-type="programlisting">
<a contenteditable="false" data-primary="sort function" data-type="indexterm" id="idm45922816293720"><code class="nx"> </code></a><code class="nx">sort</code><code class="p">(</code><code class="nv">$person</code><code class="p">);</code><code>
</code><code class="c1">// $person is now array("Crapper", "Edison", "Wankel")
</code><code>
</code><a contenteditable="false" data-primary="asort function" data-type="indexterm" id="idm45922816353528"><code class="nx"> </code></a><code class="nx">asort</code><code class="p">(</code><code class="nv">$creator</code><code class="p">);</code><code>
</code><code class="c1">// $creator is now array('Toilet' =&gt; "Crapper",
</code><code class="c1">// 'Light bulb' =&gt; "Edison",
</code><code class="c1">// 'Rotary Engine' =&gt; "Wankel");</code></pre>

<p>Use the <a contenteditable="false" data-primary="is_array function" data-type="indexterm" id="idm45922816285096"/><code>is_array()</code> function to test whether a value is an array:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_array</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is an array</code>
<code class="p">}</code></pre>

<p>There are functions for returning the number of items in the array, fetching every value in the array, and much more. Arrays are covered in depth in <a data-type="xref" href="ch05.xhtml#array">Chapter 5</a>.<a contenteditable="false" data-primary="" data-startref="ix_arrays_basics" data-type="indexterm" id="idm45922816259256"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Objects"><div class="sect2" id="objects">
<h2>Objects</h2>

<p><a contenteditable="false" data-primary="objects" data-secondary="basics" data-type="indexterm" id="idm45922816256264"/><a contenteditable="false" data-primary="OOP (object-oriented programming)" data-type="indexterm" id="idm45922816252440"/>PHP also supports <em>object-oriented programming</em> (OOP). OOP promotes clean, modular design; simplifies debugging and maintenance; and assists with code reuse. Classes are the building blocks of object-oriented design. <a contenteditable="false" data-primary="classes" data-secondary="defining or declaring" data-type="indexterm" id="idm45922816250600"/>A class is a definition of a structure that contains <a contenteditable="false" data-primary="properties" data-secondary="accessing" data-type="indexterm" id="idm45922816249128"/>properties (variables) and <a contenteditable="false" data-primary="methods" data-secondary="accessing" data-type="indexterm" id="idm45922816247624"/>methods (functions). Classes are defined with the <a contenteditable="false" data-primary="class keyword" data-type="indexterm" id="idm45922816246120"/><code>class</code> keyword:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">class</code> <code class="nc">Person</code>
<code class="p">{</code>
 <code class="k">public</code> <code class="nv">$name</code> <code class="o">=</code> <code class="s1">''</code><code class="p">;</code>

 <code class="k">function</code> <code class="nf">name</code> <code class="p">(</code><code class="nv">$newname</code> <code class="o">=</code> <code class="k">NULL</code><code class="p">)</code>
 <code class="p">{</code>
 <code class="k">if</code> <code class="p">(</code><code class="o">!</code><code class="nb">is_null</code><code class="p">(</code><code class="nv">$newname</code><code class="p">))</code> <code class="p">{</code>
 <code class="nv">$this</code><code class="o">-&gt;</code><code class="na">name</code> <code class="o">=</code> <code class="nv">$newname</code><code class="p">;</code>
 <code class="p">}</code>

 <code class="k">return</code> <code class="nv">$this</code><code class="o">-&gt;</code><code class="na">name</code><code class="p">;</code>
 <code class="p">}</code>
<code class="p">}</code></pre>

<p><a contenteditable="false" data-primary="objects" data-secondary="instantiating" data-type="indexterm" id="idm45922816215720"/>Once a class is defined, any number of objects can be made from it with the <a contenteditable="false" data-primary="new keyword" data-type="indexterm" id="idm45922816184856"/><code>new</code> keyword, and the object’s properties and methods can be accessed with the <a contenteditable="false" data-primary="-&gt; (hyphen, right angle bracket)" data-type="indexterm" id="idm45922816183336"/><a contenteditable="false" data-primary="hyphen, right angle bracket (-&gt;), accessing object members" data-type="indexterm" id="idm45922816182264"/><code>-&gt;</code> construct:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$ed</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="nx">Person</code><code class="p">;</code><code>
</code><code class="nv">$ed</code><code class="o">-&gt;</code><code class="na">name</code><code class="p">(</code><code class="s1">'Edison'</code><code class="p">);</code><code>
</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Hello, </code><code class="si">{</code><code class="nv">$ed</code><code class="o">-&gt;</code><code class="na">name</code><code class="si">}</code><code class="s2"> &lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="nv">$tc</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="nx">Person</code><code class="p">;</code><code>
</code><code class="nv">$tc</code><code class="o">-&gt;</code><code class="na">name</code><code class="p">(</code><code class="s1">'Crapper'</code><code class="p">);</code><code>
</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Look out below </code><code class="si">{</code><code class="nv">$tc</code><code class="o">-&gt;</code><code class="na">name</code><code class="si">}</code><code class="s2"> &lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="nx">Hello</code><code class="p">,</code><code> </code><code class="nx">Edison</code></strong><code>
</code><strong><code class="nx">Look</code><code> </code><code class="nx">out</code><code> </code><code class="nx">below</code><code> </code><code class="nx">Crapper</code></strong></pre>

<p><a contenteditable="false" data-primary="is_object function" data-type="indexterm" id="idm45922816159368"/>Use the <code>is_object()</code> function to <a contenteditable="false" data-primary="objects" data-secondary="testing whether value is" data-type="indexterm" id="idm45922816164136"/>test whether a value is an object:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_object</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is an object</code>
<code class="p">}</code></pre>

<p><a data-type="xref" href="ch06.xhtml#objects-id00032">Chapter 6</a> describes classes and objects in much more detail, including inheritance, encapsulation, and introspection.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Resources"><div class="sect2" id="resources">
<h2>Resources</h2>

<p><a contenteditable="false" data-primary="resources" data-type="indexterm" id="idm45922816070152"/><a contenteditable="false" data-primary="databases" data-secondary="as resources" data-secondary-sortas="resources" data-type="indexterm" id="idm45922816069048"/>Many modules provide several functions for dealing with the outside world. For example, every database extension has at least a function to connect to the database, a function to query the database, and a function to close the connection to the database. Because you can have multiple database connections open at once, the connect function<a contenteditable="false" data-primary="connect function" data-type="indexterm" id="idm45922816060120"/> gives you something by which to identify that unique connection when you call the query and close functions: a resource <a contenteditable="false" data-primary="handles" data-type="indexterm" id="idm45922816058744"/>(or a <em>handle</em>).</p>

<p>Each active resource has a unique identifier. Each identifier is a numerical index into an internal PHP lookup table that holds information about all the active resources. PHP maintains information about each resource in this table, including the number of references to (or uses of) the resource throughout the code. When the last reference to a resource value goes away, the extension that created the resource is called to perform tasks such as freeing any memory or closing any connection for that resource:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$res</code> <code class="o">=</code> <code class="nx">database_connect</code><code class="p">();</code> <code class="c1">// fictitious database connect function</code>
<code class="nx">database_query</code><code class="p">(</code><code class="nv">$res</code><code class="p">);</code>

<code class="nv">$res</code> <code class="o">=</code> <code class="s2">"boo"</code><code class="p">;</code>
<code class="c1">// database connection automatically closed because $res is redefined</code></pre>

<p>The benefit of this automatic cleanup is best seen within functions, when the resource is assigned to a local variable. When the function ends, the variable’s value is reclaimed by PHP:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code> <code class="nf">search</code><code class="p">()</code> <code class="p">{</code>
 <code class="nv">$res</code> <code class="o">=</code> <code class="nx">database_connect</code><code class="p">();</code>
 <code class="nx">database_query</code><code class="p">(</code><code class="nv">$res</code><code class="p">);</code>
<code class="p">}</code></pre>

<p>When there are no more references to the resource, it’s automatically shut down.</p>

<p>That said, most extensions provide a specific shutdown or close function, and it’s considered good style to call that function explicitly when needed rather than to rely on variable scoping to trigger resource cleanup.</p>

<p><a contenteditable="false" data-primary="is_resource function" data-type="indexterm" id="idm45922815979656"/>Use the <code>is_resource()</code> function to test whether a value is a resource:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_resource</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is a resource</code>
<code class="p">}</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Callbacks"><div class="sect2" id="callbacks">
<h2>Callbacks</h2>

<p><a contenteditable="false" data-primary="functions" data-secondary="callbacks" data-type="indexterm" id="idm45922815916712"/><a contenteditable="false" data-primary="callbacks" data-type="indexterm" id="idm45922815915112"/>Callbacks are functions or object <a contenteditable="false" data-primary="methods" data-secondary="callbacks" data-type="indexterm" id="idm45922815913880"/>methods used by some functions, such as <a contenteditable="false" data-primary="call_user_func function" data-type="indexterm" id="idm45922815912376"/><code>call_user_func()</code>. Callbacks can also be created by the <a contenteditable="false" data-primary="create_function function" data-type="indexterm" id="idm45922815910856"/><code>create_function()</code> method and through closures (described in <a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a>):</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$callback</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"callback achieved"</code><code class="p">;</code>
<code class="p">};</code>

<code class="nb">call_user_func</code><code class="p">(</code><code class="nv">$callback</code><code class="p">);</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="NULL"><div class="sect2" id="null">
<h2>NULL</h2>

<p><a contenteditable="false" data-primary="NULL data type" data-type="indexterm" id="idm45922815942312"/>There’s only one value of the NULL data type. That value is available through the case-insensitive keyword <a contenteditable="false" data-primary="NULL keyword" data-type="indexterm" id="idm45922815885656"/><code>NULL</code>. The <code>NULL</code> value represents a variable that has no value (similar to Perl’s <code>undef</code> or Python’s <code>None</code>):</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$aleph</code> <code class="o">=</code> <code class="s2">"beta"</code><code class="p">;</code>
<code class="nv">$aleph</code> <code class="o">=</code> <code class="k">null</code><code class="p">;</code> <code class="c1">// variable's value is gone</code>
<code class="nv">$aleph</code> <code class="o">=</code> <code class="k">Null</code><code class="p">;</code> <code class="c1">// same</code>
<code class="nv">$aleph</code> <code class="o">=</code> <code class="k">NULL</code><code class="p">;</code> <code class="c1">// same</code></pre>

<p>Use the <a contenteditable="false" data-primary="is_null function" data-type="indexterm" id="idm45922815841928"/><code>is_null()</code> function to test whether a value is <code>NULL</code>—for instance, to see whether a variable has a <a contenteditable="false" data-primary="" data-startref="ix_data_types_1" data-type="indexterm" id="idm45922815840088"/><a contenteditable="false" data-primary="" data-startref="ix_data_types_2" data-type="indexterm" id="idm45922815838712"/>value:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nb">is_null</code><code class="p">(</code><code class="nv">$x</code><code class="p">))</code> <code class="p">{</code>
 <code class="c1">// $x is NULL</code>
<code class="p">}</code></pre>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Variables"><div class="sect1" id="variables-id00045">
<h1>Variables</h1>

<p><a contenteditable="false" data-primary="variables" data-secondary="creating" data-type="indexterm" id="idm45922815830088"/><a contenteditable="false" data-primary="variables" data-type="indexterm" id="ix_variables_ch2"/><a contenteditable="false" data-primary="PHP" data-secondary="variables" data-type="indexterm" id="ix_php_variables_ch2"/>Variables in PHP are identifiers prefixed with a <a contenteditable="false" data-primary="$ (dollar sign)" data-secondary="preceding variable names" data-type="indexterm" id="idm45922815825496"/><a contenteditable="false" data-primary="dollar sign ($)" data-secondary="preceding variable names" data-type="indexterm" id="idm45922815792888"/>dollar sign (<code>$</code>). For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$name</code>
<code class="nv">$Age</code>
<code class="nv">$_debugging</code>
<code class="nv">$MAXIMUM_IMPACT</code></pre>

<p>A variable may hold a value of any type. There is no compile-time or runtime type checking on variables. You can replace a variable’s value with another of a different type:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$what</code> <code class="o">=</code> <code class="s2">"Fred"</code><code class="p">;</code>
<code class="nv">$what</code> <code class="o">=</code> <code class="mi">35</code><code class="p">;</code>
<code class="nv">$what</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s2">"Fred"</code><code class="p">,</code> <code class="mi">35</code><code class="p">,</code> <code class="s2">"Wilma"</code><code class="p">);</code></pre>

<p>There is no explicit syntax for declaring variables in PHP. The first time the value of a variable is set, the variable is created in memory. In other words, setting a value to a variable also functions as a declaration. For example, this is a valid complete PHP program:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$day</code><code> </code><code class="o">=</code><code> </code><code class="mi">60</code><code> </code><code class="o">*</code><code> </code><code class="mi">60</code><code> </code><code class="o">*</code><code> </code><code class="mi">24</code><code class="p">;</code><code>
</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">There are </code><code class="si">{</code><code class="nv">$day</code><code class="si">}</code><code class="s2"> seconds in a day.</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="nx">There</code><code> </code><code class="nx">are</code><code> </code><code class="mi">86400</code><code> </code><code class="nx">seconds</code><code> </code><code class="nx">in</code><code> </code><code class="nx">a</code><code> </code><code class="nx">day</code><code class="o">.</code></strong></pre>

<p>A variable whose value has not been set behaves like the <a contenteditable="false" data-primary="NULL data type" data-type="indexterm" id="idm45922815665128"/><code>NULL</code> value:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code><code> </code><code class="p">(</code><code class="nv">$uninitializedVariable</code><code> </code><code class="o">===</code><code> </code><code class="k">NULL</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Yes!</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="p">}</code><code>
</code><strong><code class="nx">Yes</code><code class="o">!</code></strong></pre>

<section data-type="sect2" data-pdf-bookmark="Variable Variables"><div class="sect2" id="variable_variables">
<h2>Variable Variables</h2>

<p><a contenteditable="false" data-primary="variables" data-secondary="containing variable names" data-type="indexterm" id="idm45922815620936"/><a contenteditable="false" data-primary="variable variables" data-type="indexterm" id="idm45922815619592"/>You can reference the value of a variable whose name is stored in another variable by prefacing the variable reference with an <a contenteditable="false" data-primary="$$ (dollar signs, double), preceding variables containing variable names" data-type="indexterm" id="idm45922815618216"/><a contenteditable="false" data-primary="dollar signs, double ($$), preceding variables containing variable names" data-type="indexterm" id="idm45922815617144"/>additional dollar sign (<code>$</code>). For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$foo</code> <code class="o">=</code> <code class="s2">"bar"</code><code class="p">;</code>
<code class="nv">$$foo</code> <code class="o">=</code> <code class="s2">"baz"</code><code class="p">;</code></pre>

<p>After the second statement executes, the variable <code>$bar</code> has the value <code>"baz"</code>.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Variable References"><div class="sect2" id="variable_references">
<h2>Variable References</h2>

<p><a contenteditable="false" data-primary="variables" data-secondary="aliases for" data-type="indexterm" id="idm45922815594440"/><a contenteditable="false" data-primary="variable references" data-type="indexterm" id="idm45922815593064"/><a contenteditable="false" data-primary="aliases for variables" data-type="indexterm" id="idm45922815591960"/>In PHP, references are how you create variable aliases or pointers. To make <code>$black</code> an alias for the variable <code>$white</code>, use:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$black</code> <code class="o">=&amp;</code> <code class="nv">$white</code><code class="p">;</code></pre>

<p>The old value of <code>$black</code>, if any, is lost. Instead, <code>$black</code> is now another name for the value that is stored in <code>$white</code>:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$bigLongVariableName</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">PHP</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="nv">$short</code><code> </code><code class="o">=&amp;</code><code> </code><code class="nv">$bigLongVariableName</code><code class="p">;</code><code>
</code><code class="nv">$bigLongVariableName</code><code> </code><code class="o">.=</code><code> </code><code class="s2">"</code><code class="s2"> rocks!</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">print</code><code> </code><code class="s2">"</code><code class="se">\$</code><code class="s2">short is </code><code class="si">$short</code><code class="s2"> &lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">print</code><code> </code><code class="s2">"</code><code class="s2">Long is </code><code class="si">$bigLongVariableName</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="nv">$short</code><code> </code><code class="nx">is</code><code> </code><code class="nx">PHP</code><code> </code><code class="nx">rocks</code><code class="o">!</code></strong><code>
</code><strong><code class="nx">Long</code><code> </code><code class="nx">is</code><code> </code><code class="nx">PHP</code><code> </code><code class="nx">rocks</code><code class="o">!</code></strong><code>

</code><code class="nv">$short</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">Programming </code><code class="si">$short</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">print</code><code> </code><code class="s2">"</code><code class="se">\$</code><code class="s2">short is </code><code class="si">$short</code><code class="s2"> &lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="k">print</code><code> </code><code class="s2">"</code><code class="s2">Long is </code><code class="si">$bigLongVariableName</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="nv">$short</code><code> </code><code class="nx">is</code><code> </code><code class="nx">Programming</code><code> </code><code class="nx">PHP</code><code> </code><code class="nx">rocks</code><code class="o">!</code></strong><code>
</code><strong><code class="nx">Long</code><code> </code><code class="nx">is</code><code> </code><code class="nx">Programming</code><code> </code><code class="nx">PHP</code><code> </code><code class="nx">rocks</code><code class="o">!</code></strong></pre>

<p>After the assignment, the two variables are alternate names for the same value. Unsetting a variable that is aliased does not affect other names for that variable’s value, however:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$white</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">snow</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="nv">$black</code><code> </code><code class="o">=&amp;</code><code> </code><code class="nv">$white</code><code class="p">;</code><code>
</code><code class="nb">unset</code><code class="p">(</code><code class="nv">$white</code><code class="p">);</code><code>
</code><code class="k">print</code><code> </code><code class="nv">$black</code><code class="p">;</code><code>
</code><strong><code class="nx">snow</code></strong></pre>

<p>Functions can return values by reference (for example, to avoid copying large strings or arrays, as discussed in <a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a>):</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code> <code class="o">&amp;</code><code class="nf">retRef</code><code class="p">()</code> <code class="c1">// note the &amp;</code>
<code class="p">{</code>
 <code class="nv">$var</code> <code class="o">=</code> <code class="s2">"PHP"</code><code class="p">;</code>

 <code class="k">return</code> <code class="nv">$var</code><code class="p">;</code>
<code class="p">}</code>

<code class="nv">$v</code> <code class="o">=&amp;</code> <code class="nx">retRef</code><code class="p">();</code> <code class="c1">// note the &amp;</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Variable Scope"><div class="sect2" id="variable_scope-id00049">
<h2>Variable Scope</h2>

<p><a contenteditable="false" data-primary="variables" data-secondary="scope of" data-type="indexterm" id="ix_variables_scope"/><a contenteditable="false" data-primary="scope of variables" data-type="indexterm" id="ix_scope_variables"/>The <em>scope</em> of a variable, which is controlled by the location of the variable’s declaration, determines those parts of the program that can access it. There are four types of variable scope in PHP: local, global, static, and function parameters.</p>

<section data-type="sect3" data-pdf-bookmark="Local scope"><div class="sect3" id="local_scope">
<h3>Local scope</h3>

<p><a contenteditable="false" data-primary="local scope, variable" data-type="indexterm" id="idm45922815343896"/>A variable declared in a function is local to that function. That is, it is visible only to code in that function (excepting nested function definitions); it is not accessible outside the function. In addition, by default, variables defined outside a function (called <em>global</em> variables) are not accessible inside the function. For example, here’s a function that updates a local variable instead of a global variable:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code><code> </code><code class="nf">updateCounter</code><code class="p">()</code><code>
</code><code class="p">{</code><code>
 </code><code class="nv">$counter</code><code class="o">++</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nv">$counter</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code class="p">;</code><code>
</code><code class="nx">updateCounter</code><code class="p">();</code><code>

</code><code class="k">echo</code><code> </code><code class="nv">$counter</code><code class="p">;</code><code>
</code><strong><code class="mi">10</code></strong></pre>

<p>The <code>$counter</code> inside the function is local to that function because we haven’t said otherwise. The function increments its private <code>$counter</code> variable, which is destroyed when the subroutine ends. The global <code>$counter</code> remains set at 10.</p>

<p>Only functions can provide local scope. Unlike in other languages, in PHP you can’t create a variable whose scope is a loop, conditional branch, or other type of block.</p>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Global scope"><div class="sect3" id="global_scope">
<h3>Global scope</h3>

<p><a contenteditable="false" data-primary="global scope, variable" data-type="indexterm" id="idm45922815297096"/>Variables declared outside a function are global. That is, they can be accessed from any part of the program. However, by default, they are not available inside functions. To allow a function to access a global variable, you can use the <a contenteditable="false" data-primary="global keyword" data-type="indexterm" id="idm45922815295608"/><code>global</code> keyword inside the function to declare the variable within the function. Here’s how we can rewrite the <code>updateCounter()</code> function to allow it to access the global <code>$counter</code> variable:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code><code> </code><code class="nf">updateCounter</code><code class="p">()</code><code>
</code><code class="p">{</code><code>
 </code><code class="k">global</code><code> </code><code class="nv">$counter</code><code class="p">;</code><code>
 </code><code class="nv">$counter</code><code class="o">++</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nv">$counter</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code class="p">;</code><code>
</code><code class="nx">updateCounter</code><code class="p">();</code><code>
</code><code class="k">echo</code><code> </code><code class="nv">$counter</code><code class="p">;</code><code>
</code><strong><code class="mi">11</code></strong></pre>

<p>A more cumbersome way to update the global variable is to use PHP’s <a contenteditable="false" data-primary="$GLOBALS array" data-type="indexterm" id="idm45922815243880"/><code>$GLOBALS</code> array instead of accessing the variable directly:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code><code> </code><code class="nf">updateCounter</code><code class="p">()</code><code>
</code><code class="p">{</code><code>
 </code><code class="nv">$GLOBALS</code><code class="p">[</code><code class="nx">‘counter’</code><code class="p">]</code><code class="o">++</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nv">$counter</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code class="p">;</code><code>
</code><code class="nx">updateCounter</code><code class="p">();</code><code>
</code><code class="k">echo</code><code> </code><code class="nv">$counter</code><code class="p">;</code><code>
</code><strong><code class="mi">11</code></strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Static variables"><div class="sect3" id="static_variable">
<h3>Static variables</h3>

<p><a contenteditable="false" data-primary="variables" data-secondary="static" data-type="indexterm" id="idm45922815170360"/><a contenteditable="false" data-primary="static variables" data-type="indexterm" id="idm45922815168984"/>A static variable retains its value between calls to a function but is visible only within that function. You declare a variable static with the <a contenteditable="false" data-primary="static keyword" data-type="indexterm" id="idm45922815167592"/><code>static</code> keyword. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code><code> </code><code class="nf">updateCounter</code><code class="p">()</code><code>
</code><code class="p">{</code><code>
 </code><code class="k">static</code><code> </code><code class="nv">$counter</code><code> </code><code class="o">=</code><code> </code><code class="mi">0</code><code class="p">;</code><code>
 </code><code class="nv">$counter</code><code class="o">++</code><code class="p">;</code><code>

 </code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Static counter is now </code><code class="si">{</code><code class="nv">$counter</code><code class="si">}</code><code class="s2">&lt;br/&gt;</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nv">$counter</code><code> </code><code class="o">=</code><code> </code><code class="mi">10</code><code class="p">;</code><code>
</code><code class="nx">updateCounter</code><code class="p">();</code><code>
</code><code class="nx">updateCounter</code><code class="p">();</code><code>

</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Global counter is </code><code class="si">{</code><code class="nv">$counter</code><code class="si">}</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="k">Static</code><code> </code><code class="nx">counter</code><code> </code><code class="nx">is</code><code> </code><code class="nx">now</code><code> </code><code class="mi">1</code></strong><code>
</code><strong><code class="k">Static</code><code> </code><code class="nx">counter</code><code> </code><code class="nx">is</code><code> </code><code class="nx">now</code><code> </code><code class="mi">2</code></strong><code>
</code><strong><code class="k">Global</code><code> </code><code class="nx">counter</code><code> </code><code class="nx">is</code><code> </code><code class="mi">10</code></strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Function parameters"><div class="sect3" id="function_parameter">
<h3>Function parameters</h3>

<p><a contenteditable="false" data-primary="parameters" data-secondary="scope of" data-type="indexterm" id="idm45922815145704"/><a contenteditable="false" data-primary="functions" data-secondary="scope of parameters in" data-type="indexterm" id="idm45922815149976"/>As we’ll discuss in more detail in <a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a>, a function definition can have named parameters:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">function</code><code> </code><code class="nf">greet</code><code class="p">(</code><code class="nv">$name</code><code class="p">)</code><code>
</code><code class="p">{</code><code>
 </code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="s2">Hello, </code><code class="si">{</code><code class="nv">$name</code><code class="si">}</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nx">greet</code><code class="p">(</code><code class="s2">"</code><code class="s2">Janet</code><code class="s2">"</code><code class="p">);</code><code>
</code><strong><code class="nx">Hello</code><code class="p">,</code><code> </code><code class="nx">Janet</code></strong></pre>

<p><a contenteditable="false" data-primary="local scope, variable" data-type="indexterm" id="idm45922815026552"/>Function parameters are local, meaning that they are available only inside their functions. In this case, <code>$name</code> is inaccessible from outside <code>greet()</code>.<a contenteditable="false" data-primary="" data-startref="ix_scope_variables" data-type="indexterm" id="idm45922815024456"/><a contenteditable="false" data-primary="" data-startref="ix_variables_scope" data-type="indexterm" id="idm45922815023048"/></p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Garbage Collection"><div class="sect2" id="garbage_collection">
<h2>Garbage Collection</h2>

<p><a contenteditable="false" data-primary="variables" data-secondary="garbage collection for" data-type="indexterm" id="ix_variables_garbcollect"/><a contenteditable="false" data-primary="garbage collection" data-type="indexterm" id="ix_garbage_collect"/>PHP uses <a contenteditable="false" data-primary="reference counting" data-type="indexterm" id="ix_ref_count"/><em>reference counting</em> and <em>copy-on-write</em> to <a contenteditable="false" data-primary="memory management" data-type="indexterm" id="ix_mem_manage"/>manage memory. <a contenteditable="false" data-primary="copy-on-write" data-type="indexterm" id="idm45922814998120"/>Copy-on-write ensures that memory isn’t wasted when you copy values between variables, and reference counting ensures that memory is returned to the operating system when it is no longer needed.</p>

<p><a contenteditable="false" data-primary="symbol table" data-type="indexterm" id="idm45922814996488"/><a contenteditable="false" data-primary="variables" data-secondary="symbol table for" data-type="indexterm" id="idm45922814995384"/>To understand memory management in PHP, you must first understand the idea of a <em>symbol table</em>. There are two parts to a variable—its name (e.g., <code>$name</code>), and its value (e.g., <code>"Fred"</code>). A symbol table is an array that maps variable names to the positions of their values in memory.</p>

<p>When you copy a value from one variable to another, PHP doesn’t get more memory for a copy of the value. Instead, it updates the symbol table to indicate that “both of these variables are names for the same chunk of memory.” So the following code doesn’t actually create a new array:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$worker</code> <code class="o">=</code> <code class="k">array</code><code class="p">(</code><code class="s2">"Fred"</code><code class="p">,</code> <code class="mi">35</code><code class="p">,</code> <code class="s2">"Wilma"</code><code class="p">);</code>
<code class="nv">$other</code> <code class="o">=</code> <code class="nv">$worker</code><code class="p">;</code> <code class="c1">// array isn't duplicated in memory</code></pre>

<p>If you subsequently modify either copy, PHP allocates the required memory and makes the copy:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$worker</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="mi">36</code><code class="p">;</code> <code class="c1">// array is copied in memory, value changed</code></pre>

<p>By delaying the allocation and copying, PHP saves time and memory in a lot of situations. This is copy-on-write.</p>

<p>Each value pointed to by a symbol table has a <em>reference count</em>, a number that represents the number of ways there are to get to that piece of memory. After the initial assignment of the array to <code>$worker</code> and <code>$worker</code> to <code>$other</code>, the array pointed to by the symbol table entries for <code>$worker</code> and <code>$other</code> has a reference count of 2.<sup><a data-type="noteref" id="ch02fn1-marker" href="ch02.xhtml#ch02fn1">1</a></sup> In other words, that memory can be reached two ways: through <code>$worker</code> or <code>$other</code>. But after <code>$worker[1]</code> is changed, PHP creates a new array for <code>$worker</code>, and the reference count of each array is only 1.</p>

<p>When a variable goes out of scope at the end of a function, such as function parameters and local variables, the reference count of its value is decreased by one. When a variable is assigned a value in a different area of memory, the reference count of the old value is decreased by one. When the reference count of a value reaches 0, its memory is released. This is reference counting.</p>

<p>Reference counting is the preferred way to manage memory. Keep variables local to functions, pass in values that the functions need to work on, and let reference counting take care of the memory management. If you do insist on trying to get a little more information or control over freeing a variable’s value, use the <code>isset()</code> and <code>unset()</code> functions.</p>

<p><a contenteditable="false" data-primary="variables" data-secondary="testing if set" data-type="indexterm" id="idm45922814963288"/>To see if a variable has been set to something—even the empty string—use <a contenteditable="false" data-primary="isset function" data-type="indexterm" id="idm45922814961784"/><code>isset()</code>:<a contenteditable="false" data-primary="" data-startref="ix_php_variables_ch2" data-type="indexterm" id="idm45922814935832"/><a contenteditable="false" data-primary="" data-startref="ix_variables_ch2" data-type="indexterm" id="idm45922814934424"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$s1</code> <code class="o">=</code> <code class="nb">isset</code><code class="p">(</code><code class="nv">$name</code><code class="p">);</code> <code class="c1">// $s1 is false</code>
<code class="nv">$name</code> <code class="o">=</code> <code class="s2">"Fred"</code><code class="p">;</code>
<code class="nv">$s2</code> <code class="o">=</code> <code class="nb">isset</code><code class="p">(</code><code class="nv">$name</code><code class="p">);</code> <code class="c1">// $s2 is true</code></pre>

<p><a contenteditable="false" data-primary="variables" data-secondary="unsetting" data-type="indexterm" id="idm45922814897352"/>Use <a contenteditable="false" data-primary="unset function" data-type="indexterm" id="idm45922814893688"/><code>unset()</code> to remove a variable’s value:<a contenteditable="false" data-primary="" data-startref="ix_garbage_collect" data-type="indexterm" id="idm45922814892136"/><a contenteditable="false" data-primary="" data-startref="ix_mem_manage" data-type="indexterm" id="idm45922814890760"/><a contenteditable="false" data-primary="" data-startref="ix_ref_count" data-type="indexterm" id="idm45922814889384"/><a contenteditable="false" data-primary="" data-startref="ix_ref_count" data-type="indexterm" id="idm45922814888008"/><a contenteditable="false" data-primary="" data-startref="ix_variables_garbcollect" data-type="indexterm" id="idm45922814886632"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$name</code> <code class="o">=</code> <code class="s2">"Fred"</code><code class="p">;</code>
<code class="nb">unset</code><code class="p">(</code><code class="nv">$name</code><code class="p">);</code> <code class="c1">// $name is NULL</code></pre>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Expressions and Operators"><div class="sect1" id="expressions_and_operators">
<h1>Expressions and Operators</h1>

<p><a contenteditable="false" data-primary="PHP" data-secondary="expressions" data-type="indexterm" id="idm45922814807592"/><a contenteditable="false" data-primary="expressions" data-seealso="regular expressions" data-type="indexterm" id="idm45922814806216"/>An <em>expression</em> is a bit of PHP code that can be evaluated to produce a value. The simplest expressions are literal values and variables. A literal value evaluates to itself, while a variable evaluates to the value stored in the variable. More complex expressions can be formed using simple expressions and operators.</p>

<p><a contenteditable="false" data-primary="PHP" data-secondary="operators" data-type="indexterm" id="ix_php_operators"/><a contenteditable="false" data-primary="operators" data-type="indexterm" id="ix_operators"/>An <em>operator</em> takes some values (the operands) and does something (e.g., adds them together). Operators are sometimes written as punctuation symbols—for instance, the <code>+</code> and <code>–</code> familiar to us from math. Some operators modify their operands, while most do not.</p>

<p><a contenteditable="false" data-primary="operators" data-secondary="list of" data-type="indexterm" id="idm45922814847800"/><a data-type="xref" href="#php_operators">Table 2-3</a> summarizes the operators in PHP, many of which were borrowed from C and Perl. The column labeled “P” gives the operator’s precedence; the operators are listed in precedence order, from highest to lowest. The column labeled “A” gives the operator’s associativity, which can be L (left-to-right), R (right-to-left), or N (<span class="keep-together">nonassociative</span>).</p>

<table class="border" id="php_operators">
	<caption><span class="label">Table 2-3. </span>PHP operators</caption>
	<thead>
		<tr>
			<th>P</th>
			<th>A</th>
			<th>Operator</th>
			<th>Operation</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>24</td>
			<td>N</td>
			<td><code>clone</code>, <code>new</code></td>
			<td>Create new object</td>
		</tr>
		<tr>
			<td>23</td>
			<td>L</td>
			<td><code>[</code></td>
			<td>Array subscript</td>
		</tr>
		<tr>
			<td>22</td>
			<td>R</td>
			<td><code>**</code></td>
			<td>Exponentiation</td>
		</tr>
		<tr>
			<td>21</td>
			<td>R</td>
			<td><code>~</code></td>
			<td>Bitwise NOT</td>
		</tr>
		<tr>
			<td> </td>
			<td>R</td>
			<td><code>++</code></td>
			<td>Increment</td>
		</tr>
		<tr>
			<td> </td>
			<td>R</td>
			<td><code>−−</code></td>
			<td>Decrement</td>
		</tr>
		<tr>
			<td> </td>
			<td>R</td>
			<td><code>(int)</code>, <code>(bool)</code>, <code>(float)</code>, <code>(string)</code>, <code>(array)</code>, <code>(object)</code>, <code>(unset)</code></td>
			<td>Cast</td>
		</tr>
		<tr>
			<td> </td>
			<td>R</td>
			<td><code>@</code></td>
			<td>Inhibit errors</td>
		</tr>
		<tr>
			<td>20</td>
			<td>N</td>
			<td><code>instanceof</code></td>
			<td>Type testing</td>
		</tr>
		<tr>
			<td>19</td>
			<td>R</td>
			<td><code>!</code></td>
			<td>Logical NOT</td>
		</tr>
		<tr>
			<td>18</td>
			<td>L</td>
			<td><code>*</code></td>
			<td>Multiplication</td>
		</tr>
		<tr>
			<td> </td>
			<td>L</td>
			<td><code>/</code></td>
			<td>Division</td>
		</tr>
		<tr>
			<td> </td>
			<td>L</td>
			<td><code>%</code></td>
			<td>Modulus</td>
		</tr>
		<tr>
			<td>17</td>
			<td>L</td>
			<td><code>+</code></td>
			<td>Addition</td>
		</tr>
		<tr>
			<td> </td>
			<td>L</td>
			<td><code>−</code></td>
			<td>Subtraction</td>
		</tr>
		<tr>
			<td> </td>
			<td>L</td>
			<td><code>.</code></td>
			<td>String concatenation</td>
		</tr>
		<tr>
			<td>16</td>
			<td>L</td>
			<td><code>&lt;&lt;</code></td>
			<td>Bitwise shift left</td>
		</tr>
		<tr>
			<td> </td>
			<td>L</td>
			<td><code>&gt;&gt;</code></td>
			<td>Bitwise shift right</td>
		</tr>
		<tr>
			<td>15</td>
			<td>N</td>
			<td><code>&lt;</code>, <code>&lt;=</code></td>
			<td>Less than, less than or equal</td>
		</tr>
		<tr>
			<td> </td>
			<td>N</td>
			<td><code>&gt;</code>, <code>&gt;=</code></td>
			<td>Greater than, greater than or equal</td>
		</tr>
		<tr>
			<td>14</td>
			<td>N</td>
			<td><code>==</code></td>
			<td>Value equality</td>
		</tr>
		<tr>
			<td> </td>
			<td>N</td>
			<td><code>!=</code>, <code>&lt;&gt;</code></td>
			<td>Inequality</td>
		</tr>
		<tr>
			<td> </td>
			<td>N</td>
			<td><code>===</code></td>
			<td>Type and value equality</td>
		</tr>
		<tr>
			<td> </td>
			<td>N</td>
			<td><code>!==</code></td>
			<td>Type and value inequality</td>
		</tr>
		<tr>
			<td> </td>
			<td>N</td>
			<td><code>&lt;=&gt;</code></td>
			<td>Returns an integer based on a comparison of two operands: <code>0</code> when left and right are equal, <code>–1</code> when left is less than right, and <code>1</code> when left is greater than right.</td>
		</tr>
		<tr>
			<td>13</td>
			<td>L</td>
			<td><code>&amp;</code></td>
			<td>Bitwise AND</td>
		</tr>
		<tr>
			<td>12</td>
			<td>L</td>
			<td><code>^</code></td>
			<td>Bitwise XOR</td>
		</tr>
		<tr>
			<td>11</td>
			<td>L</td>
			<td><code>|</code></td>
			<td>Bitwise OR</td>
		</tr>
		<tr>
			<td>10</td>
			<td>L</td>
			<td><code>&amp;&amp;</code></td>
			<td>Logical AND</td>
		</tr>
		<tr>
			<td>9</td>
			<td>L</td>
			<td><code>||</code></td>
			<td>Logical OR</td>
		</tr>
		<tr>
			<td>8</td>
			<td>R</td>
			<td><code>??</code></td>
			<td>Comparison</td>
		</tr>
		<tr>
			<td>7</td>
			<td>L</td>
			<td><code>?:</code></td>
			<td>Conditional operator</td>
		</tr>
		<tr>
			<td>6</td>
			<td>R</td>
			<td><code>=</code></td>
			<td>Assignment</td>
		</tr>
		<tr>
			<td> </td>
			<td>R</td>
			<td><code>+=</code>, <code>−=</code>, <code>*=</code>, <code>/=</code>, <code>.=</code>, <code>%=</code>, <code>&amp;=</code>, <code>|=</code>, <code>^=</code>, <code>~=</code>, <code>&lt;&lt;=</code>, <code>&gt;&gt;=</code></td>
			<td>Assignment with operation</td>
		</tr>
		<tr>
			<td>5</td>
			<td> </td>
			<td><code>yield from</code></td>
			<td>Yield from</td>
		</tr>
		<tr>
			<td>4</td>
			<td> </td>
			<td><code>yield</code></td>
			<td>Yield</td>
		</tr>
		<tr>
			<td>3</td>
			<td>L</td>
			<td><code>and</code></td>
			<td>Logical AND</td>
		</tr>
		<tr>
			<td>2</td>
			<td>L</td>
			<td><code>xor</code></td>
			<td>Logical XOR</td>
		</tr>
		<tr>
			<td>1</td>
			<td>L</td>
			<td><code>or</code></td>
			<td>Logical OR</td>
		</tr>
	</tbody>
</table>

<section data-type="sect2" data-pdf-bookmark="Number of Operands"><div class="sect2" id="number_of_operands">
<h2>Number of Operands</h2>

<p><a contenteditable="false" data-primary="operators" data-secondary="number of operands used by" data-type="indexterm" id="idm45922814702424"/><a contenteditable="false" data-primary="expressions" data-secondary="number of operands in" data-type="indexterm" id="idm45922814700984"/>Most operators in PHP are binary operators; they combine two operands (or expressions) into a single, more complex expression. PHP also supports a number of unary operators, which convert a single expression into a more complex expression. Finally, PHP supports a few ternary operators that combine numerous expressions into a single expression.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Operator Precedence"><div class="sect2" id="operator_precedence">
<h2>Operator Precedence</h2>

<p><a contenteditable="false" data-primary="precedence of operators" data-type="indexterm" id="idm45922814697096"/><a contenteditable="false" data-primary="operators" data-secondary="precedence of" data-type="indexterm" id="idm45922814695992"/><a contenteditable="false" data-primary="expressions" data-secondary="operator precedence in" data-type="indexterm" id="idm45922814694616"/>The order in which operators in an expression are evaluated depends on their relative precedence. For example, you might write:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">2</code> <code class="o">+</code> <code class="mi">4</code> <code class="o">*</code> <code class="mi">3</code></pre>

<p>As you can see in <a data-type="xref" href="#php_operators">Table 2-3</a>, the addition and multiplication operators have different precedence, with multiplication higher than addition. So the multiplication happens before the addition, giving <code>2 + 12</code>, or <code>14</code>, as the answer. If the precedence of addition and multiplication were reversed, <code>6 * 3</code>, or <code>18</code>, would be the answer.</p>

<p><a contenteditable="false" data-primary="(…) (parentheses)" data-secondary="forcing operator precedence" data-type="indexterm" id="idm45922814683800"/><a contenteditable="false" data-primary="parentheses (…)" data-secondary="forcing operator precedence" data-type="indexterm" id="idm45922814682456"/>To force a particular order, you can group operands with the appropriate operator in parentheses. In our previous example, to get the value <code>18</code>, you can use this expression:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="p">(</code><code class="mi">2</code> <code class="o">+</code> <code class="mi">4</code><code class="p">)</code> <code class="o">*</code> <code class="mi">3</code></pre>

<p>It is possible to write all complex expressions (expressions containing more than a single operator) simply by putting the operands and operators in the appropriate order so that their relative precedence yields the answer you want. Most programmers, however, write the operators in the order that they feel makes the most sense to them, and add parentheses to ensure it makes sense to PHP as well. Getting precedence wrong leads to code like:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$x</code> <code class="o">+</code> <code class="mi">2</code> <code class="o">/</code> <code class="nv">$y</code> <code class="o">&gt;=</code> <code class="mi">4</code> <code class="o">?</code> <code class="nv">$z</code> <code class="o">:</code> <code class="nv">$x</code> <code class="o">&lt;&lt;</code> <code class="nv">$z</code></pre>

<p>This code is hard to read and is almost definitely not doing what the programmer expected it to do.</p>

<p>One way many programmers deal with the complex precedence rules in programming languages is to reduce precedence down to two rules:</p>

<ul>
	<li>
	<p>Multiplication and division have higher precedence than addition and <span class="keep-together">subtraction.</span></p>
	</li>
	<li>
	<p>Use parentheses for anything else.</p>
	</li>
</ul>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Operator Associativity"><div class="sect2" id="operator_associativity">
<h2>Operator Associativity</h2>

<p><a contenteditable="false" data-primary="associativity of operators" data-type="indexterm" id="idm45922814595544"/><a contenteditable="false" data-primary="operators" data-secondary="associativity of" data-type="indexterm" id="idm45922814594472"/>Associativity defines the order in which operators with the same order of precedence are evaluated. For example, look at:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">2</code> <code class="o">/</code> <code class="mi">2</code> <code class="o">*</code> <code class="mi">2</code></pre>

<p>The division and multiplication operators have the same precedence, but the result of the expression depends on which operation we do first:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">2</code> <code class="o">/</code> <code class="p">(</code><code class="mi">2</code> <code class="o">*</code> <code class="mi">2</code><code class="p">)</code> <code class="c1">// 0.5</code>
<code class="p">(</code><code class="mi">2</code> <code class="o">/</code> <code class="mi">2</code><code class="p">)</code> <code class="o">*</code> <code class="mi">2</code> <code class="c1">// 2</code></pre>

<p>The division and multiplication operators are <em>left-associative</em>; this means that in cases of ambiguity, the operators are evaluated from left to right. In this example, the correct result is 2.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Implicit Casting"><div class="sect2" id="implicit_casting">
<h2>Implicit Casting</h2>

<p><a contenteditable="false" data-primary="data types" data-type="indexterm" id="idm45922814537624"/><a contenteditable="false" data-primary="casting, implicit" data-type="indexterm" id="idm45922814536520"/><a contenteditable="false" data-primary="implicit casting" data-type="indexterm" id="idm45922814535416"/>Many operators have expectations of their operands—for instance, binary math operators typically require both operands to be of the same type. PHP’s variables can store integers, floating-point numbers, strings, and more, and to keep as much of the type details away from the programmer as possible, PHP converts values from one type to another as necessary.</p>

<p>The conversion of a value from one type to another is called <em>casting</em>. This kind of implicit casting is called <em>type juggling</em> in PHP. The rules for the type juggling done by arithmetic operators are shown in <a data-type="xref" href="#implicit_casting_rules_for_binary_arith">Table 2-4</a>.</p>

<table class="border" id="implicit_casting_rules_for_binary_arith">
	<caption><span class="label">Table 2-4. </span>Implicit casting rules for binary arithmetic operations</caption>
	<thead>
		<tr>
			<th>Type of first operand</th>
			<th>Type of second operand</th>
			<th>Conversion performed</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Integer</td>
			<td>Floating point</td>
			<td>The integer is converted to a floating-point number.</td>
		</tr>
		<tr>
			<td>Integer</td>
			<td>String</td>
			<td>The string is converted to a number; if the value after conversion is a floating-point number, the integer is converted to a floating-point number.</td>
		</tr>
		<tr>
			<td>Floating point</td>
			<td>String</td>
			<td>The string is converted to a floating-point number.</td>
		</tr>
	</tbody>
</table>

<p><a contenteditable="false" data-primary="numbers" data-secondary="strings used as" data-type="indexterm" id="idm45922814501560"/><a contenteditable="false" data-primary="strings" data-secondary="used as numbers" data-type="indexterm" id="idm45922814500184"/><a contenteditable="false" data-primary="operators" data-secondary="implicit casting used with" data-type="indexterm" id="idm45922814498808"/>Some other operators have different expectations of their operands, and thus have different rules. For example, the string concatenation operator converts both operands to strings before concatenating them:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="mi">3</code> <code class="o">.</code> <code class="mf">2.74</code> <code class="c1">// gives the string 32.74</code></pre>

<p>You can use a string anywhere PHP expects a number. The string is presumed to start with an integer or floating-point number. If no number is found at the start of the string, the numeric value of that string is 0. If the string contains a period (<code>.</code>) or upper- or lowercase <code>e</code>, evaluating it numerically produces a floating-point number. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="s2">"9 Lives"</code> <code class="o">-</code> <code class="mi">1</code><code class="p">;</code> <code class="c1">// 8 (int)</code>
<code class="s2">"3.14 Pies"</code> <code class="o">*</code> <code class="mi">2</code><code class="p">;</code> <code class="c1">// 6.28 (float)</code>
<code class="s2">"9. Lives"</code> <code class="o">-</code> <code class="mi">1</code><code class="p">;</code> <code class="c1">// 8 (float / double)</code>
<code class="s2">"1E3 Points of Light"</code> <code class="o">+</code> <code class="mi">1</code><code class="p">;</code> <code class="c1">// 1001 (float)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Arithmetic Operators"><div class="sect2" id="arithmetic_operators">
<h2>Arithmetic Operators</h2>

<p>The arithmetic operators are operators you’ll recognize from everyday use. Most of the arithmetic operators are binary; however, the arithmetic negation and arithmetic assertion operators are unary. These operators require numeric values, and nonnumeric values are converted into numeric values by the rules described in the section “Casting Operators”. <a contenteditable="false" data-primary="arithmetic operators" data-type="indexterm" id="idm45922814422856"/><a contenteditable="false" data-primary="math" data-secondary="arithmetic operators" data-type="indexterm" id="idm45922814421752"/><a contenteditable="false" data-primary="operators" data-secondary="arithmetic operators" data-type="indexterm" id="idm45922814420376"/>The arithmetic operators are:</p>

<dl>
	<dt>Addition (<code>+</code>)</dt>
	<dd><a contenteditable="false" data-primary="addition operator (+)" data-type="indexterm" id="idm45922814450328"/><a contenteditable="false" data-primary="plus sign (+)" data-secondary="addition operator" data-type="indexterm" id="idm45922814449224"/><a contenteditable="false" data-primary="+ (plus sign)" data-secondary="addition operator" data-type="indexterm" id="idm45922814447848"/>The result of the addition operator is the sum of the two operands.</dd>
	<dt>Subtraction (<code>−</code>)</dt>
	<dd><a contenteditable="false" data-primary="– (minus sign)" data-secondary="subtraction operator" data-type="indexterm" id="idm45922814445160"/><a contenteditable="false" data-primary="minus sign (–)" data-secondary="subtraction operator" data-type="indexterm" id="idm45922814443784"/><a contenteditable="false" data-primary="subtraction operator (–)" data-type="indexterm" id="idm45922814442408"/>The result of the subtraction operator is the difference between the two operands—that is, the value of the second operand subtracted from the first.</dd>
	<dt>Multiplication (<code>*</code>)</dt>
	<dd><a contenteditable="false" data-primary="* (asterisk), multiplication operator" data-type="indexterm" id="idm45922812003272"/><a contenteditable="false" data-primary="asterisk (*), multiplication operator" data-type="indexterm" id="idm45922812002200"/><a contenteditable="false" data-primary="multiplication operator (*)" data-type="indexterm" id="idm45922812001128"/>The result of the multiplication operator is the product of the two operands. For example, <code>3 * 4</code> is <code>12</code>.</dd>
	<dt>Division (<code>/</code>)</dt>
	<dd><a contenteditable="false" data-primary="division operator (/)" data-type="indexterm" id="idm45922811997736"/><a contenteditable="false" data-primary="/ (slash)" data-secondary="division operator" data-type="indexterm" id="idm45922811996632"/><a contenteditable="false" data-primary="slash (/)" data-secondary="division operator" data-type="indexterm" id="idm45922811995256"/>The result of the division operator is the quotient of the two operands. Dividing two integers can give an integer (e.g., <code>4 / 2</code>) or a floating-point result (e.g., <span class="keep-together"><code>1 / 2</code></span>).</dd>
	<dt>Modulus (<code>%</code>)</dt>
	<dd><a contenteditable="false" data-primary="modulus operator (%)" data-type="indexterm" id="idm45922811991160"/><a contenteditable="false" data-primary="% (percent sign)" data-secondary="modulus operator" data-type="indexterm" id="idm45922811990056"/><a contenteditable="false" data-primary="percent sign (%)" data-secondary="modulus operator" data-type="indexterm" id="idm45922811988680"/>The modulus operator converts both operands to integers and returns the remainder of the division of the first operand by the second operand. For example, <code>10 % 6</code> gives a remainder of <code>4</code>.</dd>
	<dt>Arithmetic negation (<code>−</code>)</dt>
	<dd><a contenteditable="false" data-primary="minus sign (–)" data-secondary="negation operator" data-type="indexterm" id="idm45922811977672"/><a contenteditable="false" data-primary="– (minus sign)" data-secondary="negation operator" data-type="indexterm" id="idm45922811976264"/><a contenteditable="false" data-primary="negation operator (–)" data-type="indexterm" id="idm45922811974888"/>The arithmetic negation operator returns the operand multiplied by −1, effectively changing its sign. For example, <code>−(3 − 4)</code> evaluates to <code>1</code>. Arithmetic negation is different from the subtraction operator, even though they both are written as a minus sign. Arithmetic negation is always unary and before the operand. Subtraction is binary and between its operands.</dd>
	<dt>Arithmetic assertion (<code>+</code>)</dt>
	<dd><a contenteditable="false" data-primary="assertion operator (+)" data-type="indexterm" id="idm45922811971240"/><a contenteditable="false" data-primary="+ (plus sign)" data-secondary="assertion operator" data-type="indexterm" id="idm45922811970136"/><a contenteditable="false" data-primary="plus sign (+)" data-secondary="assertion operator" data-type="indexterm" id="idm45922811968760"/>The arithmetic assertion operator returns the operand multiplied by +1, which has no effect. It is used only as a visual cue to indicate the sign of a value. For example, <code>+(3 − 4)</code> evaluates to <code>−1</code>, just as <code>(3 − 4)</code> does.</dd>
	<dt>Exponentiation (<code>**</code>)</dt>
	<dd><a contenteditable="false" data-primary="** (exponentiation)" data-type="indexterm" id="idm45922811964536"/><a contenteditable="false" data-primary="exponentiation (**)" data-type="indexterm" id="idm45922811963432"/>The exponentiation operator returns the result of raising <code>$var1</code> to the power of <code>$var2</code>.</dd>
</dl>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$var1</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code>
<code class="nv">$var2</code> <code class="o">=</code> <code class="mi">3</code><code class="p">;</code>
<code class="k">echo</code> <code class="nv">$var1</code> <code class="o">**</code> <code class="nv">$var2</code><code class="p">;</code> <code class="c1">// outputs 125</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="String Concatenation Operator"><div class="sect2" id="string_concatenation_operator">
<h2>String Concatenation Operator</h2>

<p><a contenteditable="false" data-primary="strings" data-secondary="concatenating" data-type="indexterm" id="idm45922811951944"/>Manipulating strings is such a core part of PHP applications that PHP has a separate <a contenteditable="false" data-primary=". (period)" data-secondary="string concatenation operator" data-type="indexterm" id="idm45922811950504"/><a contenteditable="false" data-primary="period (.)" data-secondary="string concatenation operator" data-type="indexterm" id="idm45922811937976"/><a contenteditable="false" data-primary="string concatenation operator (.)" data-type="indexterm" id="idm45922811936632"/>string concatenation operator (<code>.</code>). The concatenation operator appends the righthand operand to the lefthand operand and returns the resulting string. Operands are first converted to strings, if necessary. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$n</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code>
<code class="nv">$s</code> <code class="o">=</code> <code class="s1">'There were '</code> <code class="o">.</code> <code class="nv">$n</code> <code class="o">.</code> <code class="s1">' ducks.'</code><code class="p">;</code>
<code class="c1">// $s is 'There were 5 ducks'</code></pre>

<p>The concatenation operator is highly efficient because so much of PHP boils down to string concatenation.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Auto-Increment and Auto-Decrement Operators"><div class="sect2" id="auto_increment_and_auto_decrement_opera">
<h2>Auto-Increment and Auto-Decrement Operators</h2>

<p>In programming, one of the most common operations is to increase or decrease the value of a variable by one. <a contenteditable="false" data-primary="– – (minus signs, double), auto-decrement operator" data-type="indexterm" id="idm45922811904616"/><a contenteditable="false" data-primary="++ (plus signs, double), auto-increment operator" data-type="indexterm" id="idm45922811903416"/><a contenteditable="false" data-primary="auto-decrement operator (– –)" data-type="indexterm" id="idm45922811902280"/><a contenteditable="false" data-primary="auto-increment operator (++)" data-type="indexterm" id="idm45922811901208"/><a contenteditable="false" data-primary="minus signs, double (– –), auto-decrement operator" data-type="indexterm" id="idm45922811900136"/><a contenteditable="false" data-primary="plus signs, double (++), auto-increment operator" data-type="indexterm" id="idm45922811899000"/>The unary auto-increment (<code>++</code>) and auto-decrement (<code>−−</code>) operators provide shortcuts for these common operations. These operators are unique in that they work only on variables; the operators change their operands’ values and return a value.</p>

<p>There are two ways to use auto-increment or auto-decrement in expressions. If you put the operator in front of the operand, it returns the new value of the operand (incremented or decremented). If you put the operator after the operand, it returns the original value of the operand (before the increment or decrement). <a data-type="xref" href="#auto_increment_and_auto_decrement_oper">Table 2-5</a> lists the different operations.</p>

<table class="border" id="auto_increment_and_auto_decrement_oper">
	<caption><span class="label">Table 2-5. </span>Auto-increment and auto-decrement operations</caption>
	<thead>
		<tr>
			<th>Operator</th>
			<th>Name</th>
			<th>Value returned</th>
			<th>Effect on <code>$var</code></th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>$var++</code></td>
			<td>Post-increment</td>
			<td><code>$var</code></td>
			<td>Incremented</td>
		</tr>
		<tr>
			<td><code>++$var</code></td>
			<td>Pre-increment</td>
			<td><code>$var + 1</code></td>
			<td>Incremented</td>
		</tr>
		<tr>
			<td><code>$var−−</code></td>
			<td>Post-decrement</td>
			<td><code>$var</code></td>
			<td>Decremented</td>
		</tr>
		<tr>
			<td><code>−−$var</code></td>
			<td>Pre-decrement</td>
			<td><code>$var − 1</code></td>
			<td>Decremented</td>
		</tr>
	</tbody>
</table>

<p>These operators can be applied to strings as well as numbers. Incrementing an alphabetic character turns it into the next letter in the alphabet. As illustrated in <a data-type="xref" href="#auto_increment_with_letters">Table 2-6</a>, incrementing <code>"z"</code> or <code>"Z"</code> wraps it back to <code>"a"</code> or <code>"A"</code> and increments the previous character by one (or inserts a new <code>"a"</code> or <code>"A"</code> if at the first character of the string), as though the characters were in a base-26 number system.</p>

<table class="border" id="auto_increment_with_letters">
	<caption><span class="label">Table 2-6. </span>Auto-increment with letters</caption>
	<thead>
		<tr>
			<th>Incrementing this</th>
			<th>Gives this</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>"a"</code></td>
			<td><code>"b"</code></td>
		</tr>
		<tr>
			<td><code>"z"</code></td>
			<td><code>"aa"</code></td>
		</tr>
		<tr>
			<td><code>"spaz"</code></td>
			<td><code>"spba"</code></td>
		</tr>
		<tr>
			<td><code>"K9"</code></td>
			<td><code>"L0"</code></td>
		</tr>
		<tr>
			<td><code>"42"</code></td>
			<td><code>"43"</code></td>
		</tr>
	</tbody>
</table>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Comparison Operators"><div class="sect2" id="comparison_operators">
<h2>Comparison Operators</h2>

<p><a contenteditable="false" data-primary="comparison operators" data-type="indexterm" id="ix_comp_operators"/><a contenteditable="false" data-primary="operators" data-secondary="comparison operators" data-type="indexterm" id="ix_operators_comp"/>As their name suggests, comparison operators compare operands. The result is always either <code>true</code>, if the comparison is truthful, and <code>false</code> otherwise.</p>

<p>Operands to the comparison operators can be both numeric, both string, or one numeric and one string. The operators check for truthfulness in slightly different ways based on the types and values of the operands, either using strictly numeric comparisons or using lexicographic (textual) comparisons. <a data-type="xref" href="#type_of_comparison_performed_by_the_com">Table 2-7</a> outlines when each type of check is used.</p>

<table class="border" id="type_of_comparison_performed_by_the_com">
	<caption><span class="label">Table 2-7. </span>Type of comparison performed by the comparison operators</caption>
	<thead>
		<tr>
			<th>First operand</th>
			<th>Second operand</th>
			<th>Comparison</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Number</td>
			<td>Number</td>
			<td>Numeric</td>
		</tr>
		<tr>
			<td>String that is entirely numeric</td>
			<td>String that is entirely numeric</td>
			<td>Numeric</td>
		</tr>
		<tr>
			<td>String that is entirely numeric</td>
			<td>Number</td>
			<td>Numeric</td>
		</tr>
		<tr>
			<td>String that is entirely numeric</td>
			<td>String that is not entirely numeric</td>
			<td>Lexicographic</td>
		</tr>
		<tr>
			<td>String that is not entirely numeric</td>
			<td>Number</td>
			<td>Numeric</td>
		</tr>
		<tr>
			<td>String that is not entirely numeric</td>
			<td>String that is not entirely numeric</td>
			<td>Lexicographic</td>
		</tr>
	</tbody>
</table>

<p>One important thing to note is that two numeric strings are compared as if they were numbers. If you have two strings that consist entirely of numeric characters and you need to compare them lexicographically, use the <a contenteditable="false" data-primary="strcmp function" data-type="indexterm" id="idm45922811824856"/><code>strcmp()</code> function.</p>

<p>The comparison operators are:</p>

<dl>
	<dt>Equality (<code>==</code>)</dt>
	<dd><a contenteditable="false" data-primary="equal to operator (==)" data-type="indexterm" id="idm45922811820680"/><a contenteditable="false" data-primary="== (equals signs, double), equal to operator" data-type="indexterm" id="idm45922811819576"/><a contenteditable="false" data-primary="equals signs, double (==), equal to operator" data-type="indexterm" id="idm45922811818376"/>If both operands are equal, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Identity (<code>===</code>)</dt>
	<dd><a contenteditable="false" data-primary="identity operator (===)" data-type="indexterm" id="idm45922811815064"/><a contenteditable="false" data-primary="=== (equals signs, triple), identity operator" data-type="indexterm" id="idm45922811813768"/><a contenteditable="false" data-primary="equals signs, triple (===), identity operator" data-type="indexterm" id="idm45922811812632"/>If both operands are equal and are of the same type, this operator returns <code>true</code>; otherwise, it returns <code>false</code>. Note that this operator does <em>not</em> do implicit type casting. This operator is useful when you don’t know if the values you’re comparing are of the same type. Simple comparison may involve value conversion. For instance, the strings <code>"0.0"</code> and <code>"0"</code> are not equal. The <code>==</code> operator says they are, but <code>===</code> says they are not.</dd>
	<dt>Inequality (<code>!=</code> or <code>&lt;&gt;</code>)</dt>
	<dd><a contenteditable="false" data-primary="!= (exclamation point, equals sign), inequality operator" data-type="indexterm" id="idm45922811806536"/><a contenteditable="false" data-primary="&lt;&gt; (angle brackets), inequality operator" data-type="indexterm" id="idm45922811805464"/><a contenteditable="false" data-primary="angle brackets (&lt;&gt;), inequality operator" data-type="indexterm" id="idm45922811804328"/><a contenteditable="false" data-primary="exclamation point, equals sign (!=), inequality operator" data-type="indexterm" id="idm45922811803192"/><a contenteditable="false" data-primary="inequality operator (!= or &lt;&gt; )" data-type="indexterm" id="idm45922811802120"/>If the operands are not equal, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Not identical (<code>!==</code>)</dt>
	<dd><a contenteditable="false" data-primary="!== (exclamation point, double equals signs), not identical operator" data-type="indexterm" id="idm45922811798824"/><a contenteditable="false" data-primary="exclamation point, double equals signs (!==), not identical operator" data-type="indexterm" id="idm45922811797752"/><a contenteditable="false" data-primary="not identical operator (!==)" data-type="indexterm" id="idm45922811796600"/>If the operands are not equal, or they are not of the same type, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Greater than (<code>&gt;</code>)</dt>
	<dd><a contenteditable="false" data-primary="greater than operator (&gt;)" data-type="indexterm" id="idm45922811793256"/><a contenteditable="false" data-primary="&gt; (right angle bracket)" data-secondary="greater than operator" data-type="indexterm" id="idm45922811792088"/><a contenteditable="false" data-primary="right angle bracket (&gt;)" data-secondary="greater than operator" data-type="indexterm" id="idm45922811790712"/>If the lefthand operand is greater than the righthand operand, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Greater than or equal to (<code>&gt;=</code>)</dt>
	<dd><a contenteditable="false" data-primary="&gt;= (right angle bracket, equals sign), greater than or equal to operator" data-type="indexterm" id="idm45922811787144"/><a contenteditable="false" data-primary="greater than or equal to operator (&gt;=)" data-type="indexterm" id="idm45922811786072"/><a contenteditable="false" data-primary="right angle bracket, equals sign (&gt;=), greater than or equal to operator" data-type="indexterm" id="idm45922811784904"/>If the lefthand operand is greater than or equal to the righthand operand, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Less than (<code>&lt;</code>)</dt>
	<dd><a contenteditable="false" data-primary="left angle bracket (&lt;)" data-secondary="less than operator" data-type="indexterm" id="idm45922811781544"/><a contenteditable="false" data-primary="&lt; (left angle bracket)" data-secondary="less than operator" data-type="indexterm" id="idm45922811780168"/><a contenteditable="false" data-primary="less than operator (&lt;)" data-type="indexterm" id="idm45922811778792"/>If the lefthand operand is less than the righthand operand, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Less than or equal to (<code>&lt;=</code>)</dt>
	<dd><a contenteditable="false" data-primary="less than or equal to operator (&lt;=)" data-type="indexterm" id="idm45922811775464"/><a contenteditable="false" data-primary="left angle bracket, equals sign (&lt;=), less than or equal to operator" data-type="indexterm" id="idm45922811761976"/><a contenteditable="false" data-primary="&lt;= (left angle bracket, equals sign), less than or equal to operator" data-type="indexterm" id="idm45922811760824"/>If the lefthand operand is less than or equal to the righthand operand, this operator returns <code>true</code>; otherwise, it returns <code>false</code>.</dd>
	<dt>Spaceship (<code>&lt;=&gt;</code>), aka “Darth Vader’s TIE Fighter”</dt>
	<dd>
	<p><a contenteditable="false" data-primary="&lt;=&gt; (spaceship, aka “Darth Vadar’s TIE Fighter”)" data-type="indexterm" id="idm45922811757032"/><a contenteditable="false" data-primary="spaceship (&lt;=&gt;), aka “Darth Vader’s TIE Fighter”" data-type="indexterm" id="idm45922811755832"/><a contenteditable="false" data-primary="left angle bracket, equals, right angle bracket (&lt;=&gt;), spaceship, aka “Darth Vader’s TIE Fighter”" data-type="indexterm" id="idm45922811754696"/>When the lefthand and righthand operands are equal, this operator returns <code>0</code>; when the lefthand operand is less than the righthand, it returns <code>–1</code>; and when the lefthand operand is greater than the righthand, it returns <code>1</code>.</p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$var1</code><code> </code><code class="o">=</code><code> </code><code class="mi">5</code><code class="p">;</code><code>
</code><code class="nv">$var2</code><code> </code><code class="o">=</code><code> </code><code class="mi">65</code><code class="p">;</code><code>

</code><strong><code class="k">echo</code></strong><code> </code><code class="nv">$var1</code><code> </code><code class="o">&lt;=&gt;</code><code> </code><code class="nv">$var2</code><code> </code><code class="p">;</code><code> </code><code class="c1">// outputs -1
</code><strong><code class="k">echo</code></strong><code> </code><code class="nv">$var2</code><code> </code><code class="o">&lt;=&gt;</code><code> </code><code class="nv">$var1</code><code> </code><code class="p">;</code><code> </code><code class="c1">// outputs 1</code></pre>
	</dd>
	<dt>Null coalescing operator (<code>??</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="null coalescing operator (??)" data-type="indexterm" id="idm45922811712824"/><a contenteditable="false" data-primary="?? (null coalescing operator)" data-type="indexterm" id="idm45922811711864"/><a contenteditable="false" data-primary="question mark, double (??) null coalescing operator" data-type="indexterm" id="idm45922811710792"/>This operator evaluates to the righthand operand if the lefthand operand is <code>NULL</code>; otherwise, it evaluates to the lefthand operand.<a contenteditable="false" data-primary="" data-startref="ix_operators_comp" data-type="indexterm" id="idm45922811709176"/><a contenteditable="false" data-primary="" data-startref="ix_comp_operators" data-type="indexterm" id="idm45922811707800"/></p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$var1</code> <code class="o">=</code> <code class="k">null</code><code class="p">;</code>
<code class="nv">$var2</code> <code class="o">=</code> <code class="mi">31</code><code class="p">;</code>

<code class="k">echo</code> <code class="nv">$var1</code> <code class="o">??</code> <code class="nv">$var2</code> <code class="p">;</code> <code class="c1">//outputs 31</code></pre>
	</dd>
</dl>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Bitwise Operators"><div class="sect2" id="bitwise_operators">
<h2>Bitwise Operators</h2>

<p><a contenteditable="false" data-primary="operators" data-secondary="bitwise" data-type="indexterm" id="ix_operators_bitwise"/><a contenteditable="false" data-primary="bitwise operators" data-type="indexterm" id="ix_bitwise_op"/>The bitwise operators act on the binary representation of their operands. Each operand is first turned into a binary representation of the value, as described in the bitwise negation operator entry in the following list. All the bitwise operators work on numbers as well as strings, but they vary in their treatment of string operands of different lengths. The bitwise operators are:</p>

<dl>
	<dt>Bitwise negation (<code>~</code>)</dt>
	<dd><a contenteditable="false" data-primary="negation operator, bitwise (~)" data-type="indexterm" id="idm45922811668040"/><a contenteditable="false" data-primary="~ (tilde), bitwise negation operator" data-type="indexterm" id="idm45922811666968"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise negation (~)" data-type="indexterm" id="idm45922811665896"/><a contenteditable="false" data-primary="tilde (~), bitwise negation operator" data-type="indexterm" id="idm45922811664520"/>The bitwise negation operator changes 1s to 0s and 0s to 1s in the binary representations of the operands. Floating-point values are converted to integers before the operation takes place. If the operand is a string, the resulting value is a string the same length as the original, with each character in the string negated.</dd>
	<dt>Bitwise AND (<code>&amp;</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise AND (&amp;)" data-type="indexterm" id="idm45922811661480"/><a contenteditable="false" data-primary="&amp; (ampersand)" data-secondary="bitwise AND operator" data-type="indexterm" id="idm45922811660104"/><a contenteditable="false" data-primary="ampersand (&amp;)" data-secondary="bitwise AND operator" data-type="indexterm" id="idm45922811658728"/><a contenteditable="false" data-primary="AND operator" data-secondary="bitwise (&amp;)" data-type="indexterm" id="idm45922811657352"/>The bitwise AND operator compares each corresponding bit in the binary representations of the operands. If both bits are 1, the corresponding bit in the result is 1; otherwise, the corresponding bit is 0. For example, <code>0755 &amp; 0671</code> is <code>0651</code>. This is a little easier to understand if we look at the binary representation. Octal 0755 is binary 111101101, and octal 0671 is binary 110111001. We can then easily see which bits are in both numbers and visually come up with the answer:</p>

	<pre data-code-language="php" data-type="programlisting">
 <code class="mi">111101101</code>
<code class="o">&amp;</code> <code class="mi">110111001</code>
 <code class="o">---------</code>
 <code class="mi">110101001</code></pre>
	
	<p>The binary number 110101001 is octal 0651.<sup><a data-type="noteref" id="ch02fn2-marker" href="ch02.xhtml#ch02fn2">2</a></sup> You can use the PHP functions <a contenteditable="false" data-primary="bindec function" data-type="indexterm" id="idm45922811611144"/><code>bindec()</code>, <a contenteditable="false" data-primary="decbin function" data-type="indexterm" id="idm45922811636712"/><code>decbin()</code>, <a contenteditable="false" data-primary="octdec function" data-type="indexterm" id="idm45922811635160"/><code>octdec()</code>, and <a contenteditable="false" data-primary="decoct function" data-type="indexterm" id="idm45922811633608"/><code>decoct()</code> to convert numbers back and forth when you are trying to understand binary arithmetic.</p>
	<p>If both operands are strings, the operator returns a string in which each character is the result of a bitwise AND operation between the two corresponding characters in the operands. The resulting string is the length of the shorter of the two operands; trailing extra characters in the longer string are ignored. For example, <code>"wolf" &amp; "cat"</code> is <code>"cad"</code>.</p></dd>
	<dt>Bitwise OR (<code>|</code>)</dt>
	<dd><p><a contenteditable="false" data-primary="| (vertical bar)" data-secondary="bitwise OR operator" data-type="indexterm" id="idm45922811629224"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise OR (|)" data-type="indexterm" id="idm45922811624024"/><a contenteditable="false" data-primary="OR operator, bitwise (|)" data-type="indexterm" id="idm45922811622648"/><a contenteditable="false" data-primary="vertical bar (|)" data-secondary="bitwise OR operator" data-type="indexterm" id="idm45922811621576"/>The bitwise OR operator compares each corresponding bit in the binary representations of the operands. If both bits are 0, the resulting bit is 0; otherwise, the resulting bit is 1. For example, <code>0755 | 020</code> is <code>0775</code>.</p>
	<p>If both operands are strings, the operator returns a string in which each character is the result of a bitwise OR operation between the two corresponding characters in the operands. The resulting string is the length of the longer of the two operands, and the shorter string is padded at the end with binary 0s. For example, <code>"pussy" | "cat"</code> is <code>"suwsy"</code>.</p></dd>
	<dt>Bitwise XOR (<code>^</code>)</dt>
	<dd><a contenteditable="false" data-primary="^ (caret)" data-secondary="bitwise XOR operator" data-type="indexterm" id="idm45922811616168"/><a contenteditable="false" data-primary="caret (^)" data-secondary="bitwise XOR operator" data-type="indexterm" id="idm45922811594168"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise XOR (^)" data-type="indexterm" id="idm45922811592792"/><a contenteditable="false" data-primary="XOR operator, bitwise (^)" data-type="indexterm" id="idm45922811591416"/>The bitwise XOR operator compares each corresponding bit in the binary representation of the operands. If either of the bits in the pair, but not both, is 1, the resulting bit is 1; otherwise, the resulting bit is 0. For example, <code>0755 ^ 023</code> is <code>776</code>.</dd>
	<dd>If both operands are strings, this operator returns a string in which each character is the result of a bitwise XOR operation between the two corresponding characters in the operands. If the two strings are different lengths, the resulting string is the length of the shorter operand, and extra trailing characters in the longer string are ignored. For example, <code>"big drink" ^ "AA"</code> is <code>"#("</code>.</dd>
	<dt>Left shift (<code>&lt;&lt;</code>)</dt>
	<dd><p><a contenteditable="false" data-primary="&lt;&lt; (left angle brackets, double), left shift operator" data-type="indexterm" id="idm45922811586040"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="left shift (&lt;&lt;)" data-type="indexterm" id="idm45922811584840"/><a contenteditable="false" data-primary="left shift operator (&lt;&lt;)" data-type="indexterm" id="idm45922811583464"/>The left-shift operator shifts the bits in the binary representation of the lefthand operand left by the number of places given in the righthand operand. Both operands will be converted to integers if they aren’t already. Shifting a binary number to the left inserts a 0 as the rightmost bit of the number and moves all other bits to the left one place. For example, <code>3 &lt;&lt; 1</code> (or binary 11 shifted one place left) results in <code>6</code> (binary 110).</p>
	<p>Note that each place to the left that a number is shifted results in a doubling of the number. The result of left shifting is multiplying the lefthand operand by 2 to the power of the righthand operand.</p></dd>
	<dt>Right shift (<code>&gt;&gt;</code>)</dt>
	<dd><a contenteditable="false" data-primary="&gt;&gt; (right angle brackets, double), right shift operator" data-type="indexterm" id="idm45922811579224"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="right shift (&gt;&gt;)" data-type="indexterm" id="idm45922811578024"/><a contenteditable="false" data-primary="right shift operator (&gt;&gt;)" data-type="indexterm" id="idm45922811576648"/>The right-shift operator shifts the bits in the binary representation of the lefthand operand right by the number of places given in the righthand operand. Both operands will be converted to integers if they aren’t already. Shifting a positive binary number to the right inserts a 0 as the leftmost bit of the number and moves all other bits to the right one place. Shifting a negative binary number to the right inserts a 1 as the leftmost bit of the number and moves all other bits to the right one place. The rightmost bit is discarded. For example, <code>13 &gt;&gt; 1</code> (or binary 1101) shifted one bit to the right results in <code>6</code> (binary 110).<a contenteditable="false" data-primary="" data-startref="ix_bitwise_op" data-type="indexterm" id="idm45922811574040"/><a contenteditable="false" data-primary="" data-startref="ix_operators_bitwise" data-type="indexterm" id="idm45922811572632"/></dd>
</dl>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Logical Operators"><div class="sect2" id="logical_operators">
<h2>Logical Operators</h2>

<p><a contenteditable="false" data-primary="logical operators" data-type="indexterm" id="idm45922811569656"/><a contenteditable="false" data-primary="operators" data-secondary="logical operators" data-type="indexterm" id="idm45922811568552"/>Logical operators provide ways for you to build complex logical expressions. Logical operators treat their operands as Boolean values and return a Boolean value. There are both punctuation and English versions of the operators (<code>||</code> and <code>or</code> are the same operator). The logical operators are:</p>

<dl>
	<dt>Logical AND (<code>&amp;&amp;</code>, <code>and</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="&amp;&amp; (ampersands, double), logical AND operator" data-type="indexterm" id="idm45922811563288"/><a contenteditable="false" data-primary="ampersands, double (&amp;&amp;), logical AND operator" data-type="indexterm" id="idm45922811561864"/><a contenteditable="false" data-primary="AND operator" data-secondary="logical (&amp;&amp;, and)" data-type="indexterm" id="idm45922811560728"/><a contenteditable="false" data-primary="logical operators" data-secondary="logical AND (&amp;&amp;, and)" data-type="indexterm" id="idm45922811559352"/>The result of the logical AND operation is <code>true</code> if and only if both operands are <code>true</code>; otherwise, it is <code>false</code>. If the value of the first operand is <code>false</code>, the logical AND operator knows that the resulting value must also be <code>false</code>, so the righthand operand is never evaluated. This process is called <em>short-circuiting</em>, and a common PHP idiom uses it to ensure that a piece of code is evaluated only if something is true. For example, you might connect to a database only if some flag is not <code>false</code>:</p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$result</code> <code class="o">=</code> <code class="nv">$flag</code> <code class="k">and</code> <code class="nb">mysql_connect</code><code class="p">();</code></pre>
	</dd>
	<dd>The <code>&amp;&amp;</code> and <code>and</code> operators differ only in their precedence: <code>&amp;&amp;</code> comes before <code>and</code>.</dd>
	<dt>Logical OR (<code>||</code>, <code>or</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="vertical bars, double (||), logical OR operator" data-type="indexterm" id="idm45922811544568"/><a contenteditable="false" data-primary="|| (vertical bars, double), logical OR operator" data-type="indexterm" id="idm45922811543144"/><a contenteditable="false" data-primary="logical operators" data-secondary="logical OR (||, or)" data-type="indexterm" id="idm45922811476536"/><a contenteditable="false" data-primary="OR operator, logical (||, or)" data-type="indexterm" id="idm45922811475160"/>The result of the logical OR operation is <code>true</code> if either operand is <code>true</code>; otherwise, the result is <code>false</code>. Like the logical AND operator, the logical OR operator is short-circuited. If the lefthand operator is <code>true</code>, the result of the operator must be <code>true</code>, so the righthand operator is never evaluated. A common PHP idiom uses this to trigger an error condition if something goes wrong. For example:</p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$result</code> <code class="o">=</code> <code class="nb">fopen</code><code class="p">(</code><code class="nv">$filename</code><code class="p">)</code> <code class="k">or</code> <code class="k">exit</code><code class="p">();</code></pre>
	</dd>
	<dd>The <code>||</code> and <code>or</code> operators differ only in their precedence.</dd>
	<dt>Logical XOR (<code>xor</code>)</dt>
	<dd><a contenteditable="false" data-primary="logical operators" data-secondary="logical XOR (xor)" data-type="indexterm" id="idm45922811491544"/><a contenteditable="false" data-primary="XOR operator, logical (xor)" data-type="indexterm" id="idm45922811490168"/>The result of the logical XOR operation is <code>true</code> if either operand, but not both, is <code>true</code>; otherwise, it is <code>false</code>.</dd>
	<dt>Logical negation (<code>!</code>)</dt>
	<dd><a contenteditable="false" data-primary="! (exclamation point), logical negation operator" data-type="indexterm" id="idm45922811529304"/><a contenteditable="false" data-primary="exclamation point (!), logical negation operator" data-type="indexterm" id="idm45922811527880"/><a contenteditable="false" data-primary="logical operators" data-secondary="logical negation (!)" data-type="indexterm" id="idm45922811526744"/><a contenteditable="false" data-primary="negation operator, logical (!)" data-type="indexterm" id="idm45922811525368"/>The logical negation operator returns the Boolean value <code>true</code> if the operand evaluates to <code>false</code>, and <code>false</code> if the operand evaluates to <code>true</code>.</dd>
</dl>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Casting Operators"><div class="sect2" id="casting_operators">
<h2>Casting Operators</h2>

<p><a contenteditable="false" data-primary="operators" data-secondary="casting operators" data-type="indexterm" id="ix_operators_casting"/><a contenteditable="false" data-primary="casting operators" data-type="indexterm" id="ix_casting_op"/>Although PHP is a weakly typed language, there are occasions when it’s useful to consider a value as a specific type. The casting operators, <a contenteditable="false" data-primary="(int) operator" data-primary-sortas="int operator" data-type="indexterm" id="idm45922811516856"/><a contenteditable="false" data-primary="(integer) operator" data-primary-sortas="integer operator" data-type="indexterm" id="idm45922811515480"/><code>(int)</code>, <a contenteditable="false" data-primary="(double) operator" data-primary-sortas="double operator" data-type="indexterm" id="idm45922811513688"/><a contenteditable="false" data-primary="(float) operator" data-primary-sortas="float operator" data-type="indexterm" id="idm45922811455224"/><code><a contenteditable="false" data-primary="(real) operator" data-primary-sortas="real operator" data-type="indexterm" id="idm45922811453688"/>(float)</code>, <a contenteditable="false" data-primary="(string) operator" data-primary-sortas="string operator" data-type="indexterm" id="idm45922811452056"/><code>(string)</code>, <a contenteditable="false" data-primary="(bool) operator" data-primary-sortas="bool operator" data-type="indexterm" id="idm45922811450232"/><a contenteditable="false" data-primary="(boolean) operator" data-primary-sortas="boolean operator" data-type="indexterm" id="idm45922811448824"/><code>(bool)</code>, <a contenteditable="false" data-primary="(array) operator" data-primary-sortas="array operator" data-type="indexterm" id="idm45922811447032"/><code>(array)</code>, <a contenteditable="false" data-primary="(object) operator" data-primary-sortas="object operator" data-type="indexterm" id="idm45922811445208"/><code>(object)</code>, and <a contenteditable="false" data-primary="(unset) operator" data-primary-sortas="unset operator" data-type="indexterm" id="idm45922811443384"/> <code>(unset)</code>, allow you to force a value into a particular type. To use a casting operator, put the operator to the left of the operand. <a data-type="xref" href="#php_casting_operators">Table 2-8</a> lists the casting operators, synonymous operators, and the type to which the operator changes the value.</p>

<table class="border" id="php_casting_operators">
	<caption><span class="label">Table 2-8. </span>PHP casting operators</caption>
	<thead>
		<tr>
			<th>Operator</th>
			<th>Synonymous operators</th>
			<th>Changes type to</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td><code>(int)</code></td>
			<td><code>(integer)</code></td>
			<td>Integer</td>
		</tr>
		<tr>
			<td><code>(bool)</code></td>
			<td><code>(boolean)</code></td>
			<td>Boolean</td>
		</tr>
		<tr>
			<td><code>(float)</code></td>
			<td><code>(double)</code>, <code>(real)</code></td>
			<td>Floating point</td>
		</tr>
		<tr>
			<td><code>(string)</code></td>
			<td> </td>
			<td>String</td>
		</tr>
		<tr>
			<td><code>(array)</code></td>
			<td> </td>
			<td>Array</td>
		</tr>
		<tr>
			<td><code>(object)</code></td>
			<td> </td>
			<td>Object</td>
		</tr>
		<tr>
			<td><code>(unset)</code></td>
			<td> </td>
			<td>NULL</td>
		</tr>
	</tbody>
</table>

<p>Casting affects the way other operators interpret a value rather than changing the value in a variable. For example, the code:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$a</code> <code class="o">=</code> <code class="s2">"5"</code><code class="p">;</code>
<code class="nv">$b</code> <code class="o">=</code> <code class="p">(</code><code class="nx">int</code><code class="p">)</code> <code class="nv">$a</code><code class="p">;</code></pre>

<p>assigns <code>$b</code> the integer value of <code>$a</code>; <code>$a</code> remains the string <code>"5"</code>. To cast the value of the variable itself, you must assign the result of a cast back to the variable:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$a</code> <code class="o">=</code> <code class="s2">"5"</code><code class="p">;</code>
<code class="nv">$a</code> <code class="o">=</code> <code class="p">(</code><code class="nx">int</code><code class="p">)</code> <code class="nv">$a</code><code class="p">;</code> <code class="c1">// now $a holds an integer</code></pre>

<p>Not every cast is useful. <a contenteditable="false" data-primary="arrays" data-secondary="casting operators" data-type="indexterm" id="idm45922811398904"/>Casting an array to a numeric type gives <code>1</code> (if the array is empty, it gives <code>0</code>), and casting an array to a string gives <code>"Array"</code> (seeing this in your output is a sure sign that you’ve printed a variable that contains an array).</p>

<p>Casting an object to an array builds an array of the properties, thus mapping property names to values:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">class</code><code> </code><code class="nc">Person</code><code>
</code><code class="p">{</code><code>
 </code><code class="k">var</code><code> </code><code class="nv">$name</code><code> </code><code class="o">=</code><code> </code><code class="s2">"</code><code class="s2">Fred</code><code class="s2">"</code><code class="p">;</code><code>
 </code><code class="k">var</code><code> </code><code class="nv">$age</code><code> </code><code class="o">=</code><code> </code><code class="mi">35</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="nv">$o</code><code> </code><code class="o">=</code><code> </code><code class="k">new</code><code> </code><code class="nx">Person</code><code class="p">;</code><code>
</code><code class="nv">$a</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="k">array</code><code class="p">)</code><code> </code><code class="nv">$o</code><code class="p">;</code><code>

</code><code class="nb">print_r</code><code class="p">(</code><code class="nv">$a</code><code class="p">);</code><code>
</code><strong><code class="k">Array</code><code> </code><code class="p">(</code><code> </code><code class="p">[</code><code class="nx">name</code><code class="p">]</code><code> </code><code class="o">=&gt;</code><code> </code><code class="nx">Fred</code><code> </code><code class="p">[</code><code class="nx">age</code><code class="p">]</code><code> </code><code class="o">=&gt;</code><code> </code><code class="mi">35</code><code class="p">)</code></strong></pre>

<p>You can cast an array to an object to build an object whose properties correspond to the array’s keys and values. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$a</code><code> </code><code class="o">=</code><code> </code><code class="k">array</code><code class="p">(</code><code class="s1">'name'</code><code> </code><code class="o">=&gt;</code><code> </code><code class="s2">"</code><code class="s2">Fred</code><code class="s2">"</code><code class="p">,</code><code> </code><code class="s1">'age'</code><code> </code><code class="o">=&gt;</code><code> </code><code class="mi">35</code><code class="p">,</code><code> </code><code class="s1">'wife'</code><code> </code><code class="o">=&gt;</code><code> </code><code class="s2">"</code><code class="s2">Wilma</code><code class="s2">"</code><code class="p">);</code><code>
</code><code class="nv">$o</code><code> </code><code class="o">=</code><code> </code><code class="p">(</code><code class="nx">object</code><code class="p">)</code><code> </code><code class="nv">$a</code><code class="p">;</code><code>
</code><code class="k">echo</code><code> </code><code class="nv">$o</code><code class="o">-&gt;</code><code class="na">name</code><code class="p">;</code><code>
</code><strong><code class="nx">Fred</code></strong></pre>

<p>Keys that are not valid identifiers are invalid property names and are inaccessible when an array is cast to an object, but are restored when the object is cast back to an array.<a contenteditable="false" data-primary="" data-startref="ix_casting_op" data-type="indexterm" id="idm45922811205624"/><a contenteditable="false" data-primary="" data-startref="ix_operators_casting" data-type="indexterm" id="idm45922811204568"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Assignment Operators"><div class="sect2" id="assignment_operators">
<h2>Assignment Operators</h2>

<p><a contenteditable="false" data-primary="assignment operators" data-type="indexterm" id="ix_assign_op"/><a contenteditable="false" data-primary="operators" data-secondary="assignment operators" data-type="indexterm" id="ix_op_assign"/>Assignment operators store or update values in variables. The auto-increment and auto-decrement operators we saw earlier are highly specialized assignment operators—here we see the more general forms. The basic assignment operator is <code>=</code>, but we’ll also see combinations of assignment and binary operations, such as <code>+=</code> and <code>&amp;=</code>.</p>

<section data-type="sect3" data-pdf-bookmark="Assignment"><div class="sect3" id="assignment">
<h3>Assignment</h3>

<p><a contenteditable="false" data-primary="equals sign (=), assignment operator" data-type="indexterm" id="idm45922811186776"/><a contenteditable="false" data-primary="= (equals sign), assignment operator" data-type="indexterm" id="idm45922811185704"/><a contenteditable="false" data-primary="assignment operator (=)" data-type="indexterm" id="idm45922811184632"/>The basic assignment operator (<code>=</code>) assigns a value to a variable. The lefthand operand is always a variable. The righthand operand can be any expression—any simple literal, variable, or complex expression. The righthand operand’s value is stored in the variable named by the lefthand operand.</p>

<p>Because all operators are required to return a value, the assignment operator returns the value assigned to the variable. For example, the expression <code>$a = 5</code> not only assigns <code>5</code> to <code>$a</code>, but also behaves as the value <code>5</code> if used in a larger expression. Consider the following expressions:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$a</code> <code class="o">=</code> <code class="mi">5</code><code class="p">;</code>
<code class="nv">$b</code> <code class="o">=</code> <code class="mi">10</code><code class="p">;</code>
<code class="nv">$c</code> <code class="o">=</code> <code class="p">(</code><code class="nv">$a</code> <code class="o">=</code> <code class="nv">$b</code><code class="p">);</code></pre>

<p>The expression <code>$a = $b</code> is evaluated first, because of the parentheses. Now, both <code>$a</code> and <code>$b</code> have the same value, <code>10</code>. Finally, <code>$c</code> is assigned the result of the expression <code>$a = $b</code>, which is the value assigned to the lefthand operand (in this case, <code>$a</code>). When the full expression is done evaluating, all three variables contain the same value: <code>10</code>.</p>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Assignment with operation"><div class="sect3" id="assignment_with_operation">
<h3>Assignment with operation</h3>

<p>In addition to the basic assignment operator, there are several assignment operators that are convenient shorthand. These operators consist of a binary operator followed directly by an equals sign, and their effect is the same as performing the operation with the full operands, then assigning the resulting value to the lefthand operand. These assignment operators are:</p>

<dl>
	<dt>Plus-equals (<code>+=</code>)</dt>
	<dd><a contenteditable="false" data-primary="plus-equals operator (+=)" data-type="indexterm" id="idm45922811156520"/><a contenteditable="false" data-primary="+= (plus sign, equals sign), plus-equals operator" data-type="indexterm" id="idm45922811155448"/><a contenteditable="false" data-primary="plus sign, equals sign (+=), plus-equals operator" data-type="indexterm" id="idm45922811154376"/>Adds the righthand operand to the value of the lefthand operand, then assigns the result to the lefthand operand. <code>$a += 5</code> is the same as <code>$a = $a + 5</code>.</dd>
	<dt>Minus-equals (<code>−=</code>)</dt>
	<dd><a contenteditable="false" data-primary="–= (minus sign, equals sign), minus-equals operator" data-type="indexterm" id="idm45922811150904"/><a contenteditable="false" data-primary="minus-equals operator (–=)" data-type="indexterm" id="idm45922811149768"/><a contenteditable="false" data-primary="minus sign, equals sign (–=), minus-equals operator" data-type="indexterm" id="idm45922811148696"/>Subtracts the righthand operand from the value of the lefthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Divide-equals (<code>/=</code>)</dt>
	<dd><a contenteditable="false" data-primary="/= (slash, equals sign), divide-equals operator" data-type="indexterm" id="idm45922811146104"/><a contenteditable="false" data-primary="divide-equals operator (/=)" data-type="indexterm" id="idm45922811144968"/><a contenteditable="false" data-primary="slash, equals sign (/=), divide-equals operator" data-type="indexterm" id="idm45922811143896"/>Divides the value of the lefthand operand by the righthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Multiply-equals (<code>*=</code>)</dt>
	<dd><a contenteditable="false" data-primary="*= (asterisk, equals sign), multiply-equals operator" data-type="indexterm" id="idm45922811141320"/><a contenteditable="false" data-primary="asterisk, equals sign (*=), multiply-equals operator" data-type="indexterm" id="idm45922811130424"/><a contenteditable="false" data-primary="multiply-equals operator (*=)" data-type="indexterm" id="idm45922811129288"/>Multiplies the righthand operand by the value of the lefthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Modulus-equals (<code>%=</code>)</dt>
	<dd><a contenteditable="false" data-primary="%= (percent sign, equals sign), modulus-equals operator" data-type="indexterm" id="idm45922811126776"/><a contenteditable="false" data-primary="modulus-equals operator (%=)" data-type="indexterm" id="idm45922811125640"/><a contenteditable="false" data-primary="percent sign, equals sign (%=), modulus-equals operator" data-type="indexterm" id="idm45922811124568"/>Performs the modulus operation on the value of the lefthand operand and the righthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Bitwise-XOR-equals (<code>^=</code>)</dt>
	<dd><a contenteditable="false" data-primary="^= (caret, equals sign), bitwise-XOR-equals operator" data-type="indexterm" id="idm45922811121960"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise-XOR-equals (^=)" data-type="indexterm" id="idm45922811120824"/><a contenteditable="false" data-primary="caret, equals sign (^=), bitwise-XOR-equals operator" data-type="indexterm" id="idm45922811119448"/><a contenteditable="false" data-primary="XOR-equals operator, bitwise (^=)" data-type="indexterm" id="idm45922811118312"/>Performs a bitwise XOR on the lefthand and righthand operands, then assigns the result to the lefthand operand.</dd>
	<dt>Bitwise-AND-equals (<code>&amp;=</code>)</dt>
	<dd><a contenteditable="false" data-primary="&amp;= (ampersand, equals sign), bitwise-AND-equals operator" data-type="indexterm" id="idm45922811115800"/><a contenteditable="false" data-primary="ampersand, equals sign (&amp;=), bitwise-AND-equals operator" data-type="indexterm" id="idm45922811114728"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise-AND-equals (&amp;=)" data-type="indexterm" id="idm45922811113656"/><a contenteditable="false" data-primary="AND-equals operator, bitwise (&amp;=)" data-type="indexterm" id="idm45922811112280"/>Performs a bitwise AND on the value of the lefthand operand and the righthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Bitwise-OR-equals (<code>|=</code>)</dt>
	<dd><a contenteditable="false" data-primary="|= (vertical bar, equals sign), bitwise-OR-equals operator" data-type="indexterm" id="idm45922811109704"/><a contenteditable="false" data-primary="bitwise operators" data-secondary="bitwise-OR-equals (|=)" data-type="indexterm" id="idm45922811108632"/><a contenteditable="false" data-primary="OR-equals operator, bitwise (|=)" data-type="indexterm" id="idm45922811107256"/><a contenteditable="false" data-primary="vertical bar, equals sign (|=), bitwise-OR-equals operator" data-type="indexterm" id="idm45922811106136"/>Performs a bitwise OR on the value of the lefthand operand and the righthand operand, then assigns the result to the lefthand operand.</dd>
	<dt>Concatenate-equals (<code>.=</code>)</dt>
	<dd><a contenteditable="false" data-primary=".= (period, equals sign), concatenate-equals operator" data-type="indexterm" id="idm45922811103608"/><a contenteditable="false" data-primary="concatenate-equals operator (.=)" data-type="indexterm" id="idm45922811102472"/><a contenteditable="false" data-primary="period, equals sign (.=), concatenate-equals operator" data-type="indexterm" id="idm45922811101352"/>Concatenates the righthand operand to the value of the lefthand operand, then assigns the result to the lefthand operand.<a contenteditable="false" data-primary="" data-startref="ix_op_assign" data-type="indexterm" id="idm45922811099944"/><a contenteditable="false" data-primary="" data-startref="ix_assign_op" data-type="indexterm" id="idm45922811098568"/></dd>
</dl>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Miscellaneous Operators"><div class="sect2" id="miscellaneous_operators">
<h2>Miscellaneous Operators</h2>

<p>The remaining PHP operators are for error suppression, executing an external command, and selecting values:</p>

<dl>
	<dt>Error suppression (<code>@</code>)</dt>
	<dd><a contenteditable="false" data-primary="@ (at sign)" data-secondary="error suppression operator" data-type="indexterm" id="idm45922811093448"/><a contenteditable="false" data-primary="at sign (@)" data-secondary="error suppression operator" data-type="indexterm" id="idm45922811092104"/><a contenteditable="false" data-primary="error suppression operator (@)" data-type="indexterm" id="idm45922811090760"/>Some operators or functions can generate error messages. The error suppression operator, discussed in full in <a data-type="xref" href="ch17.xhtml#debugging_php">Chapter 17</a>, is used to prevent these messages from being created.</dd>
	<dt>Execution (<code>`...`</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="`…` (backticks), execution operator" data-type="indexterm" id="idm45922811086920"/><a contenteditable="false" data-primary="backticks (`…`), execution operator" data-type="indexterm" id="idm45922811085800"/><a contenteditable="false" data-primary="execution operator (`…`)" data-type="indexterm" id="idm45922811084680"/>The backtick operator executes the string contained between the backticks as a shell command and returns the output. For example:</p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$listing</code> <code class="o">=</code> <code class="sb">`ls -ls /tmp`</code><code class="p">;</code>
<code class="k">echo</code> <code class="nv">$listing</code><code class="p">;</code></pre>
	</dd>
	<dt>Conditional (<code>? :</code>)</dt>
	<dd><a contenteditable="false" data-primary="? : (question mark, colon)" data-secondary="ternary conditional operator" data-type="indexterm" id="idm45922811077304"/><a contenteditable="false" data-primary="conditional (ternary) operator (? :)" data-type="indexterm" id="idm45922811076056"/><a contenteditable="false" data-primary="question mark, colon (? :)" data-secondary="ternary conditional operator" data-type="indexterm" id="idm45922811074984"/><a contenteditable="false" data-primary="ternary conditional operator (? :)" data-type="indexterm" id="idm45922811073624"/>The conditional operator is, depending on the code you look at, either the most overused or most underused operator. It is the only ternary (three-operand) operator and is therefore sometimes just called the ternary operator.</dd>
	<dd>
	<p>The conditional operator evaluates the expression before the <code>?</code>. If the expression is <code>true</code>, the operator returns the value of the expression between the <code>?</code> and <code>:</code>; otherwise, the operator returns the value of the expression after the <code>:</code>. For instance:</p>

	<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;a</code> <code class="na">href=</code><code class="s">"</code><code class="cp">&lt;?</code> <code class="k">echo</code> <code class="nv">$url</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="s">"</code><code class="nt">&gt;</code><code class="cp">&lt;?</code> <code class="k">echo</code> <code class="nv">$linktext</code> <code class="o">?</code> <code class="nv">$linktext</code> <code class="o">:</code> <code class="nv">$url</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="nt">&lt;/a&gt;</code></pre>
	</dd>
	<dd>If text for the link <code>$url</code> is present in the variable <code>$linktext</code>, it is used as the text for the link; otherwise, the URL itself is displayed.</dd>
	<dt>Type (<code>instanceof</code>)</dt>
	<dd>
	<p><a contenteditable="false" data-primary="type (instanceof) operator" data-type="indexterm" id="idm45922811000680"/><a contenteditable="false" data-primary="instanceof operator" data-type="indexterm" id="idm45922810999608"/>The <code>instanceof</code> operator tests whether a variable is an instantiated object of a given class or implements an interface (see <a data-type="xref" href="ch06.xhtml#objects-id00032">Chapter 6</a> for more information on objects and interfaces):<a contenteditable="false" data-primary="" data-startref="ix_operators" data-type="indexterm" id="idm45922810996776"/><a contenteditable="false" data-primary="" data-startref="ix_php_operators" data-type="indexterm" id="idm45922810995400"/></p>

	<pre data-code-language="php" data-type="programlisting">
<code class="nv">$a</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Foo</code><code class="p">;</code>
<code class="nv">$isAFoo</code> <code class="o">=</code> <code class="nv">$a</code> <code class="nx">instanceof</code> <code class="nx">Foo</code><code class="p">;</code> <code class="c1">// true</code>
<code class="nv">$isABar</code> <code class="o">=</code> <code class="nv">$a</code> <code class="nx">instanceof</code> <code class="nx">Bar</code><code class="p">;</code> <code class="c1">// false</code></pre>
	</dd>
</dl>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Flow-Control Statements"><div class="sect1" id="flow_control_statements">
<h1>Flow-Control Statements</h1>

<p><a contenteditable="false" data-primary="statements" data-secondary="flow-control statements" data-type="indexterm" id="ix_statement_flow_control"/><a contenteditable="false" data-primary="PHP" data-secondary="flow-control statements" data-type="indexterm" id="ix_php_flow_control"/><a contenteditable="false" data-primary="flow-control statements" data-type="indexterm" id="ix_flow_control_state"/>PHP supports a number of traditional programming constructs for controlling the flow of execution of a program.</p>

<p><a contenteditable="false" data-primary="statements" data-secondary="conditional statements" data-type="indexterm" id="ix_statement_cond"/><a contenteditable="false" data-primary="conditional statements" data-type="indexterm" id="ix_cond_statement"/>Conditional statements, such as <code>if</code>/<code>else</code> and <code>switch</code>, allow a program to execute different pieces of code, or none at all, depending on some condition. Loops, such as <code>while</code> and <code>for</code>, support the repeated execution of particular segments of code.</p>

<section data-type="sect2" data-pdf-bookmark="if "><div class="sect2" id="if">
<h2>if </h2>

<p><a contenteditable="false" data-primary="if statement" data-type="indexterm" id="ix_if_statement"/>The <code>if</code> statement checks the truthfulness of an expression and, if the expression is true, evaluates a statement. An <code>if</code> statement looks like:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code><code> </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code><em><code class="nx">statement</code></em></pre>

<p>To specify an alternative statement to execute when the expression is false, use the <a contenteditable="false" data-primary="else keyword" data-type="indexterm" id="idm45922810920120"/><code>else</code> keyword:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code><code> </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code><code>
 </code><em><code class="nx">statement</code></em><code>
</code><code class="k">else</code><code> </code><em><code class="nx">statement</code></em></pre>

<p>For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$user_validated</code><code class="p">)</code>
 <code class="k">echo</code> <code class="s2">"Welcome!"</code><code class="p">;</code>
<code class="k">else</code>
 <code class="k">echo</code> <code class="s2">"Access Forbidden!"</code><code class="p">;</code></pre>

<p>To include more than one statement within an <code>if</code> statement, use a <a contenteditable="false" data-primary="block, in if statement" data-type="indexterm" id="idm45922810861736"/><em>block</em>—a set of statements enclosed by curly braces:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$user_validated</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Welcome!"</code><code class="p">;</code>
 <code class="nv">$greeted</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>
<code class="p">}</code>
<code class="k">else</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Access Forbidden!"</code><code class="p">;</code>
 <code class="k">exit</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>PHP provides another syntax for blocks in tests and loops. Instead of enclosing the block of statements in curly braces, end the <code>if</code> line with a colon (<code>:</code>) and use a specific keyword to end the block (<code>endif</code>, in this case). For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$user_validated</code><code class="p">)</code><code class="o">:</code>
 <code class="k">echo</code> <code class="s2">"Welcome!"</code><code class="p">;</code>
 <code class="nv">$greeted</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>
<code class="k">else</code><code class="o">:</code>
 <code class="k">echo</code> <code class="s2">"Access Forbidden!"</code><code class="p">;</code>
 <code class="k">exit</code><code class="p">;</code>
<code class="k">endif</code><code class="p">;</code></pre>

<p>Other statements described in this chapter also have similar alternate syntax styles (and ending keywords); they can be useful if you have large blocks of HTML inside your statements. For example:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code> <code class="k">if</code> <code class="p">(</code><code class="nv">$user_validated</code><code class="p">)</code> <code class="o">:</code> <code class="cp">?&gt;</code>
 <code class="nt">&lt;table&gt;</code>
 <code class="nt">&lt;tr&gt;</code>
 <code class="nt">&lt;td&gt;</code>First Name:<code class="nt">&lt;/td&gt;&lt;td&gt;</code>Sophia<code class="nt">&lt;/td&gt;</code>
 <code class="nt">&lt;/tr&gt;</code>
 <code class="nt">&lt;tr&gt;</code>
 <code class="nt">&lt;td&gt;</code>Last Name:<code class="nt">&lt;/td&gt;&lt;td&gt;</code>Lee<code class="nt">&lt;/td&gt;</code>
 <code class="nt">&lt;/tr&gt;</code>
 <code class="nt">&lt;/table&gt;</code>
<code class="cp">&lt;?php</code> <code class="k">else</code><code class="o">:</code> <code class="cp">?&gt;</code>
 Please log in.
<code class="cp">&lt;?php</code> <code class="k">endif</code> <code class="cp">?&gt;</code></pre>

<p>Because <code>if</code> is a statement, you can chain (embed) more than one. This is also a good example of how the blocks can be used to help keep things organized:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$good</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"Dandy!"</code><code class="p">);</code>
<code class="p">}</code>
<code class="k">else</code> <code class="p">{</code>
 <code class="k">if</code> <code class="p">(</code><code class="nv">$error</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"Oh, no!"</code><code class="p">);</code>
 <code class="p">}</code>
 <code class="k">else</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"I'm ambivalent..."</code><code class="p">);</code>
 <code class="p">}</code>
<code class="p">}</code></pre>

<p>Such chains of <code>if</code> statements are common enough that PHP provides an easier syntax: the <a contenteditable="false" data-primary="elseif statement" data-type="indexterm" id="idm45922810707128"/><code>elseif</code> statement. For example, the previous code can be rewritten as:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$good</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"Dandy!"</code><code class="p">);</code>
<code class="p">}</code>
<code class="k">elseif</code> <code class="p">(</code><code class="nv">$error</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"Oh, no!"</code><code class="p">);</code>
<code class="p">}</code>
<code class="k">else</code> <code class="p">{</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"I'm ambivalent..."</code><code class="p">);</code>
<code class="p">}</code></pre>

<p><a contenteditable="false" data-primary="conditional (ternary) operator (? :)" data-type="indexterm" id="idm45922810643816"/><a contenteditable="false" data-primary="question mark, colon (? :)" data-secondary="ternary conditional operator" data-type="indexterm" id="idm45922810635944"/><a contenteditable="false" data-primary="ternary conditional operator (? :)" data-type="indexterm" id="idm45922810634696"/><a contenteditable="false" data-primary="? : (question mark, colon)" data-secondary="ternary conditional operator" data-type="indexterm" id="idm45922810633624"/>The ternary conditional operator (<code>? :</code>) can be used to shorten simple true/false tests. Take a common situation, such as checking to see if a given variable is true and printing something if it is. With a normal <code>if</code>/<code>else</code> statement, it looks like this:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;td&gt;</code><code class="cp">&lt;?php</code> <code class="k">if</code><code class="p">(</code><code class="nv">$active</code><code class="p">)</code> <code class="p">{</code> <code class="k">echo</code> <code class="s2">"yes"</code><code class="p">;</code> <code class="p">}</code> <code class="k">else</code> <code class="p">{</code> <code class="k">echo</code> <code class="s2">"no"</code><code class="p">;</code> <code class="p">}</code> <code class="cp">?&gt;</code><code class="nt">&lt;/td&gt;</code></pre>

<p>With the ternary conditional operator, it looks like this:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;td&gt;</code><code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="nv">$active</code> <code class="o">?</code> <code class="s2">"yes"</code> <code class="o">:</code> <code class="s2">"no"</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="nt">&lt;/td&gt;</code></pre>

<p>Compare the syntax of the two:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code><code> </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code><code> </code><code class="p">{</code><code> </code><em><code class="nx">true_statement</code></em><code> </code><code class="p">}</code><code> </code><code class="k">else</code><code> </code><code class="p">{</code><code> </code><em><code class="nx">false_statement</code></em><code> </code><code class="p">}</code><code>
 </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code><code> </code><code class="o">?</code><code> </code><em><code class="nx">true_expression</code></em><code> </code><code class="o">:</code><code> </code><em><code class="nx">false_expression</code></em></pre>

<p>The main difference here is that the conditional operator is not a statement at all. This means that it is used on expressions, and the result of a complete ternary expression is itself an expression. In the previous example, the <code>echo</code> statement is inside the <code>if</code> condition, while when used with the ternary operator, it precedes the expression.<a contenteditable="false" data-primary="" data-startref="ix_if_statement" data-type="indexterm" id="idm45922810447544"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="switch"><div class="sect2" id="switch">
<h2>switch</h2>

<p><a contenteditable="false" data-primary="switch statement" data-type="indexterm" id="ix_switch_statement"/>The value of a single variable may determine one of a number of different choices (e.g., the variable holds the username and you want to do something different for each user). The <code>switch</code> statement is designed for just this situation.</p>

<p>A <code>switch</code> statement is given an expression and compares its value to all cases in the switch; all statements in a matching case are executed, up to the first <a contenteditable="false" data-primary="break keyword" data-type="indexterm" id="idm45922810441368"/><code>break</code> keyword it finds. If none match, and a <a contenteditable="false" data-primary="default keyword" data-type="indexterm" id="idm45922810439848"/><code>default</code> is given, all statements following the <code>default</code> keyword are executed, up to the first <code>break</code> keyword encountered.</p>

<p>For example, suppose you have the following:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">if</code> <code class="p">(</code><code class="nv">$name</code> <code class="o">==</code> <code class="s1">'ktatroe'</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// do something</code>
<code class="p">}</code>
<code class="k">else</code> <code class="k">if</code> <code class="p">(</code><code class="nv">$name</code> <code class="o">==</code> <code class="s1">'dawn'</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// do something</code>
<code class="p">}</code>
<code class="k">else</code> <code class="k">if</code> <code class="p">(</code><code class="nv">$name</code> <code class="o">==</code> <code class="s1">'petermac'</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// do something</code>
<code class="p">}</code>
<code class="k">else</code> <code class="k">if</code> <code class="p">(</code><code class="nv">$name</code> <code class="o">==</code> <code class="s1">'bobk'</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// do something</code>
<code class="p">}</code></pre>

<p>You can replace that statement with the following <code>switch</code> statement:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">switch</code><code class="p">(</code><code class="nv">$name</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">case</code> <code class="s1">'ktatroe'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'dawn'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'petermac'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'bobk'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>The alternative syntax for this is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">switch</code><code class="p">(</code><code class="nv">$name</code><code class="p">)</code><code class="o">:</code>
 <code class="k">case</code> <code class="s1">'ktatroe'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'dawn'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'petermac'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">case</code> <code class="s1">'bobk'</code><code class="o">:</code>
 <code class="c1">// do something</code>
 <code class="k">break</code><code class="p">;</code>
<code class="k">endswitch</code><code class="p">;</code></pre>

<p>Because statements are executed from the matching case label to the next <code>break</code> keyword, you can combine several cases in a <a contenteditable="false" data-primary="fall-through, switch statement" data-type="indexterm" id="idm45922810194040"/><em>fall-through</em>. In the following example, “yes” is printed when <code>$name</code> is equal to <code>sylvie</code> or <code>bruno</code>:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">switch</code> <code class="p">(</code><code class="nv">$name</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">case</code> <code class="s1">'sylvie'</code><code class="o">:</code> <code class="c1">// fall-through</code>
 <code class="k">case</code> <code class="s1">'bruno'</code><code class="o">:</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"yes"</code><code class="p">);</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="k">default</code><code class="o">:</code>
 <code class="k">print</code><code class="p">(</code><code class="s2">"no"</code><code class="p">);</code>
 <code class="k">break</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>Commenting the fact that you are using a fall-through case in a <code>switch</code> is a good idea, so someone doesn’t come along at some point and add a <code>break</code> thinking you had forgotten it.</p>

<p>You can specify an optional number of levels for the <code>break</code> keyword to break out of. In this way, a <a contenteditable="false" data-primary="break keyword" data-type="indexterm" id="idm45922810257000"/><code>break</code> statement can break out of several levels of nested <code>switch</code> statements. An example of using <code>break</code> in this manner is shown in the next section.<a contenteditable="false" data-primary="" data-startref="ix_cond_statement" data-type="indexterm" id="idm45922810254664"/><a contenteditable="false" data-primary="" data-startref="ix_statement_cond" data-type="indexterm" id="idm45922810253288"/><a contenteditable="false" data-primary="" data-startref="ix_switch_statement" data-type="indexterm" id="idm45922810251912"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="while"><div class="sect2" id="while">
<h2>while</h2>

<p><a contenteditable="false" data-primary="statements" data-secondary="loop statements" data-type="indexterm" id="ix_statement_loop"/><a contenteditable="false" data-primary="loop statements" data-type="indexterm" id="ix_loop_statement"/><a contenteditable="false" data-primary="while statement" data-type="indexterm" id="ix_while_statement"/>The simplest form of loop is the <code>while</code> statement:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">while</code><code> </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code><em><code class="nx">statement</code></em></pre>

<p>If the <em>expression</em> evaluates to <code>true</code>, the <em>statement</em> is executed and then the <em>expression</em> is re-evaluated (if it is still <code>true</code>, the body of the loop is executed again, and so on). The loop exits when the <em>expression</em> is no longer true (i.e., evaluates to <code>false</code>).</p>

<p>As an example, here’s some code that adds the whole numbers from 1 to 10:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nv">$i</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>

<code class="k">while</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">)</code> <code class="p">{</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="p">;</code>
 <code class="nv">$i</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code></pre>

<p><a contenteditable="false" data-primary="endwhile keyword" data-type="indexterm" id="idm45922810099800"/>The alternative syntax for <code>while</code> has this structure:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">while</code><code> </code><code class="p">(</code><em><code class="nx">expr</code></em><code class="p">)</code><code class="o">:</code><code>
 </code><em><code class="nx">statement</code><code class="p">;</code></em><code>
 </code><em><code class="nx">more</code><code> </code><code class="nx">statements</code></em><code> </code><code class="p">;</code><code>
</code><code class="k">endwhile</code><code class="p">;</code></pre>

<p>For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nv">$i</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>

<code class="k">while</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">)</code><code class="o">:</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="p">;</code>
 <code class="nv">$i</code><code class="o">++</code><code class="p">;</code>
<code class="k">endwhile</code><code class="p">;</code></pre>

<p>You can prematurely exit a loop with the <code>break</code> keyword. In the following code, <code>$i</code> never reaches a value of <code>6</code>, because the loop is stopped once it reaches <code>5</code>:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nv">$i</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>

<code class="k">while</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">if</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">==</code> <code class="mi">5</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">break</code><code class="p">;</code> <code class="c1">// breaks out of the loop</code>
 <code class="p">}</code>

 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="p">;</code>
 <code class="nv">$i</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>Optionally, you can put a number after the <code>break</code> keyword indicating how many levels of loop structures to break out of. In this way, a statement buried deep in nested loops can break out of the outermost loop. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$i</code><code> </code><code class="o">=</code><code> </code><code class="mi">0</code><code class="p">;</code><code>
</code><code class="nv">$j</code><code> </code><code class="o">=</code><code> </code><code class="mi">0</code><code class="p">;</code><code>

</code><code class="k">while</code><code> </code><code class="p">(</code><code class="nv">$i</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">10</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">while</code><code> </code><code class="p">(</code><code class="nv">$j</code><code> </code><code class="o">&lt;</code><code> </code><code class="mi">10</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">if</code><code> </code><code class="p">(</code><code class="nv">$j</code><code> </code><code class="o">==</code><code> </code><code class="mi">5</code><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="k">break</code><code> </code><code class="mi">2</code><code class="p">;</code><code> </code><code class="c1">// breaks out of two while loops
</code><code> </code><code class="p">}</code><code>

 </code><code class="nv">$j</code><code class="o">++</code><code class="p">;</code><code>
 </code><code class="p">}</code><code>

 </code><code class="nv">$i</code><code class="o">++</code><code class="p">;</code><code>
</code><code class="p">}</code><code>

</code><code class="k">echo</code><code> </code><code class="s2">"</code><code class="si">{</code><code class="nv">$i</code><code class="si">}</code><code class="s2">, </code><code class="si">{</code><code class="nv">$j</code><code class="si">}</code><code class="s2">"</code><code class="p">;</code><code>
</code><strong><code class="mi">0</code><code class="p">,</code><code> </code><code class="mi">5</code></strong></pre>

<p>The <a contenteditable="false" data-primary="continue statement" data-type="indexterm" id="idm45922809919976"/><code>continue</code> statement skips ahead to the next test of the loop condition. As with the <code>break</code> keyword, you can continue through an optional number of levels of loop structure:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">while</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">)</code> <code class="p">{</code>
 <code class="nv">$i</code><code class="o">++</code><code class="p">;</code>

 <code class="k">while</code> <code class="p">(</code><code class="nv">$j</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">if</code> <code class="p">(</code><code class="nv">$j</code> <code class="o">==</code> <code class="mi">5</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">continue</code> <code class="mi">2</code><code class="p">;</code> <code class="c1">// continues through two levels</code>
 <code class="p">}</code>

 <code class="nv">$j</code><code class="o">++</code><code class="p">;</code>
 <code class="p">}</code>
<code class="p">}</code></pre>

<p>In this code, <code>$j</code> never has a value above <code>5</code>, but <code>$i</code> goes through all values from <code>0</code> to <code>9</code>.</p>

<p>PHP also supports a <a contenteditable="false" data-primary="do/while statement" data-type="indexterm" id="idm45922809738472"/><code>do</code>/<code>while</code> loop, which takes the following form:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">do</code><code>
 </code><em><code class="nx">statement</code></em><code>
</code><code class="k">while</code><code> </code><code class="p">(</code><em><code class="nx">expression</code></em><code class="p">)</code></pre>

<p>Use a <code>do</code>/<code>while</code> loop to ensure that the loop body is executed at least once (the first time):</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>
<code class="nv">$i</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>

<code class="k">do</code> <code class="p">{</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code> <code class="k">while</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">);</code></pre>

<p>You can use <code>break</code> and <code>continue</code> statements in a <code>do</code>/<code>while</code> statement just as in a normal <code>while</code> statement.</p>

<p>The <code>do</code>/<code>while</code> statement is sometimes used to break out of a block of code when an error condition occurs. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">do</code> <code class="p">{</code>
 <code class="c1">// do some stuff</code>

 <code class="k">if</code> <code class="p">(</code><code class="nv">$errorCondition</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">break</code><code class="p">;</code>
 <code class="p">}</code>

 <code class="c1">// do some other stuff</code>
<code class="p">}</code> <code class="k">while</code> <code class="p">(</code><code class="k">false</code><code class="p">);</code></pre>

<p>Because the condition for the loop is <code>false</code>, the loop is executed only once, regardless of what happens inside the loop. However, if an error occurs, the code after the <code>break</code> is not evaluated.<a contenteditable="false" data-primary="" data-startref="ix_while_statement" data-type="indexterm" id="idm45922809672792"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="for"><div class="sect2" id="for">
<h2>for</h2>

<p><a contenteditable="false" data-primary="for statement" data-type="indexterm" id="ix_for_statement"/>The <code>for</code> statement is similar to the <code>while</code> statement, except it adds counter initialization and counter manipulation expressions, and is often shorter and easier to read than the equivalent <code>while</code> loop.</p>

<p>Here’s a <code>while</code> loop that counts from 0 to 9, printing each number:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$counter</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>

<code class="k">while</code> <code class="p">(</code><code class="nv">$counter</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Counter is </code><code class="si">{</code><code class="nv">$counter</code><code class="si">}</code><code class="s2"> &lt;br/&gt;"</code><code class="p">;</code>
 <code class="nv">$counter</code><code class="o">++</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>Here’s the corresponding, more concise <code>for</code> loop:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code> <code class="p">(</code><code class="nv">$counter</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="nv">$counter</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$counter</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Counter is </code><code class="si">$counter</code><code class="s2"> &lt;br/&gt;"</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>The structure of a <code>for</code> statement is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code><code> </code><code class="p">(</code><em><code class="nx">start</code></em><code class="p">;</code><code> </code><em><code class="nx">condition</code></em><code class="p">;</code><code> </code><em><code class="nx">increment</code></em><code class="p">)</code><code> </code><code class="p">{</code><code> </code><em><code class="nx">statement</code><code class="p">(</code><code class="nx">s</code><code class="p">);</code></em><code> </code><code class="p">}</code></pre>

<p>The expression <em>start</em> is evaluated once, at the beginning of the <code>for</code> statement. Each time through the loop, the expression <em>condition</em> is tested. If it is <code>true</code>, the body of the loop is executed; if it is <code>false</code>, the loop ends. The expression <em>increment</em> is evaluated after the loop body runs.</p>

<p><a contenteditable="false" data-primary="endfor keyword" data-type="indexterm" id="idm45922809473848"/>The alternative syntax of a <code>for</code> statement is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code><code> </code><code class="p">(</code><em><code class="nx">expr1</code></em><code class="p">;</code><code> </code><em><code class="nx">expr2</code></em><code class="p">;</code><code> </code><em><code class="nx">expr3</code></em><code class="p">)</code><code class="o">:</code><code>
 </code><em><code class="nx">statement</code><code class="p">;</code></em><code>
 </code><em><code class="o">...</code><code class="p">;</code></em><code>
</code><code class="k">endfor</code><code class="p">;</code></pre>

<p>This program adds the numbers from 1 to 10 using a <code>for</code> loop:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>

<code class="k">for</code> <code class="p">(</code><code class="nv">$i</code><code class="o">=</code> <code class="mi">1</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>Here’s the same loop using the alternate syntax:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>

<code class="k">for</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">)</code><code class="o">:</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$i</code><code class="p">;</code>
<code class="k">endfor</code><code class="p">;</code></pre>

<p>You can specify multiple expressions for any of the expressions in a <code>for</code> statement by separating the expressions with commas. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$total</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>

<code class="k">for</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">,</code> <code class="nv">$j</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;=</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">,</code> <code class="nv">$j</code> <code class="o">*=</code> <code class="mi">2</code><code class="p">)</code> <code class="p">{</code>
 <code class="nv">$total</code> <code class="o">+=</code> <code class="nv">$j</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>You can also leave an expression empty, signaling that nothing should be done for that phase. In the most degenerate form, the <code>for</code> statement becomes an infinite loop. You probably don’t want to run this example, as it never stops printing:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code> <code class="p">(;;)</code> <code class="p">{</code>
 <code class="k">echo</code> <code class="s2">"Can't stop me!&lt;br /&gt;"</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>In <code>for</code> loops, as in <code>while</code> loops, you can use the <code>break</code> and <code>continue</code> keywords to end the loop or the current iteration.<a contenteditable="false" data-primary="" data-startref="ix_for_statement" data-type="indexterm" id="idm45922809218712"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="foreach"><div class="sect2" id="foreach">
<h2>foreach</h2>

<p><a contenteditable="false" data-primary="foreach statement" data-type="indexterm" id="idm45922809259416"/>The <code>foreach</code> statement allows you to iterate over elements in an array. The two forms of the <code>foreach</code> statement are further discussed in <a data-type="xref" href="ch05.xhtml#array">Chapter 5</a>, where we talk in more depth about arrays. To loop over an array, accessing the value at each key, use:<a contenteditable="false" data-primary="" data-startref="ix_loop_statement" data-type="indexterm" id="idm45922809256232"/><a contenteditable="false" data-primary="" data-startref="ix_statement_loop" data-type="indexterm" id="idm45922809254856"/></p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">foreach</code><code> </code><code class="p">(</code><em><code class="nv">$array</code></em><code> </code><code class="k">as</code><code> </code><em><code class="nv">$current</code></em><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="c1">// ...
</code><code class="p">}</code></pre>

<p>The alternate syntax is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">foreach</code><code> </code><code class="p">(</code><em><code class="nv">$array</code></em><code> </code><code class="k">as</code><code> </code><em><code class="nv">$current</code></em><code class="p">)</code><code class="o">:</code><code>
 </code><code class="c1">// ...
</code><code class="k">endforeach</code><code class="p">;</code></pre>

<p>To loop over an array, accessing both key and value, use:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">foreach</code><code> </code><code class="p">(</code><em><code class="nv">$array</code></em><code> </code><code class="k">as</code><code> </code><em><code class="nv">$key</code><code> </code><code class="o">=&gt;</code><code> </code><code class="nv">$value</code></em><code class="p">)</code><code> </code><code class="p">{</code><code>
 </code><code class="c1">// ...
</code><code class="p">}</code></pre>

<p>The alternate syntax is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">foreach</code><code> </code><code class="p">(</code><em><code class="nv">$array</code></em><code> </code><code class="k">as</code><code> </code><em><code class="nv">$key</code><code> </code><code class="o">=&gt;</code><code> </code><code class="nv">$value</code></em><code class="p">)</code><code class="o">:</code><code>
 </code><code class="c1">// ...
</code><code class="k">endforeach</code><code class="p">;</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="try...catch"><div class="sect2" id="trydotdotdotcatch">
<h2>try...catch</h2>

<p><a contenteditable="false" data-primary="error handling" data-secondary="try…catch statement" data-type="indexterm" id="idm45922809088088"/><a contenteditable="false" data-primary="try…catch statement" data-type="indexterm" id="idm45922809086712"/>The <code>try...catch</code> construct is not so much a flow-control structure as it is a more graceful way to handle system errors. For example, if you want to ensure that your web application has a valid connection to a database before continuing, you could write code like this:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">try</code> <code class="p">{</code>
 <code class="nv">$dbhandle</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">PDO</code><code class="p">(</code><code class="s1">'mysql:host=localhost; dbname=library'</code><code class="p">,</code> <code class="nv">$username</code><code class="p">,</code> <code class="nv">$pwd</code><code class="p">);</code>
 <code class="nx">doDB_Work</code><code class="p">(</code><code class="nv">$dbhandle</code><code class="p">);</code> <code class="c1">// call function on gaining a connection</code>
 <code class="nv">$dbhandle</code> <code class="o">=</code> <code class="k">null</code><code class="p">;</code> <code class="c1">// release handle when done</code>
<code class="p">}</code>
<code class="k">catch</code> <code class="p">(</code><code class="nx">PDOException</code> <code class="nv">$error</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">print</code> <code class="s2">"Error!: "</code> <code class="o">.</code> <code class="nv">$error</code><code class="o">-&gt;</code><code class="na">getMessage</code><code class="p">()</code> <code class="o">.</code> <code class="s2">"&lt;br/&gt;"</code><code class="p">;</code>
 <code class="k">die</code><code class="p">();</code>
<code class="p">}</code></pre>

<p>Here the connection is attempted with the <code>try</code> portion of the construct and if there are any errors with it, the flow of the code automatically falls into the <code>catch</code> portion, where the <code>PDOException</code> class is instantiated into the <code>$error</code> variable. It can then be displayed on the screen and the code can “gracefully” fail, rather than making an abrupt end. You can even redirect to try connecting to an alternate database, or respond to the error any other way you wish within the <code>catch</code> portion.</p>

<div data-type="note" epub:type="note"><h6>Note</h6>
<p>See <a data-type="xref" href="ch09.xhtml#databases-id00007">Chapter 9</a> for more examples of <code>try...catch</code> in relation to PDO (PHP Data Objects) and transaction processing.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="declare"><div class="sect2" id="declare">
<h2>declare</h2>

<p><a contenteditable="false" data-primary="declare statement" data-type="indexterm" id="idm45922809014968"/>The <code>declare</code> statement allows you to specify <a contenteditable="false" data-primary="execution directives" data-type="indexterm" id="idm45922809013288"/>execution directives for a block of code. The structure of a <code>declare</code> statement is:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">declare</code><code> </code><code class="p">(</code><em><code class="nx">directive</code></em><code class="p">)</code><em><code class="nx">statement</code></em></pre>

<p>Currently, there are only three <code>declare</code> forms: the <a contenteditable="false" data-primary="ticks directive" data-type="indexterm" id="idm45922809003880"/><code>ticks</code>, <a contenteditable="false" data-primary="encoding directive" data-type="indexterm" id="idm45922809002536"/><code>encoding</code>, and <a contenteditable="false" data-primary="strict_types directive" data-type="indexterm" id="idm45922809000984"/><code>strict_types</code> directives. You can use the <code>ticks</code> directive to specify how frequently (measured roughly in number of code statements) a tick function is registered when <a contenteditable="false" data-primary="register_tick_function function" data-type="indexterm" id="idm45922808998872"/><code>register_tick_function()</code> is called. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nb">register_tick_function</code><code class="p">(</code><code class="s2">"someFunction"</code><code class="p">);</code>

<code class="k">declare</code><code class="p">(</code><code class="nx">ticks</code> <code class="o">=</code> <code class="mi">3</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">for</code><code class="p">(</code><code class="nv">$i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// do something</code>
 <code class="p">}</code>
<code class="p">}</code></pre>

<p>In this code, <code>someFunction()</code> is called after every third statement within the block is executed.</p>

<p>You can use the <code>encoding</code> directive to specify a PHP script’s output encoding. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">declare</code><code class="p">(</code><code class="nx">encoding</code> <code class="o">=</code> <code class="s2">"UTF-8"</code><code class="p">);</code></pre>

<p>This form of the <code>declare</code> statement is ignored unless you compile PHP with the <span class="keep-together"><code>--enable-zend-multibyte</code></span> option.</p>

<p>Finally, you can use the <code>strict_types</code> directive to enforce the use of strict data types when defining and using variables.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="exit and return"><div class="sect2" id="exit_and_return">
<h2>exit and return</h2>

<p>As soon as it is reached, the <a contenteditable="false" data-primary="exit statement" data-type="indexterm" id="idm45922808943320"/><code>exit</code> statement ends the script’s execution. The <a contenteditable="false" data-primary="return statement" data-type="indexterm" id="idm45922808941800"/><code>return</code> statement returns from a function or, at the top level of the program, from the script.</p>

<p>The <code>exit</code> statement takes an optional value. If this is a number, it is the exit status of the process. If it is a string, the value is printed before the process terminates. The function <code>die()</code> is an alias for this form of the <code>exit</code> statement:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$db</code> <code class="o">=</code> <code class="nb">mysql_connect</code><code class="p">(</code><code class="s2">"localhost"</code><code class="p">,</code> <code class="nv">$USERNAME</code><code class="p">,</code> <code class="nv">$PASSWORD</code><code class="p">);</code>

<code class="k">if</code> <code class="p">(</code><code class="o">!</code><code class="nv">$db</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">die</code><code class="p">(</code><code class="s2">"Could not connect to database"</code><code class="p">);</code>
<code class="p">}</code></pre>

<p>This is more commonly written as:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="nv">$db</code> <code class="o">=</code> <code class="nb">mysql_connect</code><code class="p">(</code><code class="s2">"localhost"</code><code class="p">,</code> <code class="nv">$USERNAME</code><code class="p">,</code> <code class="nv">$PASSWORD</code><code class="p">)</code>
 <code class="k">or</code> <code class="k">die</code><code class="p">(</code><code class="s2">"Could not connect to database"</code><code class="p">);</code></pre>

<p>See <a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a> for more information on using the <code>return</code> statement in functions.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="goto"><div class="sect2" id="goto">
<h2>goto</h2>

<p><a contenteditable="false" data-primary="goto statement" data-type="indexterm" id="idm45922808815544"/>The <code>goto</code> statement allows execution to “jump” to another place in the program. You specify execution points by adding a <a contenteditable="false" data-primary="colon (:), following labels" data-type="indexterm" id="idm45922808786952"/><a contenteditable="false" data-primary=": (colon), following labels" data-type="indexterm" id="idm45922808785880"/><a contenteditable="false" data-primary="labels, goto statement" data-type="indexterm" id="idm45922808784808"/>label, which is an identifier followed by a colon (<code>:</code>). You then jump to the label from another location in the script via the <code>goto</code> <span class="keep-together">statement:</span></p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;</code> <code class="nv">$count</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
 <code class="c1">// oops, found an error</code>
 <code class="k">if</code> <code class="p">(</code><code class="nv">$error</code><code class="p">)</code> <code class="p">{</code>
 <code class="nx">goto</code> <code class="nx">cleanup</code><code class="p">;</code>
 <code class="p">}</code>
<code class="p">}</code>

<code class="nx">cleanup</code><code class="o">:</code>
<code class="c1">// do some cleanup</code></pre>

<p>You can only <code>goto</code> a label within the same scope as the <code>goto</code> statement itself, and you can’t jump into a loop or switch. Generally, anywhere you might use a <code>goto</code> (or multilevel <code>break</code> statement, for that matter), you can rewrite the code to be cleaner without it.<a contenteditable="false" data-primary="" data-startref="ix_flow_control_state" data-type="indexterm" id="idm45922808677496"/><a contenteditable="false" data-primary="" data-startref="ix_php_flow_control" data-type="indexterm" id="idm45922808676120"/><a contenteditable="false" data-primary="" data-startref="ix_statement_flow_control" data-type="indexterm" id="idm45922808674744"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Including Code"><div class="sect1" id="including_code">
<h1>Including Code</h1>

<p><a contenteditable="false" data-primary="HTML" data-secondary="loading from another module" data-type="indexterm" id="ix_html_loading_module"/><a contenteditable="false" data-primary="files" data-secondary="including" data-type="indexterm" id="ix_files_include"/><a contenteditable="false" data-primary="PHP" data-secondary="loading from another module" data-type="indexterm" id="ix_php_loading_module"/>PHP provides two constructs to load code and HTML from another module: <a contenteditable="false" data-primary="require keyword" data-type="indexterm" id="ix_require_keyword"/><code>require</code> and <a contenteditable="false" data-primary="include keyword" data-type="indexterm" id="ix_include_keyword"/><code>include</code>. Both load a file as the PHP script runs, work in conditionals and loops, and complain if the file being loaded cannot be found. Files are located by an included file path as part of the directive in the use of the function, or based on the setting of <code>include_path</code> in the <em>php.ini</em> file. The <code>include_path</code> can be overridden by the <code>set_include_path()</code> function. If all these avenues fail, PHP’s last attempt is to try to find the file in the same directory as the calling script. The main difference is that attempting to <code>require</code> a nonexistent file is a fatal error, while attempting to <code>include</code> such a file produces a warning but does not stop script execution.</p>

<p>A common use of <code>include</code> is to separate page-specific content from general site design. Common elements such as headers and footers go in separate HTML files, and each page then looks like:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code><code> </code><code class="k">include</code><code> </code><code class="s2">"</code><code class="s2">header.html</code><code class="s2">"</code><code class="p">;</code><code> </code><code class="cp">?&gt;</code><code>
</code><em><code>content</code></em><code>
</code><code class="cp">&lt;?php</code><code> </code><code class="k">include</code><code> </code><code class="s2">"</code><code class="s2">footer.html</code><code class="s2">"</code><code class="p">;</code><code> </code><code class="cp">?&gt;</code></pre>

<p>We use <code>include</code> because it allows PHP to continue to process the page even if there’s an error in the site design file(s). The <code>require</code> construct is less forgiving and is more suited to loading code libraries, where the page cannot be displayed if the libraries do not load. For example:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">require</code> <code class="s2">"codelib.php"</code><code class="p">;</code>
<code class="nx">mysub</code><code class="p">();</code> <code class="c1">// defined in codelib.php</code></pre>

<p>A marginally more efficient way to handle headers and footers is to load a single file and then call functions to generate the standardized site elements:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code><code> </code><code class="k">require</code><code> </code><code class="s2">"</code><code class="s2">design.php</code><code class="s2">"</code><code class="p">;</code><code>
</code><code class="nb">header</code><code class="p">();</code><code> </code><code class="cp">?&gt;</code><code>
</code><em><code>content</code></em><code>
</code><code class="cp">&lt;?php</code><code> </code><code class="nx">footer</code><code class="p">();</code></pre>

<p>If PHP cannot parse some part of a file added by <code>include</code> or <code>require</code>, a warning is printed and execution continues. You can silence the warning by prepending the call with the <a contenteditable="false" data-primary="at sign (@)" data-secondary="silence operator" data-type="indexterm" id="idm45922808599224"/><a contenteditable="false" data-primary="@ (at sign)" data-secondary="silence operator" data-type="indexterm" id="idm45922808597848"/><a contenteditable="false" data-primary="silence operator (@)" data-type="indexterm" id="idm45922808596472"/>silence operator (<code>@</code>)—for example, <code>@include</code>.</p>

<p>If the <a contenteditable="false" data-primary="allow_url_fopen option, php.ini file" data-type="indexterm" id="idm45922808594024"/><a contenteditable="false" data-primary="php.ini file" data-secondary="allow_url_fopen option" data-type="indexterm" id="idm45922808592920"/><code>allow_url_fopen</code> option is enabled through PHP’s configuration file, <em>php.ini</em>, you can include files from a remote site by providing a URL instead of a simple local path:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">include</code> <code class="s2">"http://www.example.com/codelib.php"</code><code class="p">;</code></pre>

<p>If the filename begins with <em>http://</em>, <em>https://</em>, or <em>ftp://</em>, the file is retrieved from a remote site and loaded.</p>

<p>Files included with <code>include</code> and <code>require</code> can be arbitrarily named. Common extensions are <em>.php</em>, <em>.php5</em>, and <em>.html</em>.</p>

<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Note that remotely fetching a file that ends in <em>.php</em> from a web server that has PHP enabled fetches the <em>output</em> of that PHP script—it executes the PHP code in that file.</p>
</div>

<p>If a program uses <code>include</code> or <code>require</code> to include the same file twice (mistakenly done in a loop, for example), the file is loaded and the code is run, or the HTML is printed twice. This can result in errors about the redefinition of functions, or multiple copies of headers or HTML being sent. To prevent these errors from occurring, use the <a contenteditable="false" data-primary="include_once keyword" data-type="indexterm" id="idm45922808528312"/><code>include_once</code> and <a contenteditable="false" data-primary="require_once keyword" data-type="indexterm" id="idm45922808526792"/><code>require_once</code> constructs. They behave the same as <code>include</code> and <code>require</code> the first time a file is loaded, but quietly ignore subsequent attempts to load the same file. For example, many page elements, each stored in separate files, need to know the current user’s preferences. The element libraries should load the user preferences library with <code>require_once</code>. The page designer can then include a page element without worrying about whether the user preference code has already been loaded.</p>

<p>Code in an included file is imported at the scope that is in effect where the <code>include</code> statement is found, so the included code can see and alter your code’s variables. This can be useful—for instance, a user-tracking library might store the current user’s name in the global <code>$user</code> variable:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="c1">// main page</code>
<code class="k">include</code> <code class="s2">"userprefs.php"</code><code class="p">;</code>
<code class="k">echo</code> <code class="s2">"Hello, </code><code class="si">{</code><code class="nv">$user</code><code class="si">}</code><code class="s2">."</code><code class="p">;</code></pre>

<p>The ability of libraries to see and change your variables can also be a problem. You have to know every global variable used by a library to ensure that you don’t accidentally try to use one of them for your own purposes, thereby overwriting the library’s value and disrupting how it works.</p>

<p>If the <code>include</code> or <code>require</code> construct is in a function, the variables in the included file become function-scope variables for that function.</p>

<p>Because <code>include</code> and <code>require</code> are keywords, not real statements, you must always enclose them in curly braces in conditional and loop statements:</p>

<pre data-code-language="php" data-type="programlisting">
<code class="k">for</code> <code class="p">(</code><code class="nv">$i</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code> <code class="nv">$i</code> <code class="o">&lt;</code> <code class="mi">10</code><code class="p">;</code> <code class="nv">$i</code><code class="o">++</code><code class="p">)</code> <code class="p">{</code>
 <code class="k">include</code> <code class="s2">"repeated_element.html"</code><code class="p">;</code>
<code class="p">}</code></pre>

<p>Use the <a contenteditable="false" data-primary="get_included_files function" data-type="indexterm" id="idm45922808506760"/><code>get_included_files()</code> function to learn which files your script has included or required. It returns an array containing the full system path filenames of each included or required file. Files that did not parse are not included in this array.<a contenteditable="false" data-primary="" data-startref="ix_php_loading_module" data-type="indexterm" id="idm45922808505128"/><a contenteditable="false" data-primary="" data-startref="ix_require_keyword" data-type="indexterm" id="idm45922808488296"/><a contenteditable="false" data-primary="" data-startref="ix_include_keyword" data-type="indexterm" id="idm45922808486920"/><a contenteditable="false" data-primary="" data-startref="ix_files_include" data-type="indexterm" id="idm45922808485544"/><a contenteditable="false" data-primary="" data-startref="ix_html_loading_module" data-type="indexterm" id="idm45922808484168"/></p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Embedding PHP in Web Pages"><div class="sect1" id="embedding_php_in_web_pages">
<h1>Embedding PHP in Web Pages</h1>

<p><a contenteditable="false" data-primary="web pages" data-secondary="embedding PHP in" data-type="indexterm" id="ix_webpage_embedphp"/><a contenteditable="false" data-primary="XML (Extensible Markup Language)" data-secondary="embedding PHP code in" data-type="indexterm" id="ix_xml_embedphp"/><a contenteditable="false" data-primary="PHP" data-secondary="embedding in web pages" data-type="indexterm" id="ix_php_embedhtml"/><a contenteditable="false" data-primary="HTML" data-secondary="embedding PHP code in" data-type="indexterm" id="ix_html_embedphp"/>Although it is possible to write and run standalone PHP programs, most PHP code is embedded in HTML or XML files. This is, after all, why it was created in the first place. Processing such documents involves replacing each chunk of PHP source code with the output it produces when executed.</p>

<p>Because a single file usually contains PHP and non-PHP source code, we need a way to identify the regions of PHP code to be executed. PHP provides four different ways to do this.</p>

<p>As you’ll see, the first, and preferred, method looks like XML. The second method looks like SGML. The third method is based on ASP tags. <a contenteditable="false" data-primary="script style of embedding PHP" data-type="indexterm" id="idm45922808473352"/>The fourth method uses the standard HTML <a contenteditable="false" data-primary="&lt;script&gt; tag" data-primary-sortas="script tag" data-type="indexterm" id="idm45922808472152"/><code>&lt;script&gt;</code> tag; this makes it easy to edit pages with enabled PHP using a regular HTML editor.</p>

<section data-type="sect2" data-pdf-bookmark="Standard (XML) Style"><div class="sect2" id="standard_left_parenthesisxmlright_paren">
<h2>Standard (XML) Style</h2>

<p><a contenteditable="false" data-primary="XML style of embedding PHP" data-type="indexterm" id="ix_xml_style_embedphp"/>Because of the advent of the eXtensible Markup Language (XML) and the migration of HTML to an XML language (XHTML), the currently preferred technique for embedding PHP uses XML-compliant tags to denote PHP instructions.</p>

<p>Coming up with tags to demark PHP commands in XML was easy, because XML allows the definition of new tags. To use this style, surround your PHP code with <a contenteditable="false" data-primary="&lt;?php…?&gt; tag, enclosing PHP code" data-type="indexterm" id="idm45922808443752"/><a contenteditable="false" data-primary="&lt;?php…?&gt; tag, enclosing PHP code" data-primary-sortas="php tag" data-type="indexterm" id="idm45922808442632"/><span class="keep-together"><code>&lt;?php</code></span> and <code>?&gt;</code>. Everything between these markers is interpreted as PHP, and anything outside the markers is not. Although it is not necessary to include spaces between the markers and the enclosed text, doing so improves readability. For example, to get PHP to print “Hello, world,” you can insert the following line in a web page:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="s2">"Hello, world"</code><code class="p">;</code> <code class="cp">?&gt;</code></pre>

<p>The trailing semicolon on the statement is optional, because the end of the block also forces the end of the expression. Embedded in a complete HTML file, this looks like:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;!doctype html&gt;</code>
<code class="nt">&lt;html&gt;</code>
<code class="nt">&lt;head&gt;</code>
 <code class="nt">&lt;title&gt;</code>This is my first PHP program!<code class="nt">&lt;/title&gt;</code>
<code class="nt">&lt;/head&gt;</code>

<code class="nt">&lt;body&gt;</code>
<code class="nt">&lt;p&gt;</code>
 Look, ma! It's my first PHP program:<code class="nt">&lt;br</code> <code class="nt">/&gt;</code>
 <code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="s2">"Hello, world"</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="nt">&lt;br</code> <code class="nt">/&gt;</code>
 How cool is that?
<code class="nt">&lt;/p&gt;</code>
<code class="nt">&lt;/body&gt;</code>

<code class="nt">&lt;/html&gt;</code></pre>

<p>Of course, this isn’t very exciting—we could have done it without PHP. The real value of PHP comes when we put dynamic information from sources such as databases and form values into the web page. That’s for a later chapter, though. Let’s get back to our “Hello, world” example. When a user visits this page and views its source, it looks like this:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;!doctype html&gt;</code>
<code class="nt">&lt;html&gt;</code>
<code class="nt">&lt;head&gt;</code>
 <code class="nt">&lt;title&gt;</code>This is my first PHP program!<code class="nt">&lt;/title&gt;</code>
<code class="nt">&lt;/head&gt;</code>

<code class="nt">&lt;body&gt;</code>
<code class="nt">&lt;p&gt;</code>
 Look, ma! It's my first PHP program:<code class="nt">&lt;br</code> <code class="nt">/&gt;</code>
 Hello, world!<code class="nt">&lt;br</code> <code class="nt">/&gt;</code>
 How cool is that?
<code class="nt">&lt;/p&gt;</code>
<code class="nt">&lt;/body&gt;</code>

<code class="nt">&lt;/html&gt;</code></pre>

<p>Notice that there’s no trace of the PHP source code from the original file. The user sees only its output.</p>

<p>Also notice that we switched between PHP and non-PHP, all in the space of a single line. PHP instructions can be put anywhere in a file, even within valid HTML tags. For example:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">"text"</code> <code class="na">name=</code><code class="s">"first_name"</code> <code class="na">value=</code><code class="s">"</code><code class="cp">&lt;?php</code> <code class="k">echo</code> <code class="s2">"Peter"</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="s">"</code> <code class="nt">/&gt;</code></pre>

<p>When PHP is done with this text, it will read:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">"text"</code> <code class="na">name=</code><code class="s">"first_name"</code> <code class="na">value=</code><code class="s">"Peter"</code> <code class="nt">/&gt;</code></pre>

<p>The PHP code within the opening and closing markers does not have to be on the same line. If the closing marker of a PHP instruction is the last thing on a line, the line break following the closing tag is removed as well. Thus, we can replace the PHP instructions in the “Hello, world” example with:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?php</code>
<code class="k">echo</code> <code class="s2">"Hello, world"</code><code class="p">;</code> <code class="cp">?&gt;</code>
<code class="nt">&lt;br</code> <code class="nt">/&gt;</code></pre>

<p>with no change in the resulting HTML.<a contenteditable="false" data-primary="" data-startref="ix_xml_style_embedphp" data-type="indexterm" id="idm45922808258408"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="SGML Style"><div class="sect2" id="sgml_style">
<h2>SGML Style</h2>

<p><a contenteditable="false" data-primary="SGML style of embedding PHP" data-type="indexterm" id="idm45922808255512"/>Another style of embedding PHP comes from SGML instruction processing tags. <a contenteditable="false" data-primary="&lt;?…?&gt; SGML short tags" data-type="indexterm" id="idm45922808282856"/>To use this method, simply enclose the PHP in <code>&lt;?</code> and <code>?&gt;</code>. Here’s the “Hello, world” example again:</p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="cp">&lt;?</code> <code class="k">echo</code> <code class="s2">"Hello, world"</code><code class="p">;</code> <code class="cp">?&gt;</code></pre>

<p>This style, known as <a contenteditable="false" data-primary="short tags" data-type="indexterm" id="idm45922808278648"/><em>short tags</em>, is off by default. You can turn on support for short tags by building PHP with the <code>--enable-short-tags</code> option, or enable <code>short_open_tag</code> in the PHP configuration file. This is discouraged as it depends on the state of this setting; if you export your code to another platform, it may or may not work.</p>

<p>The short echo tag, <code>&lt;?= ... ?&gt;</code>, is available regardless of the availability of short tags.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Echoing Content Directly"><div class="sect2" id="echoing_content_directly">
<h2>Echoing Content Directly</h2>

<p><a contenteditable="false" data-primary="HTML" data-secondary="echoing PHP content in" data-type="indexterm" id="idm45922808177256"/>Perhaps the single most common operation within a PHP application is displaying data to the user. In the context of a web application, this means inserting into the HTML document information that will become HTML when viewed by the user.</p>

<p>To simplify this operation, PHP provides a special version of the SGML tags that automatically take the value inside the tag and insert it into the HTML page. To use this feature, add an equals sign (<code>=</code>) to the opening tag. With this technique, we can rewrite our form example as:<a contenteditable="false" data-primary="" data-startref="ix_html_embedphp" data-type="indexterm" id="idm45922808212424"/><a contenteditable="false" data-primary="" data-startref="ix_php_embedhtml" data-type="indexterm" id="idm45922808211048"/><a contenteditable="false" data-primary="" data-startref="ix_xml_embedphp" data-type="indexterm" id="idm45922808209672"/><a contenteditable="false" data-primary="" data-startref="ix_webpage_embedphp" data-type="indexterm" id="idm45922808208296"/></p>

<pre data-code-language="html+php" data-type="programlisting">
<code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">"text"</code> <code class="na">name=</code><code class="s">"first_name"</code> <code class="na">value=</code><code class="s">"</code><code class="cp">&lt;?</code><code class="o">=</code> <code class="s2">"Dawn"</code><code class="p">;</code> <code class="cp">?&gt;</code><code class="s">"</code><code class="nt">&gt;</code></pre>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="What’s Next"><div class="sect1" id="whatapostrophes_next">
<h1>What’s Next</h1>

<p>Now that you have the basics of the language under your belt—a foundational understanding of what variables are and how to name them, what data types are, and how code flow control works—we will move on to some finer details of the PHP language. Next we’ll cover three topics that are so important to PHP that they each have their own dedicated chapters: how to define functions (<a data-type="xref" href="ch03.xhtml#functions">Chapter 3</a>), manipulate strings (<a data-type="xref" href="ch04.xhtml#strings">Chapter 4</a>), and manage arrays (<a data-type="xref" href="ch05.xhtml#array">Chapter 5</a>).</p>
</div></section>
<div data-type="footnotes"><p data-type="footnote" id="ch02fn1"><sup><a href="ch02.xhtml#ch02fn1-marker">1</a></sup> It is actually 3 if you are looking at the reference count from the C API, but for the purposes of this explanation and from a user-space perspective, it is easier to think of it as 2.</p><p data-type="footnote" id="ch02fn2"><sup><a href="ch02.xhtml#ch02fn2-marker">2</a></sup> Here’s a tip: split the binary number into three groups—6 is binary 110, 5 is binary 101, and 1 is binary 001; thus, 0651 is 110101001.</p></div></div></section></div>



  </body></html>