<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 16. JavaScript Functions, Objects, and Arrays" class="calibre4"><div class="preface" id="javascript_functionscomma_objectscomma_a">
<h1 class="calibre10"><span class="keep-together">Chapter 16. </span>JavaScript Functions, Objects, and Arrays</h1>

<p class="author1">Just like PHP, JavaScript offers access to functions and objects. In fact, JavaScript is actually based on objects, because—as you’ve seen—it has to access the DOM, which makes every element of an HTML document available to manipulate as an object.</p>

<p class="author1">The usage and syntax are also quite similar to those of PHP, so you should feel right at home as I take you through using functions and objects in JavaScript, as well as through an in-depth exploration of array handling.</p>

<section data-type="sect1" data-pdf-bookmark="JavaScript Functions" class="calibre4"><div class="preface" id="javascript_functions">
<h1 class="calibre11">JavaScript Functions</h1>

<p class="author1">In addition to having<a contenteditable="false" data-primary="JavaScript" data-secondary="functions in" data-type="indexterm" id="JSfunc15" class="calibre6"/> access to dozens of built-in functions (or methods), such as <code class="calibre15">write</code>, which you have already seen being used in <code class="calibre15">document.write</code>, you can easily create your own functions. Whenever you have a relatively complex piece of code that is likely to be reused, you have a candidate for a function.</p>

<section data-type="sect2" data-pdf-bookmark="Defining a Function" class="calibre4"><div class="preface" id="defining_a_function-id00086">
<h2 class="calibre28">Defining a Function</h2>

<p class="author1">The<a contenteditable="false" data-primary="functions (JavaScript)" data-secondary="defining" data-type="indexterm" id="idm45694701825224" class="calibre6"/> general syntax for a function is shown here:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">function</code><code class="calibre15"> </code><em class="calibre30"><code class="nx">function_name</code></em><code class="p">(</code><code class="p">[</code><em class="calibre30"><code class="nx">parameter</code></em><code class="calibre15"> </code><code class="p">[</code><code class="p">,</code><code class="calibre15"> </code><code class="p">...</code><code class="p">]</code><code class="p">]</code><code class="p">)</code><code class="calibre15">
</code><code class="p">{</code><code class="calibre15">
  </code><em class="calibre30"><code class="nx">statements</code></em><code class="calibre15">
</code><code class="p">}</code></pre>

<p class="author1">The first line of the syntax indicates the following:</p>

<ul class="printings">
	<li class="calibre9">
	<p class="author1">A definition starts with the word <code class="calibre15">function</code>.</p>
	</li>
	<li class="calibre9">
	<p class="author1">A name follows that must start with a letter or underscore, followed by any number of letters, digits, dollar signs, or underscores.</p>
	</li>
	<li class="calibre9">
	<p class="author1">The parentheses are required.</p>
	</li>
	<li class="calibre9">
	<p class="author1">One or more parameters, separated by commas, are optional (indicated by the square brackets, which are not part of the function syntax).</p>
	</li>
</ul>

<p class="author1">Function names are case-sensitive, so all of the following strings refer to different functions: <code class="calibre15">getInput</code>, <code class="calibre15">GETINPUT</code>, and <code class="calibre15">getinput</code>.</p>

<p class="author1">In JavaScript there is a general naming convention for functions: the first letter of each word in a name is capitalized, except for the very first letter, which is lowercase. Therefore, of the previous examples, <code class="calibre15">getInput</code> would be the preferred name used by most programmers. This<a contenteditable="false" data-primary="bumpyCaps/bumpyCase" data-type="indexterm" id="idm45694701792008" class="calibre6"/><a contenteditable="false" data-primary="camelCase" data-type="indexterm" id="idm45694701777032" class="calibre6"/> convention is commonly referred to as <em class="hyperlink">bumpyCaps</em>, <em class="hyperlink">bumpyCase</em>, or (most frequently) <em class="hyperlink">camelCase</em>.</p>

<p class="author1">The opening curly brace starts the statements that will execute when you call the function; a matching curly brace must close it. These<a contenteditable="false" data-primary="return statements" data-secondary="in JavaScript" data-type="indexterm" id="idm45694701774376" class="calibre6"/> statements may include one or more <code class="calibre15">return</code> statements, which force the function to cease execution and return to the calling code. If a value is attached to the <code class="calibre15">return</code> statement, the calling code can retrieve it.</p>

<section data-type="sect3" data-pdf-bookmark="The arguments array" class="calibre4"><div class="preface" id="arguments_array">
<h3 class="calibre43">The <code class="calibre15">arguments</code> array</h3>

<p class="author1">The <code class="calibre15">arguments</code> array<a contenteditable="false" data-primary="arguments array, in JavaScript" data-type="indexterm" id="idm45694701769464" class="calibre6"/> is a member of every function. With it, you can determine the number of variables passed to a function and what they are. Take the example of a function called <code class="calibre15">displayItems</code>. <a data-type="xref" href="#defining_a_function-id00087" class="calibre6">Example 16-1</a> shows one way of writing it.</p>

<div data-type="example" id="defining_a_function-id00087" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-1. </span>Defining a function</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">displayItems</code><code class="p">(</code><code class="s">"Dog"</code><code class="p">,</code> <code class="s">"Cat"</code><code class="p">,</code> <code class="s">"Pony"</code><code class="p">,</code> <code class="s">"Hamster"</code><code class="p">,</code> <code class="s">"Tortoise"</code><code class="p">)</code>

  <code class="k">function</code> <code class="n">displayItems</code><code class="p">(</code><code class="n">v1</code><code class="p">,</code> <code class="n">v2</code><code class="p">,</code> <code class="n">v3</code><code class="p">,</code> <code class="n">v4</code><code class="p">,</code> <code class="n">v5</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">v1</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">v2</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">v3</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">v4</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">v5</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">When you call up this script in your browser, it will display the following:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Dog</strong>
<strong class="calibre31">Cat</strong>
<strong class="calibre31">Pony</strong>
<strong class="calibre31">Hamster</strong>
<strong class="calibre31">Tortoise</strong></pre>

<p class="author1">All of this is fine, but what if you wanted to pass more than five items to the function? Also, reusing the <code class="calibre15">document.write</code> call multiple times instead of employing a loop is wasteful programming. Luckily, the <code class="calibre15">arguments</code> array gives you the flexibility to handle a variable number of arguments. <a data-type="xref" href="#modifying_the_function_to_use_the_argume" class="calibre6">Example 16-2</a> shows how you can use it to rewrite the previous example in a much more efficient manner.</p>

<div data-type="example" id="modifying_the_function_to_use_the_argume" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-2. </span>Modifying the function to use the <code class="calibre15">arguments</code> array</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">let</code> <code class="n">c</code> <code class="o">=</code> <code class="s">"Car"</code>

  <code class="n">displayItems</code><code class="p">(</code><code class="s">"Bananas"</code><code class="p">,</code> <code class="mi">32.3</code><code class="p">,</code> <code class="n">c</code><code class="p">)</code>

  <code class="k">function</code> <code class="n">displayItems</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="n">displayItems</code><code class="p">.</code><code class="n">arguments</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">displayItems</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">]</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code>
</pre>
</div>

<p class="author1">Note the use of the <code class="calibre15">length</code> property, which you already encountered in the previous chapter, and also that I reference the array <code class="calibre15">displayItems.arguments</code> using the variable <code class="calibre15">j</code> as an offset into it. I also chose to keep the function short and sweet by not surrounding the contents of the <code class="calibre15">for</code> loop in curly braces, as it contains only a single statement. Remember that the loop must stop when <code class="calibre15">j</code> is one less than <code class="calibre15">length</code>, not equal to <code class="calibre15">length</code>.</p>

<p class="author1">Using this technique, you now have a function that can take as many (or as few) arguments as you like and act on each argument as you desire.</p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Returning a Value" class="calibre4"><div class="preface" id="returning_a_value-id00088">
<h2 class="calibre28">Returning a Value</h2>

<p class="author1">Functions<a contenteditable="false" data-primary="functions (JavaScript)" data-secondary="returning values" data-type="indexterm" id="idm45694701657704" class="calibre6"/> are not used just to display things. In fact, they are mostly used to perform calculations or data manipulations and then return a result. The function <code class="calibre15">fixNames</code> in <a data-type="xref" href="#cleaning_up_a_full_name-id00089" class="calibre6">Example 16-3</a> uses the <code class="calibre15">arguments</code> array (discussed in the previous section) to take a series of strings passed to it and return them as a single string. The “fix” it performs is to convert every character in the arguments to lowercase except for the first character of each argument, which is set to a capital letter.</p>

<div data-type="example" id="cleaning_up_a_full_name-id00089" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-3. </span>Cleaning up a full name</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">fixNames</code><code class="p">(</code><code class="s">"the"</code><code class="p">,</code> <code class="s">"DALLAS"</code><code class="p">,</code> <code class="s">"CowBoys"</code><code class="p">))</code>

  <code class="k">function</code> <code class="n">fixNames</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="k">var</code> <code class="n">s</code> <code class="o">=</code> <code class="s">""</code>

    <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
      <code class="n">s</code> <code class="o">+=</code> <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">charAt</code><code class="p">(</code><code class="mi">0</code><code class="p">).</code><code class="n">toUpperCase</code><code class="p">()</code> <code class="o">+</code>
           <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">substr</code><code class="p">(</code><code class="mi">1</code><code class="p">).</code><code class="n">toLowerCase</code><code class="p">()</code> <code class="o">+</code> <code class="s">" "</code>

    <code class="k">return</code> <code class="n">s</code><code class="p">.</code><code class="n">substr</code><code class="p">(</code><code class="mi">0</code><code class="p">,</code> <code class="n">s</code><code class="p">.</code><code class="n">length</code><code class="o">-</code><code class="mi">1</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">When called with the parameters <code class="calibre15">the</code>, <code class="calibre15">DALLAS</code>, and <code class="calibre15">CowBoys</code>, for example, the function returns the string <code class="calibre15">The Dallas Cowboys</code>. Let’s walk through the function.</p>

<p class="author1">It first initializes the temporary (and local) variable <code class="calibre15">s</code> to the empty string. Then a <code class="calibre15">for</code> loop iterates through each of the passed parameters, isolating the parameter’s first character using<a contenteditable="false" data-primary="charAt method (JavaScript)" data-type="indexterm" id="idm45694701435416" class="calibre6"/><a contenteditable="false" data-primary="methods" data-secondary="in JavaScript" data-type="indexterm" id="idm45694701434344" class="calibre6"/> the <code class="calibre15">charAt</code> method and converting it to uppercase with the <code class="calibre15">toUpperCase</code> method. The various methods shown in this example are all built into JavaScript and available by default.</p>

<p class="author1">Then<a contenteditable="false" data-primary="substr method (JavaScript)" data-type="indexterm" id="idm45694701431496" class="calibre6"/> the <code class="calibre15">substr</code> method is used to fetch the rest of each string, which is converted to lowercase via the <code class="calibre15">toLowerCase</code> method. A fuller version of the <code class="calibre15">substr</code> method here would specify how many characters are part of the substring as a second argument:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">substr</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="p">(</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">length</code><code class="p">)</code> <code class="o">-</code> <code class="mi">1</code> <code class="p">)</code></pre>

<p class="author1">In other words, this <code class="calibre15">substr</code> method says, “Start with the character at position 1 (the second character) and return the rest of the string (the length minus one).” As a nice touch, though, the <code class="calibre15">substr</code> method assumes that you want the rest of the string if you omit the second argument.</p>

<p class="author1">After the whole argument is converted to our desired case, a space character is added to the end, and the result is appended to the temporary variable <code class="calibre15">s</code>.</p>

<p class="author1">Finally, the <code class="calibre15">substr</code> method is used again to return the contents of the variable <code class="calibre15">s</code>, except for the final space—which is unwanted. We remove this by using <code class="calibre15">substr</code> to return the string up to, but not including, the final character.</p>

<p class="author1">This example is particularly interesting in that it illustrates the use of multiple properties and methods in a single expression, for example:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">substr</code><code class="p">(</code><code class="mi">1</code><code class="p">).</code><code class="n">toLowerCase</code><code class="p">()</code></pre>

<p class="author1">You have to interpret the statement by mentally dividing it into parts at the periods. JavaScript evaluates these elements of the statement from left to right as follows:</p>

<ol class="calibre25">
	<li class="calibre26">
	<p class="author1">Start with the name of the function itself: <code class="calibre15">fixNames</code>.</p>
	</li>
	<li class="calibre26">
	<p class="author1">Extract element <code class="calibre15">j</code> from the array <code class="calibre15">arguments</code> representing <code class="calibre15">fixNames</code> arguments.</p>
	</li>
	<li class="calibre26">
	<p class="author1">Invoke <code class="calibre15">substr</code> with a parameter of <code class="calibre15">1</code> to the extracted element. This passes all but the first character to the next section of the expression.</p>
	</li>
	<li class="calibre26">
	<p class="author1">Apply the method <code class="calibre15">toLowerCase</code> to the string that has been passed thus far.</p>
	</li>
</ol>

<p class="author1">This<a contenteditable="false" data-primary="method chaining" data-type="indexterm" id="idm45694701340520" class="calibre6"/> practice is often referred to as <em class="hyperlink">method chaining</em>. So, for example, if the string <code class="calibre15">mixedCASE</code> is passed to the example expression, it will go through the following transformations:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">mixedCASE
ixedCASE
ixedcase</strong></pre>

<p class="author1">In other words, <code class="calibre15">fixNames.arguments[j]</code> produces “mixedCASE”, then <code class="calibre15">substr(1)</code> takes “mixedCASE” and produces “ixedCASE”, and finally <code class="calibre15">toLowerCase()</code> takes “ixedCASE” and produces “ixedcase”.</p>

<p class="author1">One final reminder: the <code class="calibre15">s</code> variable created inside the function is local and therefore cannot be accessed outside the function. By returning <code class="calibre15">s</code> in the <code class="calibre15">return</code> statement, we made its value available to the caller, which could store or use it any way it wanted. But <code class="calibre15">s</code> itself disappears at the end of the function. Although we could make a function operate on global variables (and sometimes that’s necessary), it’s much better to just return the values you want to preserve and let JavaScript clean up all the other variables used by the function.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Returning an Array" class="calibre4"><div class="preface" id="returning_an_array-id00090">
<h2 class="calibre28">Returning an Array</h2>

<p class="author1">In <a data-type="xref" href="#cleaning_up_a_full_name-id00089" class="calibre6">Example 16-3</a>, the<a contenteditable="false" data-primary="functions (JavaScript)" data-secondary="returning arrays" data-type="indexterm" id="idm45694701330184" class="calibre6"/><a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="returning arrays with functions" data-type="indexterm" id="idm45694701328808" class="calibre6"/> function returned only one parameter—but what if you need to return multiple parameters? You can do this by returning an array, as in <a data-type="xref" href="#returning_an_array_of_values" class="calibre6">Example 16-4</a>.</p>

<div data-type="example" id="returning_an_array_of_values" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-4. </span>Returning an array of values</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">words</code> <code class="o">=</code> <code class="n">fixNames</code><code class="p">(</code><code class="s">"the"</code><code class="p">,</code> <code class="s">"DALLAS"</code><code class="p">,</code> <code class="s">"CowBoys"</code><code class="p">)</code>

  <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="n">words</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">words</code><code class="p">[</code><code class="n">j</code><code class="p">]</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>

  <code class="k">function</code> <code class="n">fixNames</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="k">var</code> <code class="n">s</code> <code class="o">=</code> <code class="k">new</code> <code class="nb">Array</code><code class="p">()</code>

    <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
      <code class="n">s</code><code class="p">[</code><code class="n">j</code><code class="p">]</code> <code class="o">=</code> <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">charAt</code><code class="p">(</code><code class="mi">0</code><code class="p">).</code><code class="n">toUpperCase</code><code class="p">()</code> <code class="o">+</code>
             <code class="n">fixNames</code><code class="p">.</code><code class="n">arguments</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">substr</code><code class="p">(</code><code class="mi">1</code><code class="p">).</code><code class="n">toLowerCase</code><code class="p">()</code>

  <code class="k">return</code> <code class="n">s</code>
<code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">Here the variable <code class="calibre15">words</code> is automatically defined as an array and populated with the returned result of a call to the function <code class="calibre15">fixNames</code>. Then a <code class="calibre15">for</code> loop iterates through the array and displays each member.</p>

<p class="author1">As for the <code class="calibre15">fixNames</code> function, it’s almost identical to <a data-type="xref" href="#cleaning_up_a_full_name-id00089" class="calibre6">Example 16-3</a>, except that the variable <code class="calibre15">s</code> is now an array; after each word has been processed, it is stored as an element of this array, which is returned by the <code class="calibre15">return</code> statement.</p>

<p class="author1">This<a contenteditable="false" data-primary="" data-startref="JSfunc15" data-type="indexterm" id="idm45694701207496" class="calibre6"/> function enables the extraction of individual parameters from its returned values, like the following (the output from which is simply <code class="calibre15">The Cowboys</code>):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">words</code> <code class="o">=</code> <code class="n">fixNames</code><code class="p">(</code><code class="s">"the"</code><code class="p">,</code> <code class="s">"DALLAS"</code><code class="p">,</code> <code class="s">"CowBoys"</code><code class="p">)</code>
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">words</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">+</code> <code class="s">" "</code> <code class="o">+</code> <code class="n">words</code><code class="p">[</code><code class="mi">2</code><code class="p">])</code></pre>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="JavaScript Objects" class="calibre4"><div class="preface" id="javascript_objects">
<h1 class="calibre11">JavaScript Objects</h1>

<p class="author1">A<a contenteditable="false" data-primary="JavaScript" data-secondary="objects in" data-type="indexterm" id="JSobject14" class="calibre6"/> JavaScript object is a step up from a variable, which can contain only one value at a time. In contrast, objects can contain multiple values and even functions. An object groups data together with the functions needed to manipulate it.</p>

<section data-type="sect2" data-pdf-bookmark="Declaring a Class" class="calibre4"><div class="preface" id="declaring_a_class-id00091">
<h2 class="calibre28">Declaring a Class</h2>

<p class="author1">When<a contenteditable="false" data-primary="objects (JavaScript)" data-secondary="declaring classes" data-type="indexterm" id="idm45694701171784" class="calibre6"/><a contenteditable="false" data-primary="classes" data-secondary="in JavaScript" data-type="indexterm" id="idm45694701170376" class="calibre6"/> creating a script to use objects, you need to design a composite of data and code called a <em class="hyperlink">class</em>. Each<a contenteditable="false" data-primary="instances" data-type="indexterm" id="idm45694701168344" class="calibre6"/><a contenteditable="false" data-primary="occurrences" data-type="indexterm" id="idm45694701167208" class="calibre6"/> new object based on this class is called an <em class="hyperlink">instance</em> (or <em class="hyperlink">occurrence</em>) of that class. As<a contenteditable="false" data-primary="properties (JavaScript)" data-secondary="defined" data-type="indexterm" id="idm45694701165112" class="calibre6"/> you’ve already seen, the data associated with an object is called its <em class="hyperlink">properties</em>, while the functions it uses are called <em class="hyperlink">methods</em>.</p>

<p class="author1">Let’s look at how to declare the class for an object called <code class="calibre15">User</code> that will contain details about the current user. To create the class, just write a function named after the class. This function can accept arguments (I’ll show later how it’s invoked) and can create properties and methods for objects in that class. The<a contenteditable="false" data-primary="constructors" data-secondary="in JavaScript" data-type="indexterm" id="idm45694701161672" class="calibre6"/> function is called a <em class="hyperlink">constructor</em>.</p>

<p class="author1"><a data-type="xref" href="#declaring_the_user_class_and_its_method" class="calibre6">Example 16-5</a> shows a constructor for the class <code class="calibre15">User</code> with three properties: <code class="calibre15">forename</code>, <code class="calibre15">username</code>, and <code class="calibre15">password</code>. The class also defines the method <code class="calibre15">showUser</code>.</p>

<div data-type="example" id="declaring_the_user_class_and_its_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-5. </span>Declaring the <code class="calibre15">User</code> class and its method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">User</code><code class="p">(</code><code class="n">forename</code><code class="p">,</code> <code class="n">username</code><code class="p">,</code> <code class="n">password</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">=</code> <code class="n">forename</code>
    <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">=</code> <code class="n">username</code>
    <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">=</code> <code class="n">password</code>

    <code class="k">this</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Forename: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Username: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Password: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="p">}</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The function is different from other functions we’ve seen so far in several ways:</p>

<ul class="printings">
	<li class="calibre9">
	<p class="author1">Each time the function is called, it creates a new object. Thus, you can call the same function over and over with different arguments to create users with different forenames, for example.</p>
	</li>
	<li class="calibre9">
	<p class="author1">The function refers to an object named <code class="calibre15">this</code>, which refers to the instance being created. As the example shows, the object uses the name <code class="calibre15">this</code> to set its own properties, which will be different from one <code class="calibre15">User</code> to another.</p>
	</li>
	<li class="calibre9">
	<p class="author1">A new function named <code class="calibre15">showUser</code> is created within the function. The syntax shown here is new and rather complicated, but its purpose is to tie <code class="calibre15">showUser</code> to the <code class="calibre15">User</code> class. Thus, <code class="calibre15">showUser</code> comes into being as a method of the <code class="calibre15">User</code> class.</p>
	</li>
</ul>

<p class="author1">The naming convention I have used is to keep all properties in lowercase and to use at least one uppercase character in method names, following the camelCase convention mentioned earlier in the chapter.</p>

<p class="author1"><a data-type="xref" href="#declaring_the_user_class_and_its_method" class="calibre6">Example 16-5</a> follows the recommended way to write a class constructor, which is to include methods in the constructor function. However, you can also refer to functions defined outside the constructor, as in <a data-type="xref" href="#separately_defining_a_class_and_method" class="calibre6">Example 16-6</a>.</p>

<div data-type="example" id="separately_defining_a_class_and_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-6. </span>Separately defining a class and method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">User</code><code class="p">(</code><code class="n">forename</code><code class="p">,</code> <code class="n">username</code><code class="p">,</code> <code class="n">password</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">=</code> <code class="n">forename</code>
    <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">=</code> <code class="n">username</code>
    <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">=</code> <code class="n">password</code>
    <code class="k">this</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="n">showUser</code>
  <code class="p">}</code>

  <code class="k">function</code> <code class="n">showUser</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Forename: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Username: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Password: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">I show you this form because you are certain to encounter it when perusing other programmers’ code.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Creating an Object" class="calibre4"><div class="preface" id="creating_an_object-id00092">
<h2 class="calibre28">Creating an Object</h2>

<p class="author1">To<a contenteditable="false" data-primary="objects (JavaScript)" data-secondary="creating" data-type="indexterm" id="idm45694700867352" class="calibre6"/> create an instance of the class <code class="calibre15">User</code>, you can use a statement such as the following:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">details</code> <code class="o">=</code> <code class="k">new</code> <code class="n">User</code><code class="p">(</code><code class="s">"Wolfgang"</code><code class="p">,</code> <code class="s">"w.a.mozart"</code><code class="p">,</code> <code class="s">"composer"</code><code class="p">)</code></pre>

<p class="author1">Or you can create an empty object, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">details</code> <code class="o">=</code> <code class="k">new</code> <code class="n">User</code><code class="p">()</code></pre>

<p class="author1">and then populate it later, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">details</code><code class="p">.</code><code class="n">forename</code> <code class="o">=</code> <code class="s">"Wolfgang"</code>
<code class="n">details</code><code class="p">.</code><code class="n">username</code> <code class="o">=</code> <code class="s">"w.a.mozart"</code>
<code class="n">details</code><code class="p">.</code><code class="n">password</code> <code class="o">=</code> <code class="s">"composer"</code></pre>

<p class="author1">You can also add new properties to an object, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">details</code><code class="p">.</code><code class="n">greeting</code> <code class="o">=</code> <code class="s">"Hello"</code></pre>

<p class="author1">You can verify that adding such new properties works with the following statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">details</code><code class="p">.</code><code class="n">greeting</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Accessing Objects" class="calibre4"><div class="preface" id="accessing_objects-id00093">
<h2 class="calibre28">Accessing Objects</h2>

<p class="author1">To<a contenteditable="false" data-primary="objects (JavaScript)" data-secondary="accessing" data-type="indexterm" id="idm45694700702984" class="calibre6"/> access an object, you can refer to its properties, as in the following two unrelated example statements:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">name</code> <code class="o">=</code> <code class="n">details</code><code class="p">.</code><code class="n">forename</code>
<code class="k">if</code> <code class="p">(</code><code class="n">details</code><code class="p">.</code><code class="n">username</code> <code class="o">==</code> <code class="s">"Admin"</code><code class="p">)</code> <code class="n">loginAsAdmin</code><code class="p">()</code></pre>

<p class="author1">So, to access the <code class="calibre15">showUser</code> method of an object of class <code class="calibre15">User</code>, you would use the following syntax, in which the object <code class="calibre15">details</code> has already been created and populated with data:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">details</code><code class="p">.</code><code class="n">showUser</code><code class="p">()</code></pre>

<p class="author1">Assuming the data supplied earlier, this code would display the following:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Forename: Wolfgang</strong>
<strong class="calibre31">Username: w.a.mozart</strong>
<strong class="calibre31">Password: composer</strong></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The prototype Keyword" class="calibre4"><div class="preface" id="prototype_keyword">
<h2 class="calibre28">The prototype Keyword</h2>

<p class="author1">The <code class="calibre15">prototype</code> keyword<a contenteditable="false" data-primary="objects (JavaScript)" data-secondary="prototype keyword" data-type="indexterm" id="idm45694700642760" class="calibre6"/><a contenteditable="false" data-primary="prototype keyword (JavaScript)" data-type="indexterm" id="idm45694700641352" class="calibre6"/> can save you a lot of memory. In the <code class="calibre15">User</code> class, every instance will contain the three properties and the method. Therefore, if you have one thousand of these objects in memory, the method <code class="calibre15">showUser</code> will also be replicated one thousand times. However, because the method is identical in every case, you can specify that new objects should refer to a single instance of the method instead of creating a copy of it. So, instead of using the following in a class constructor:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">this</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code></pre>

<p class="author1">you could replace it with this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code></pre>

<p class="author1"><a data-type="xref" href="#declaring_a_class_using_the_prototype_ke" class="calibre6">Example 16-7</a> shows what the new constructor would look like.</p>

<div data-type="example" id="declaring_a_class_using_the_prototype_ke" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-7. </span>Declaring a class using the <code class="calibre15">prototype</code> keyword for a method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">User</code><code class="p">(</code><code class="n">forename</code><code class="p">,</code> <code class="n">username</code><code class="p">,</code> <code class="n">password</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">=</code> <code class="n">forename</code>
    <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">=</code> <code class="n">username</code>
    <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">=</code> <code class="n">password</code>

    <code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Forename: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Username: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Password: "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">password</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
    <code class="p">}</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">This works because all functions have a <code class="calibre15">prototype</code> property, designed to hold properties and methods that are not replicated in any objects created from a class. Instead, they are passed to its objects by reference.</p>

<p class="author1">This means that you can add a <code class="calibre15">prototype</code> property or method at any time and all objects (even those already created) will inherit it, as the following statements <span class="keep-together">illustrate:</span></p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">greeting</code> <code class="o">=</code> <code class="s">"Hello"</code>
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">details</code><code class="p">.</code><code class="n">greeting</code><code class="p">)</code></pre>

<p class="author1">The first statement adds the <code class="calibre15">prototype</code> property of <code class="calibre15">greeting</code> with a value of <code class="calibre15">Hello</code> to the class <code class="calibre15">User</code>. In the second line, the object <code class="calibre15">details</code>, which has already been created, correctly displays this new property.</p>

<p class="author1">You can also add to or modify methods in a class, as the following statements <span class="keep-together">illustrate:</span></p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">showUser</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Name "</code>  <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">forename</code> <code class="o">+</code>
                 <code class="s">" User "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">username</code> <code class="o">+</code>
                 <code class="s">" Pass "</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">password</code><code class="p">)</code>
<code class="p">}</code>

<code class="n">details</code><code class="p">.</code><code class="n">showUser</code><code class="p">()</code></pre>

<p class="author1">You might add these lines to your script in a conditional statement (such as <code class="calibre15">if</code>), so they run if user activities cause you to decide you need a different <code class="calibre15">showUser</code> method. After these lines run, even if the object <code class="calibre15">details</code> has been created already, further calls to <code class="calibre15">details.showUser</code> will run the new function. The old definition of <code class="calibre15">showUser</code> has been erased.</p>

<section data-type="sect3" data-pdf-bookmark="Static methods and properties" class="calibre4"><div class="preface" id="static_methods_and_properties">
<h3 class="calibre43">Static methods and properties</h3>

<p class="author1">When<a contenteditable="false" data-primary="properties (JavaScript)" data-secondary="static" data-type="indexterm" id="idm45694700332840" class="calibre6"/><a contenteditable="false" data-primary="static methods" data-secondary="in JavaScript" data-type="indexterm" id="idm45694700331432" class="calibre6"/><a contenteditable="false" data-primary="static properties" data-secondary="in JavaScript" data-type="indexterm" id="idm45694700330056" class="calibre6"/> reading about PHP objects, you learned that classes can have static properties and methods as well as properties and methods associated with a particular instance of a class. JavaScript also supports static properties and methods, which you can conveniently store and retrieve from the class’s <code class="calibre15">prototype</code>. Thus, the following statements set and read a static string from <code class="calibre15">User</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">greeting</code> <code class="o">=</code> <code class="s">"Hello"</code>
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">User</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">greeting</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Extending JavaScript objects" class="calibre4"><div class="preface" id="extending_javascript_objects">
<h3 class="calibre43">Extending JavaScript objects</h3>

<p class="author1">The <code class="calibre15">prototype</code> keyword<a contenteditable="false" data-primary="objects (JavaScript)" data-secondary="extending" data-type="indexterm" id="idm45694700317416" class="calibre6"/> even lets you add functionality to a built-in object. For example, suppose that you would like to add the ability to replace all spaces in a string with nonbreaking spaces in order to prevent it from wrapping around. You can do this by adding a prototype method to JavaScript’s default <code class="calibre15">String</code> object definition, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">String</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">nbsp</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="n">replace</code><code class="p">(</code><code class="sr">/ /g</code><code class="p">,</code> <code class="s">'&amp;nbsp;'</code><code class="p">)</code>
<code class="p">}</code></pre>

<p class="author1">Here the <code class="calibre15">replace</code> method is used with a regular expression to find and replace all single spaces with the string <code class="calibre15">&amp;nbsp;</code>.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">If you are not already familiar with regular expressions, they are a handy means of extracting information from or manipulating strings and are fully explained in <a data-type="xref" href="ch17_split_000.xhtml#javascript_and_php_validation_and_error" class="calibre6">Chapter 17</a>. Suffice it to say that for now, you can copy and paste the preceding examples and they will work as described, illustrating the power of extending JavaScript <code class="calibre15">String</code> objects.</p>
</div>

<p class="author1">If you then enter the following command:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"The quick brown fox"</code><code class="p">.</code><code class="n">nbsp</code><code class="p">())</code></pre>

<p class="author1">it will output the string <code class="calibre15">The&amp;nbsp;quick&amp;nbsp;brown&amp;nbsp;fox</code>. Or here’s a method you can add that will trim leading and trailing spaces from a string (once again using a regular expression):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">String</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">trim</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="n">replace</code><code class="p">(</code><code class="sr">/^\s+|\s+$/g</code><code class="p">,</code> <code class="s">''</code><code class="p">)</code>
<code class="p">}</code></pre>

<p class="author1">If you issue the following statement, the output will be the string <code class="calibre15">Please trim me</code> (with the leading and trailing spaces removed):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"  Please trim me    "</code><code class="p">.</code><code class="n">trim</code><code class="p">())</code></pre>

<p class="author1">If we break down the expression into its component parts, the two <code class="calibre15">/</code> characters mark the start and end of the expression, and the final <code class="calibre15">g</code> specifies a global search. Inside the expression, the <code class="calibre15">^\s+</code> part searches for one or more whitespace characters appearing at the start of the search string, while the <code class="calibre15">\s+$</code> part searches for one or more whitespace characters at the end of the search string. The <code class="calibre15">|</code> character in the middle acts to separate the alternatives.</p>

<p class="author1">The result is that when either of these expressions matches, the match is replaced with the empty string, thus returning a trimmed version of the string without any leading or trailing whitespace.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">There is debate about whether extending objects is good or bad practice. Some programmers say that should an object later be extended to officially offer the functionality you have added, it could be implemented another way, or do something quite different to your extension, which could then cause a conflict. However, other programmers, such as the inventor of JavaScript, Brendan Eich, say that this is a perfectly acceptable practice. My take is to agree with the latter but in production code to choose extension names that are most unlikely to ever be officially used. So, for example, the <code class="calibre15">trim</code> extension could be renamed as <code class="calibre15">mytrim</code>, and the supporting code might more safely<a contenteditable="false" data-primary="" data-startref="JSobject14" data-type="indexterm" id="idm45694700149144" class="calibre6"/> be written as the following:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre45">
<code class="nb">String</code><code class="p">.</code><code class="n">prototype</code><code class="p">.</code><code class="n">mytrim</code> <code class="o">=</code> <code class="k">function</code><code class="p">()</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="n">replace</code><code class="p">(</code><code class="sr">/^\s+|\s+$/g</code><code class="p">,</code> <code class="s">''</code><code class="p">)</code>
<code class="p">}</code></pre>
</div>
</div></section>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="JavaScript Arrays" class="calibre4"><div class="preface" id="javascript_arrays">
<h1 class="calibre11">JavaScript Arrays</h1>

<p class="author1">Array<a contenteditable="false" data-primary="JavaScript" data-secondary="arrays in" data-type="indexterm" id="JSarray15" class="calibre6"/> handling in JavaScript is very similar to PHP, although the syntax is a little different. Nevertheless, given all you have already learned about arrays, this section should be relatively straightforward for you.</p>

<section class="calibre4" data-type="sect2" data-pdf-bookmark="Numeric Arrays"><div class="preface" id="numeric_arrays">
<h2 class="calibre28">Numeric Arrays</h2>

<p class="author1">To<a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="numeric" data-type="indexterm" id="idm45694700075416" class="calibre6"/><a contenteditable="false" data-primary="numeric arrays" data-secondary="in JavaScript" data-type="indexterm" id="idm45694700074008" class="calibre6"/> create a new array, use the following syntax:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">arrayname</code> <code class="o">=</code> <code class="k">new</code> <code class="nb">Array</code><code class="p">()</code></pre>

<p class="author1">Or you can use the shorthand form, as follows:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">arrayname</code> <code class="o">=</code> <code class="p">[]</code></pre>

<section data-type="sect3" data-pdf-bookmark="Assigning element values" class="calibre4"><div class="preface" id="assigning_element_values">
<h3 class="calibre43">Assigning element values</h3>

<p class="author1">In PHP, you could add a new element to an array by simply assigning it without specifying the element offset, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$arrayname</code><code class="p">[]</code> <code class="o">=</code> <code class="s">"Element 1"</code><code class="p">;</code>
<code class="n">$arrayname</code><code class="p">[]</code> <code class="o">=</code> <code class="s">"Element 2"</code><code class="p">;</code></pre>

<p class="author1">But<a contenteditable="false" data-primary="push method (JavaScript)" data-type="indexterm" id="idm45694700030584" class="calibre6"/><a contenteditable="false" data-primary="assignment" data-secondary="array element values in JavaScript" data-type="indexterm" id="idm45694700064744" class="calibre6"/> in JavaScript you use the <code class="calibre15">push</code> method to achieve the same thing, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">arrayname</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="s">"Element 1"</code><code class="p">)</code>
<code class="n">arrayname</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="s">"Element 2"</code><code class="p">)</code></pre>

<p class="author1">This allows you to keep adding items to an array without having to keep track of the number of items. When you need to know how many elements are in an array, you can use the <code class="calibre15">length</code> property, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">arrayname</code><code class="p">.</code><code class="n">length</code><code class="p">)</code></pre>

<p class="author1">Alternatively, if you wish to keep track of the element locations yourself and place them in specific locations, you can use syntax such as this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">arrayname</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">=</code> <code class="s">"Element 1"</code>
<code class="n">arrayname</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="s">"Element 2"</code></pre>

<p class="author1"><a data-type="xref" href="#creatingcomma_buildingcomma_and_printing" class="calibre6">Example 16-8</a> shows a simple script that creates an array, loads it with some values, and then displays them.</p>

<div data-type="example" id="creatingcomma_buildingcomma_and_printing" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-8. </span>Creating, building, and printing an array</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">numbers</code> <code class="o">=</code> <code class="p">[]</code>
  <code class="n">numbers</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="s">"One"</code><code class="p">)</code>
  <code class="n">numbers</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="s">"Two"</code><code class="p">)</code>
  <code class="n">numbers</code><code class="p">.</code><code class="n">push</code><code class="p">(</code><code class="s">"Three"</code><code class="p">)</code>

  <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="n">numbers</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Element "</code> <code class="o">+</code> <code class="n">j</code> <code class="o">+</code> <code class="s">" = "</code> <code class="o">+</code> <code class="n">numbers</code><code class="p">[</code><code class="n">j</code><code class="p">]</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The output from this script is as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Element 0 = One</strong>
<strong class="calibre31">Element 1 = Two</strong>
<strong class="calibre31">Element 2 = Three</strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Assignment using the Array keyword" class="calibre4"><div class="preface" id="assignment_using_the_array_keywo-id00094">
<h3 class="calibre43">Assignment using the Array keyword</h3>

<p class="author1">You<a contenteditable="false" data-primary="Array keyword (JavaScript)" data-type="indexterm" id="idm45694699797544" class="calibre6"/><a contenteditable="false" data-primary="assignment" data-secondary="using Array keyword in JavaScript" data-type="indexterm" id="idm45694699796440" class="calibre6"/> can also create an array together with some initial elements by using the <code class="calibre15">Array</code> keyword, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">numbers</code> <code class="o">=</code> <code class="nb">Array</code><code class="p">(</code><code class="s">"One"</code><code class="p">,</code> <code class="s">"Two"</code><code class="p">,</code> <code class="s">"Three"</code><code class="p">)</code></pre>

<p class="author1">There is nothing stopping you from adding more elements afterward as well.</p>

<p class="author1">You’ve now seen a couple of ways you can add items to an array, and one way of referencing them. JavaScript offers many more, which I’ll get to shortly—but first, we’ll look at another type of array.</p>
</div></section>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Associative Arrays" class="calibre4"><div class="preface" id="associative_arrays-id00095">
<h2 class="calibre28">Associative Arrays</h2>

<p class="author1">An <em class="hyperlink">associative array</em> is<a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="associative" data-type="indexterm" id="idm45694699783112" class="calibre6"/><a contenteditable="false" data-primary="associative arrays" data-secondary="in JavaScript" data-type="indexterm" id="idm45694699781704" class="calibre6"/> one in which the elements are referenced by name rather than by an integer offset. However, JavaScript doesn’t support such things. Instead, we can achieve the same result by creating an object with properties that will act the same way.</p>

<p class="author1">So, to create an “associative array,” define a block of elements within curly braces. For each element, place the key on the left and the contents on the right of a colon (<code class="calibre15">:</code>). <a data-type="xref" href="#creating_and_displaying_an_associative_a" class="calibre6">Example 16-9</a> shows how you might create an associative array to hold the contents of the “balls” section of an online sports equipment retailer.</p>

<div data-type="example" id="creating_and_displaying_an_associative_a" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-9. </span>Creating and displaying an associative array</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">balls</code> <code class="o">=</code> <code class="p">{</code><code class="s">"golf"</code><code class="o">:</code>    <code class="s">"Golf balls, 6"</code><code class="p">,</code>
           <code class="s">"tennis"</code><code class="o">:</code>  <code class="s">"Tennis balls, 3"</code><code class="p">,</code>
           <code class="s">"soccer"</code><code class="o">:</code>  <code class="s">"Soccer ball, 1"</code><code class="p">,</code>
           <code class="s">"ping"</code><code class="o">:</code>    <code class="s">"Ping Pong balls, 1 doz"</code><code class="p">}</code>

  <code class="k">for</code> <code class="p">(</code><code class="n">ball</code> <code class="k">in</code> <code class="n">balls</code><code class="p">)</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">ball</code> <code class="o">+</code> <code class="s">" = "</code> <code class="o">+</code> <code class="n">balls</code><code class="p">[</code><code class="n">ball</code><code class="p">]</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">To verify that the array has been correctly created and populated, I have used another kind of <code class="calibre15">for</code> loop using the <code class="calibre15">in</code> keyword. This creates a new variable to use only within the array (<code class="calibre15">ball</code>, in this example) and iterates through all elements of the array to the right of the <code class="calibre15">in</code> keyword (<code class="calibre15">balls</code>, in this example). The loop acts on each element of <code class="calibre15">balls</code>, placing the key value into <code class="calibre15">ball</code>.</p>

<p class="author1">Using this key value stored in <code class="calibre15">ball</code>, you can also get the value of the current element of <code class="calibre15">balls</code>. The result of calling up the example script in a browser is as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">golf = Golf balls, 6</strong>
<strong class="calibre31">tennis = Tennis balls, 3</strong>
<strong class="calibre31">soccer = Soccer ball, 1</strong>
<strong class="calibre31">ping = Ping Pong balls, 1 doz</strong></pre>

<p class="author1">To get a specific element of an associative array, you can specify a key explicitly, in the following manner (in this case, outputting the value <code class="calibre15">Soccer ball, 1</code>):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">balls</code><code class="p">[</code><code class="s">'soccer'</code><code class="p">])</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Multidimensional Arrays" class="calibre4"><div class="preface" id="multidimensional_arrays-id00096">
<h2 class="calibre28">Multidimensional Arrays</h2>

<p class="author1">To<a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="multidimensional" data-type="indexterm" id="idm45694699664168" class="calibre6"/><a contenteditable="false" data-primary="multidimensional arrays" data-secondary="in JavaScript" data-type="indexterm" id="idm45694699662760" class="calibre6"/> create a multidimensional array in JavaScript, just place arrays inside other arrays. For example, to create an array to hold the details of a two-dimensional checkerboard (8 × 8 squares), you could use the code in <a data-type="xref" href="#creating_a_multidimensional_nume-id00097" class="calibre6">Example 16-10</a>.</p>

<div data-type="example" id="creating_a_multidimensional_nume-id00097" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-10. </span>Creating a multidimensional numeric array</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">checkerboard</code> <code class="o">=</code> <code class="nb">Array</code><code class="p">(</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'o'</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">' '</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">),</code>
    <code class="nb">Array</code><code class="p">(</code><code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">,</code> <code class="s">'O'</code><code class="p">,</code> <code class="s">' '</code><code class="p">))</code>

  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"&lt;pre&gt;"</code><code class="p">)</code>

  <code class="k">for</code> <code class="p">(</code><code class="n">j</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="mi">8</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">for</code> <code class="p">(</code><code class="n">k</code> <code class="o">=</code> <code class="mi">0</code> <code class="p">;</code> <code class="n">k</code> <code class="o">&lt;</code> <code class="mi">8</code> <code class="p">;</code> <code class="o">++</code><code class="n">k</code><code class="p">)</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">checkerboard</code><code class="p">[</code><code class="n">j</code><code class="p">][</code><code class="n">k</code><code class="p">]</code> <code class="o">+</code> <code class="s">" "</code><code class="p">)</code>

    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="p">}</code>

  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"&lt;/pre&gt;"</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">In this example, the lowercase letters represent black pieces, and the uppercase white. A pair of nested <code class="calibre15">for</code> loops walks through the array and displays its contents.</p>

<p class="author1">The outer loop contains two statements, so curly braces enclose them. The inner loop then processes each square in a row, outputting the character at location <code class="calibre15">[j][k]</code>, <span class="keep-together">followed</span> by a space (to square up the printout). This loop contains a single statement, so curly braces are not required to enclose it. The <code class="calibre15">&lt;pre&gt;</code> and <code class="calibre15">&lt;/pre&gt;</code> tags ensure that the output displays correctly, like this:</p>

<pre data-programming-language="perl" class="calibre29">
  <strong class="calibre31">o   o   o   o</strong>
<strong class="calibre31">o   o   o   o</strong>
  <strong class="calibre31">o   o   o   o</strong>


<strong class="calibre31">O   O   O   O</strong>
  <strong class="calibre31">O   O   O   O</strong>
<strong class="calibre31">O   O   O   O</strong></pre>

<p class="author1">You<a contenteditable="false" data-primary="[] (square brackets)" data-secondary="accessing array elements" data-type="indexterm" id="idm45694699396184" class="calibre6"/><a contenteditable="false" data-primary="square brackets ([])" data-secondary="accessing array elements" data-type="indexterm" id="idm45694699394920" class="calibre6"/> can also directly access any element within this array by using square brackets:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">checkerboard</code><code class="p">[</code><code class="mi">7</code><code class="p">][</code><code class="mi">2</code><code class="p">])</code></pre>

<p class="author1">This statement outputs the uppercase letter <code class="calibre15">O</code>, the eighth element down and the third along—remember that array indexes start at 0, not 1.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using Array Methods" class="calibre4"><div class="preface" id="using_array_methods">
<h2 class="calibre28">Using Array Methods</h2>

<p class="author1">Given<a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="array methods" data-type="indexterm" id="idm45694699383176" class="calibre6"/><a contenteditable="false" data-primary="methods" data-secondary="in JavaScript" data-type="indexterm" id="idm45694699381768" class="calibre6"/> the power of arrays, JavaScript comes ready-made with a number of methods for manipulating them and their data. Here is a selection of the most useful ones.</p>

<section data-type="sect3" data-pdf-bookmark="some" class="calibre4"><div class="preface" id="idm45694699374840">
<h3 class="calibre43">some</h3>

<p class="author1">When<a contenteditable="false" data-primary="some function (JavaScript)" data-type="indexterm" id="idm45694699373512" class="calibre6"/> you need to know whether at least one array element matches a certain criterion, you can use the <code class="calibre15">some</code> function, which will test all the elements and automatically stop and return the required value as soon as one matches. This saves you from having to write your own code to perform such searches, like this:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">function</code> <code class="n">isBiggerThan10</code><code class="p">(</code><code class="n">element</code><code class="p">,</code> <code class="n">index</code><code class="p">,</code> <code class="n">array</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="n">element</code> <code class="o">&gt;</code> <code class="mi">10</code>
<code class="p">}</code>

<code class="n">result</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">4</code><code class="p">].</code><code class="n">some</code><code class="p">(</code><code class="n">isBiggerThan10</code><code class="p">);</code> <code class="c">// result will be false</code>
<code class="n">result</code> <code class="o">=</code> <code class="p">[</code><code class="mi">12</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">8</code><code class="p">,</code> <code class="mi">1</code><code class="p">,</code> <code class="mi">4</code><code class="p">].</code><code class="n">some</code><code class="p">(</code><code class="n">isBiggerThan10</code><code class="p">);</code> <code class="c">// result will be true</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="indexOf" class="calibre4"><div class="preface" id="indexof-array">
<h3 class="calibre43">indexOf</h3>

<p class="author1">To<a contenteditable="false" data-primary="indexOf function (JavaScript)" data-type="indexterm" id="idm45694699304632" class="calibre6"/> find out where an element can be found in an array, you can call the <code class="calibre15">indexOf</code> function on the array, which will return the offset of the located element (starting from 0), or <code class="calibre15">-1</code> if it is not found. For example, the following gives <code class="calibre15">offset</code> the value <code class="calibre15">2</code>:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="n">animals</code> <code class="o">=</code> <code class="p">[</code><code class="s">'cat'</code><code class="p">,</code> <code class="s">'dog'</code><code class="p">,</code> <code class="s">'cow'</code><code class="p">,</code> <code class="s">'horse'</code><code class="p">,</code> <code class="s">'elephant'</code><code class="p">]</code>
<code class="n">offset</code> <code class="o">=</code> <code class="n">animals</code><code class="p">.</code><code class="n">indexOf</code><code class="p">(</code><code class="s">'cow'</code><code class="p">)</code>
</pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="concat" class="calibre4"><div class="preface" id="concat">
<h3 class="calibre43">concat</h3>

<p class="author1">The <code class="calibre15">concat</code> method<a contenteditable="false" data-primary="concat method (JavaScript)" data-type="indexterm" id="idm45694699284376" class="calibre6"/> concatenates two arrays, or a series of values within an array. For example, the following code outputs <code class="calibre15">Banana,Grape,Carrot,Cabbage</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">fruit</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Banana"</code><code class="p">,</code> <code class="s">"Grape"</code><code class="p">]</code>
<code class="n">veg</code>   <code class="o">=</code> <code class="p">[</code><code class="s">"Carrot"</code><code class="p">,</code> <code class="s">"Cabbage"</code><code class="p">]</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">fruit</code><code class="p">.</code><code class="n">concat</code><code class="p">(</code><code class="n">veg</code><code class="p">))</code></pre>

<p class="author1">You can specify multiple arrays as arguments, in which case <code class="calibre15">concat</code> adds all their elements in the order that the arrays are specified.</p>

<p class="author1">Here’s another way to use <code class="calibre15">concat</code>. This time, plain values are concatenated with the array <code class="calibre15">pets</code>, which outputs <code class="calibre15">Cat,Dog,Fish,Rabbit,Hamster</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">pets</code>      <code class="o">=</code> <code class="p">[</code><code class="s">"Cat"</code><code class="p">,</code> <code class="s">"Dog"</code><code class="p">,</code> <code class="s">"Fish"</code><code class="p">]</code>
<code class="n">more_pets</code> <code class="o">=</code> <code class="n">pets</code><code class="p">.</code><code class="n">concat</code><code class="p">(</code><code class="s">"Rabbit"</code><code class="p">,</code> <code class="s">"Hamster"</code><code class="p">)</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">more_pets</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="forEach" class="calibre4"><div class="preface" id="foreach_left_parenthesisfor_non-ie_brows">
<h3 class="calibre43">forEach</h3>

<p class="author1">The <code class="calibre15">forEach</code> method<a contenteditable="false" data-primary="forEach method (JavaScript)" data-type="indexterm" id="idm45694699039368" class="calibre6"/> in JavaScript is another way of achieving functionality similar to the PHP <code class="calibre15">foreach</code> keyword. To use it, you pass it the name of a function, which will be called for each element within the array. <a data-type="xref" href="#using_the_foreach_method" class="calibre6">Example 16-11</a> shows how.</p>

<div data-type="example" id="using_the_foreach_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-11. </span>Using the <code class="calibre15">forEach</code> method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">pets</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Cat"</code><code class="p">,</code> <code class="s">"Dog"</code><code class="p">,</code> <code class="s">"Rabbit"</code><code class="p">,</code> <code class="s">"Hamster"</code><code class="p">]</code>
  <code class="n">pets</code><code class="p">.</code><code class="n">forEach</code><code class="p">(</code><code class="n">output</code><code class="p">)</code>

  <code class="k">function</code> <code class="n">output</code><code class="p">(</code><code class="n">element</code><code class="p">,</code> <code class="n">index</code><code class="p">,</code> <code class="n">array</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Element at index "</code> <code class="o">+</code> <code class="n">index</code> <code class="o">+</code> <code class="s">" has the value "</code> <code class="o">+</code>
      <code class="n">element</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">In this case, the function passed to <code class="calibre15">forEach</code> is called <code class="calibre15">output</code>. It takes three parameters: the <code class="calibre15">element</code>, its <code class="calibre15">index</code>, and the <code class="calibre15">array</code>. These can be used as required by your function. This example displays just the <code class="calibre15">element</code> and <code class="calibre15">index</code> values using the function <code class="calibre15">document.write</code>.</p>

<p class="author1">Once an array has been populated, the method is called like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">pets</code><code class="p">.</code><code class="n">forEach</code><code class="p">(</code><code class="n">output</code><code class="p">)</code></pre>

<p class="author1">This is the output:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Element at index 0 has the value Cat</strong>
<strong class="calibre31">Element at index 1 has the value Dog</strong>
<strong class="calibre31">Element at index 2 has the value Rabbit</strong>
<strong class="calibre31">Element at index 3 has the value Hamster</strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="join" class="calibre4"><div class="preface" id="join">
<h3 class="calibre43">join</h3>

<p class="author1">With the <code class="calibre15">join</code> method, you<a contenteditable="false" data-primary="join method (JavaScript)" data-type="indexterm" id="idm45694698935192" class="calibre6"/> can convert all the values in an array to strings and then join them together into one large string, placing an optional separator between them. <a data-type="xref" href="#using_the_join_method" class="calibre6">Example 16-12</a> shows three ways of using this method.</p>

<div data-type="example" id="using_the_join_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-12. </span>Using the <code class="calibre15">join</code> method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">pets</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Cat"</code><code class="p">,</code> <code class="s">"Dog"</code><code class="p">,</code> <code class="s">"Rabbit"</code><code class="p">,</code> <code class="s">"Hamster"</code><code class="p">]</code>

  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">pets</code><code class="p">.</code><code class="n">join</code><code class="p">()</code>      <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">pets</code><code class="p">.</code><code class="n">join</code><code class="p">(</code><code class="s">' '</code><code class="p">)</code>   <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">pets</code><code class="p">.</code><code class="n">join</code><code class="p">(</code><code class="s">' : '</code><code class="p">)</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">Without a parameter, <code class="calibre15">join</code> uses a comma to separate the elements; otherwise, the string passed to <code class="calibre15">join</code> is inserted between each element. The output of <a data-type="xref" href="#using_the_join_method" class="calibre6">Example 16-12</a> looks like this:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Cat,Dog,Rabbit,Hamster</strong>
<strong class="calibre31">Cat Dog Rabbit Hamster</strong>
<strong class="calibre31">Cat : Dog : Rabbit : Hamster</strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="push and pop" class="calibre4"><div class="preface" id="push_and_pop">
<h3 class="calibre43">push and pop</h3>

<p class="author1">You<a contenteditable="false" data-primary="push method (JavaScript)" data-type="indexterm" id="idm45694698823976" class="calibre6"/><a contenteditable="false" data-primary="pop method (JavaScript)" data-type="indexterm" id="idm45694698822872" class="calibre6"/> already saw how the <code class="calibre15">push</code> method can be used to insert a value into an array. The inverse method is <code class="calibre15">pop</code>. It deletes the most recently inserted element from an array and returns it. <a data-type="xref" href="#using_the_push_and_pop_methods" class="calibre6">Example 16-13</a> shows an example of its use.</p>

<div data-type="example" id="using_the_push_and_pop_methods" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-13. </span>Using the <code class="calibre15">push</code> and <code class="calibre15">pop</code> methods</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code><code class="calibre15">
  </code><strong class="calibre31"><code class="nx1">sports</code><code class="calibre17"> </code><code class="o1">=</code><code class="calibre17"> </code><code class="p1">[</code><code class="s2">"Football"</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">"Tennis"</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">"Baseball"</code><code class="p1">]</code></strong><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Start = "</code><code class="calibre15">      </code><code class="o">+</code><code class="calibre15"> </code><code class="n">sports</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15">  </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">

  </code><strong class="calibre31"><code class="nx1">sports</code><code class="p1">.</code><code class="nx1">push</code><code class="p1">(</code><code class="s2">"Hockey"</code><code class="p1">)</code></strong><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"After Push = "</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="n">sports</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15">  </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">

  </code><strong class="calibre31"><code class="nx1">removed</code><code class="calibre17"> </code><code class="o1">=</code><code class="calibre17"> </code><code class="nx1">sports</code><code class="p1">.</code><code class="nx1">pop</code><code class="p1">(</code><code class="p1">)</code></strong><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"After Pop = "</code><code class="calibre15">  </code><code class="o">+</code><code class="calibre15"> </code><code class="n">sports</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15">  </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Removed = "</code><code class="calibre15">    </code><code class="o">+</code><code class="calibre15"> </code><code class="n">removed</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
</code><code class="o">&lt;</code><code class="err">/</code><code class="err">s</code><code class="err">c</code><code class="err">r</code><code class="err">i</code><code class="err">p</code><code class="err">t</code><code class="err">&gt;</code></pre>
</div>

<p class="author1">The three main statements of this script are shown in bold type. First, the script creates an array called <code class="calibre15">sports</code> with three elements and then <code class="calibre15">push</code>es a fourth element into the array. After that, it <code class="calibre15">pop</code>s that element back off. In the process, the various current values are displayed via <code class="calibre15">document.write</code>. The script outputs the following:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Start = Football,Tennis,Baseball</strong>
<strong class="calibre31">After Push = Football,Tennis,Baseball,Hockey</strong>
<strong class="calibre31">After Pop = Football,Tennis,Baseball</strong>
<strong class="calibre31">Removed = Hockey</strong></pre>

<p class="author1">The <code class="calibre15">push</code> and <code class="calibre15">pop</code> functions are useful in situations where you need to divert from some activity to do another, and then return. For example, let’s suppose you want to put off some activities until later, while you get on with something more important now. This often happens in real life when we’re going through “to-do” lists, so let’s emulate that in code, with tasks number 2 and 5 in a list of six items being granted priority status, as in <a data-type="xref" href="#using_push_and_pop_inside_and_outside_of" class="calibre6">Example 16-14</a>.</p>

<div data-type="example" id="using_push_and_pop_inside_and_outside_of" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-14. </span>Using <code class="calibre15">push</code> and <code class="calibre15">pop</code> inside and outside of a loop</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code><code class="calibre15">
  </code><code class="n">numbers</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="p">[</code><code class="p">]</code><code class="calibre15">

  </code><code class="k">for</code><code class="calibre15"> </code><code class="p">(</code><code class="n">j</code><code class="o">=</code><code class="mi">1</code><code class="calibre15"> </code><code class="p">;</code><code class="calibre15"> </code><code class="n">j</code><code class="o">&lt;</code><code class="mi">6</code><code class="calibre15"> </code><code class="p">;</code><code class="calibre15"> </code><code class="o">++</code><code class="n">j</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="k">if</code><code class="calibre15"> </code><code class="p">(</code><code class="n">j</code><code class="calibre15"> </code><code class="o">==</code><code class="calibre15"> </code><code class="mi">2</code><code class="calibre15"> </code><code class="o">||</code><code class="calibre15"> </code><code class="n">j</code><code class="calibre15"> </code><code class="o">==</code><code class="calibre15"> </code><code class="mi">5</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Processing 'todo' #"</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="n">j</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
    </code><code class="k">else</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Putting off 'todo' #"</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="n">j</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">" until later&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
      </code><strong class="calibre31"><code class="nx1">numbers</code><code class="p1">.</code><code class="nx1">push</code><code class="p1">(</code><code class="nx1">j</code><code class="p1">)</code></strong><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">

  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"&lt;br&gt;Finished processing the priority tasks."</code><code class="p">)</code><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"&lt;br&gt;Commencing stored tasks, most recent first.&lt;br&gt;&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">

  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Now processing 'todo' #"</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">numbers</code><code class="p1">.</code><code class="nx1">pop</code><code class="p1">(</code><code class="p1">)</code></strong><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Now processing 'todo' #"</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">numbers</code><code class="p1">.</code><code class="nx1">pop</code><code class="p1">(</code><code class="p1">)</code></strong><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
  </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Now processing 'todo' #"</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">numbers</code><code class="p1">.</code><code class="nx1">pop</code><code class="p1">(</code><code class="p1">)</code></strong><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="s">"&lt;br&gt;"</code><code class="p">)</code><code class="calibre15">
</code><code class="o">&lt;</code><code class="err">/</code><code class="err">s</code><code class="err">c</code><code class="err">r</code><code class="err">i</code><code class="err">p</code><code class="err">t</code><code class="err">&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">Of course, nothing is actually getting processed here, just text being output to the browser, but you get the idea. The output from this example is as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Putting off 'todo' #1 until later
Processing 'todo' #2
Putting off 'todo' #3 until later
Putting off 'todo' #4 until later
Processing 'todo' #5

Finished processing the priority tasks.
Commencing stored tasks, most recent first.

Now processing 'todo' #4
Now processing 'todo' #3
Now processing 'todo' #1</strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="Using reverse" class="calibre4"><div class="preface" id="using_reverse">
<h3 class="calibre43">Using reverse</h3>

<p class="author1">The <code class="calibre15">reverse</code> method simply<a contenteditable="false" data-primary="reverse method (JavaScript)" data-type="indexterm" id="idm45694698447784" class="calibre6"/> reverses the order of all elements in an array. <a data-type="xref" href="#using_the_reverse_method" class="calibre6">Example 16-15</a> shows this in action.</p>

<div data-type="example" id="using_the_reverse_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-15. </span>Using the <code class="calibre15">reverse</code> method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">sports</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Football"</code><code class="p">,</code> <code class="s">"Tennis"</code><code class="p">,</code> <code class="s">"Baseball"</code><code class="p">,</code> <code class="s">"Hockey"</code><code class="p">]</code>
  <code class="n">sports</code><code class="p">.</code><code class="n">reverse</code><code class="p">()</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">sports</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The original array is modified, and the output from this script is as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Hockey,Baseball,Tennis,Football</strong></pre>
</div></section>

<section data-type="sect3" data-pdf-bookmark="sort" class="calibre4"><div class="preface" id="sort-id00098">
<h3 class="calibre43">sort</h3>

<p class="author1">With the <code class="calibre15">sort</code> method, you<a contenteditable="false" data-primary="sort method (JavaScript)" data-type="indexterm" id="idm45694698407432" class="calibre6"/> can place all the elements of an array in alphabetical order, depending on the parameters used. <a data-type="xref" href="#using_the_sort_method" class="calibre6">Example 16-16</a> shows four types of sort.</p>

<div data-type="example" id="using_the_sort_method" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 16-16. </span>Using the <code class="calibre15">sort</code> method</h5>

<pre class="calibre29" data-code-language="javascript" data-programming-language="perl">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="c">// Alphabetical sort</code>
  <code class="n">sports</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Football"</code><code class="p">,</code> <code class="s">"Tennis"</code><code class="p">,</code> <code class="s">"Baseball"</code><code class="p">,</code> <code class="s">"Hockey"</code><code class="p">]</code>
  <code class="n">sports</code><code class="p">.</code><code class="n">sort</code><code class="p">()</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">sports</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>

  <code class="c">// Reverse alphabetical sort</code>
  <code class="n">sports</code> <code class="o">=</code> <code class="p">[</code><code class="s">"Football"</code><code class="p">,</code> <code class="s">"Tennis"</code><code class="p">,</code> <code class="s">"Baseball"</code><code class="p">,</code> <code class="s">"Hockey"</code><code class="p">]</code>
  <code class="n">sports</code><code class="p">.</code><code class="n">sort</code><code class="p">().</code><code class="n">reverse</code><code class="p">()</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">sports</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>

  <code class="c">// Ascending numeric sort</code>
  <code class="n">numbers</code> <code class="o">=</code> <code class="p">[</code><code class="mi">7</code><code class="p">,</code> <code class="mi">23</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">74</code><code class="p">]</code>
  <code class="n">numbers</code><code class="p">.</code><code class="n">sort</code><code class="p">(</code><code class="k">function</code><code class="p">(</code><code class="n">a</code><code class="p">,</code><code class="n">b</code><code class="p">){</code><code class="k">return</code> <code class="n">a</code> <code class="o">-</code> <code class="n">b</code><code class="p">})</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">numbers</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>

  <code class="c">// Descending numeric sort</code>
  <code class="n">numbers</code> <code class="o">=</code> <code class="p">[</code><code class="mi">7</code><code class="p">,</code> <code class="mi">23</code><code class="p">,</code> <code class="mi">6</code><code class="p">,</code> <code class="mi">74</code><code class="p">]</code>
  <code class="n">numbers</code><code class="p">.</code><code class="n">sort</code><code class="p">(</code><code class="k">function</code><code class="p">(</code><code class="n">a</code><code class="p">,</code><code class="n">b</code><code class="p">){</code><code class="k">return</code> <code class="n">b</code> <code class="o">-</code> <code class="n">a</code><code class="p">})</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">numbers</code> <code class="o">+</code> <code class="s">"&lt;br&gt;"</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The first of the four example sections uses the default <code class="calibre15">sort</code> method to perform an <em class="hyperlink">alphabetical sort</em>, while the second uses the default <code class="calibre15">sort</code> and then applies the <code class="calibre15">reverse</code> method to get a <em class="hyperlink">reverse alphabetical sort</em>.</p>

<p class="author1">The third and fourth sections are a little more complicated; they use a function to compare the relationships between <code class="calibre15">a</code> and <code class="calibre15">b</code>. The function doesn’t have a name, because it’s used only in the sort. You have already seen the function named <code class="calibre15">function</code> used to create an anonymous function; we used it to define a method in a class (the <span class="keep-together"><code class="calibre15">showUser</code></span> method).</p>

<p class="author1">Here, <code class="calibre15">function</code> creates an anonymous function meeting the needs of the <code class="calibre15">sort</code> method. If the function returns a value greater than zero, the sort assumes that <code class="calibre15">b</code> comes before <code class="calibre15">a</code>. If the function returns a value less than zero, the sort assumes that <code class="calibre15">a</code> comes before <code class="calibre15">b</code>. The sort runs this function across all the values in the array to determine their order. (Of course, if <code class="calibre15">a</code> and <code class="calibre15">b</code> have the same value, the function returns zero and it doesn’t matter which value is first.)</p>

<p class="author1">By manipulating the value returned (<code class="calibre15">a – b</code> in contrast to <code class="calibre15">b - a</code>), the third and fourth sections of <a data-type="xref" href="#using_the_sort_method" class="calibre6">Example 16-16</a> choose between an <em class="hyperlink">ascending numerical sort</em> and a <em class="hyperlink">descending numerical sort</em>.</p>

<p class="author1">And, believe it or not, this represents the end of your introduction to JavaScript. You should now have a core knowledge of the three main technologies covered in this book. The next chapter will look at some advanced techniques used across these technologies, such as pattern matching and input validation.<a contenteditable="false" data-primary="" data-startref="JSarray15" data-type="indexterm" id="idm45694698238280" class="calibre6"/></p>
</div></section>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Questions" class="calibre4"><div class="preface" id="questions-id00099">
<h1 class="calibre11">Questions</h1>

<ol class="calibre25">
	<li class="calibre26">
	<p class="author1">Are JavaScript functions and variable names case-sensitive or case-insensitive?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you write a function that accepts and processes an unlimited number of parameters?</p>
	</li>
	<li class="calibre26">
	<p class="author1">Name a way to return multiple values from a function.</p>
	</li>
	<li class="calibre26">
	<p class="author1">When you’re defining a class, what keyword do you use to refer to the current object?</p>
	</li>
	<li class="calibre26">
	<p class="author1">Do all the methods of a class have to be defined within the class definition?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What keyword is used to create an object?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you make a property or method available to all objects in a class without replicating the property or method within the object?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you create a multidimensional array?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What syntax is used to create an associative array?</p>
	</li>
	<li class="calibre26">
	<p class="author1">Write a statement to sort an array of numbers in descending numerical order.</p>
	</li>
</ol>

<p class="author1">See <a data-type="xref" href="app01_split_015.xhtml#chapter_16_answers" class="calibre6">“Chapter 16 Answers”</a> in the <a data-type="xref" href="app01_split_000.xhtml#solutions_to_the_chapter_questions" class="calibre6">Appendix A</a> for the answers to these <span class="keep-together">questions</span>.</p>
</div></section>
</div></section></div></body></html>