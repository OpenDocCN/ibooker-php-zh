<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 14. Exploring JavaScript" class="calibre4"><div class="preface" id="exploring_javascript">
<h1 class="calibre10"><span class="keep-together">Chapter 14. </span>Exploring JavaScript</h1>

<p class="author1">JavaScript<a contenteditable="false" data-primary="JavaScript" data-secondary="benefits of" data-type="indexterm" id="idm45694707977912" class="calibre6"/> brings a dynamic functionality to your websites. Every time you see something pop up when you mouse over an item in the browser, or see new text, colors, or images appear on the page in front of your eyes, or grab an object on the page and drag it to a new location—these things are generally done through JavaScript (although CSS is getting more and more powerful and can do many of these things too). It offers effects that are not otherwise possible, because it runs inside the browser and has direct access to all the elements in a web document.</p>

<p class="author1">JavaScript<a contenteditable="false" data-primary="JavaScript" data-secondary="history of" data-type="indexterm" id="idm45694707975384" class="calibre6"/> first appeared in the Netscape Navigator browser in 1995, coinciding with the addition of support for Java technology in the browser. Because of the initial incorrect impression that JavaScript was a spin-off of Java, there has been some long-term confusion over their relationship. However, the naming was just a marketing ploy to help the new scripting language benefit from the popularity of the Java programming language.</p>

<p class="author1">JavaScript gained new power when the HTML elements of the web page got a more formal, structured definition in what is called the <em class="hyperlink">Document Object Model</em> (DOM). The DOM makes it relatively easy to add a new paragraph or focus on a piece of text and change it.</p>

<p class="author1">Because both JavaScript and PHP support much of the structured programming syntax used by the C programming language, they look very similar to each other. They are both fairly high-level languages, too. Also, they are weakly typed, so it’s easy to change a variable to a new type just by using it in a new context.</p>

<p class="author1">Now that you have learned PHP, you should find JavaScript even easier. And you’ll be glad you did, because it’s at the heart of the asynchronous communication technology that provides the fluid web frontends that (along with HTML5 features) savvy web users expect these days.</p>

<section data-type="sect1" data-pdf-bookmark="JavaScript and HTML Text" class="calibre4"><div class="preface" id="javascript_and_html_text">
<h1 class="calibre11">JavaScript and HTML Text</h1>

<p class="author1">JavaScript<a contenteditable="false" data-primary="JavaScript" data-secondary="HTML text and" data-type="indexterm" id="JStext13" class="calibre6"/><a contenteditable="false" data-primary="HTML (Hypertext Markup Language)" data-secondary="incorporating with JavaScript" data-type="indexterm" id="HTMLjava13" class="calibre6"/>  is a client-side scripting language that runs entirely inside the web browser or under <em class="hyperlink">Node.js</em>. To call it up, you place it between opening <code class="calibre15">&lt;script&gt;</code> and closing <code class="calibre15">&lt;/script&gt;</code> HTML tags. A typical “Hello World” document using JavaScript might look like <a data-type="xref" href="#quotation_markhello_worldquotation_mark" class="calibre6">Example 14-1</a>.</p>

<div data-type="example" id="quotation_markhello_worldquotation_mark" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-1. </span>“Hello World” displayed using JavaScript</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;&lt;title&gt;</code>Hello World<code class="nt">&lt;/title&gt;&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/javascript"</code><code class="nt">&gt;</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Hello World"</code><code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
    <code class="nt">&lt;noscript&gt;</code>
      Your browser doesn't support or has disabled JavaScript
    <code class="nt">&lt;/noscript&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">You may have seen web pages that use the HTML tag <code class="calibre15">&lt;script</code> <span class="keep-together"><code class="calibre15">language="javascript"&gt;</code></span>, but that usage has now been deprecated. This example uses the more recent and preferred <code class="calibre15">&lt;script type="text/javascript"&gt;</code>, or you can just use <code class="calibre15">&lt;script&gt;</code> on its own if you like.</p>
</div>

<p class="author1">Within<a contenteditable="false" data-primary="document.write function (JavaScript)" data-type="indexterm" id="idm45694707935432" class="calibre6"/> the <code class="calibre15">&lt;script&gt;</code> tags is a single line of JavaScript code that uses its equivalent of the PHP <code class="calibre15">echo</code> or <code class="calibre15">print</code> commands, <code class="calibre15">document.write</code>. As you’d expect, it simply outputs the supplied string to the current document, where it is displayed.</p>

<p class="author1">You<a contenteditable="false" data-primary="semicolons (;)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694707932024" class="calibre6"/><a contenteditable="false" data-primary="; (semicolons)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694707930616" class="calibre6"/> may also have noticed that, unlike with PHP, there is no trailing semicolon (<code class="calibre15">;</code>). This is because a newline serves the same purpose as a semicolon in JavaScript. However, if you wish to have more than one statement on a single line, you do need to place a semicolon after each command except the last one. Of course, if you wish, you can add a semicolon to the end of every statement, and your JavaScript will work fine. My personal preference is to leave out the semicolon because it’s superfluous, and I therefore also steer clear of practices that could cause issues. At the end of the day, though, the choice  may come down to the team you work in, which more often than not may require semicolons, just to be sure. So, if in doubt, just add the semicolons.</p>

<p class="author1">The other thing to note in this example is the <code class="calibre15">&lt;noscript&gt;</code> and <code class="calibre15">&lt;/noscript&gt;</code> pair of tags. These are used when you wish to offer alternative HTML to users whose browsers do not support JavaScript or who have it disabled. Using these tags is up to you, as they are not required, but you really ought to use them because it’s usually not that difficult to provide static HTML alternatives to the operations you provide using JavaScript. However, the remaining examples in this book will omit <code class="calibre15">&lt;noscript&gt;</code> tags, because we’re focusing on what you can do with JavaScript, not what you can do without it.</p>

<p class="author1">When <a data-type="xref" href="#quotation_markhello_worldquotation_mark" class="calibre6">Example 14-1</a> is loaded, a web browser with JavaScript enabled will output the following (see <a data-type="xref" href="#javascriptcomma_enabled_and_working" class="calibre6">Figure 14-1</a>):</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Hello World</strong></pre>

<figure class="calibre23"><div id="javascriptcomma_enabled_and_working" class="figure"><img alt="JavaScript, enabled and working" src="Images/pmj6_1401.png" class="calibre84"/>
<h6 class="calibre24"><span class="keep-together">Figure 14-1. </span>JavaScript, enabled and working</h6>
</div></figure>

<p class="author1">A browser with JavaScript disabled will display this message (see <a data-type="xref" href="#javascript_has_been_disabled" class="calibre6">Figure 14-2</a>):</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">Your browser doesn't support or has disabled JavaScript</strong></pre>

<figure class="calibre23"><div id="javascript_has_been_disabled" class="figure"><img alt="JavaScript has been disabled" src="Images/pmj6_1402.png" class="calibre84"/>
<h6 class="calibre24"><span class="keep-together">Figure 14-2. </span>JavaScript, disabled</h6>
</div></figure>

<section data-type="sect2" data-pdf-bookmark="Using Scripts Within a Document Head" class="calibre4"><div class="preface" id="using_scripts_within_a_document_head">
<h2 class="calibre28">Using Scripts Within a Document Head</h2>

<p class="author1">In addition to placing a script within the body of a document, you can put it in the <code class="calibre15">&lt;head&gt;</code> section, which is the ideal place if you wish to execute a script when a page loads. If you place critical code and functions there, you can also ensure that they are ready to use immediately by any other script sections in the document that rely on them.</p>

<p class="author1">Another reason for placing a script in the document head is to enable JavaScript to write things such as meta tags into the <code class="calibre15">&lt;head&gt;</code> section, because the location of your script is the part of the document it writes to by default.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Older and Nonstandard Browsers" class="calibre4"><div class="preface" id="older_and_non-standard_browsers">
<h2 class="calibre28">Older and Nonstandard Browsers</h2>

<p class="author1">If<a contenteditable="false" data-primary="HTML (Hypertext Markup Language)" data-secondary="HTML comment tags" data-type="indexterm" id="idm45694707910376" class="calibre6"/><a contenteditable="false" data-primary="browsers" data-secondary="supporting older/nonstandard" data-type="indexterm" id="idm45694707172632" class="calibre6"/> you need to support browsers that do not offer scripting (very unlikely in this day and age), you will need to use the HTML comment tags (<code class="calibre15">&lt;!--</code> and <code class="calibre15">--&gt;</code>) to prevent them from encountering script code that they should not see. <a data-type="xref" href="#quotation_markhello_worldquotation_m" class="calibre6">Example 14-2</a> shows how you add them to your script code.</p>

<div data-type="example" id="quotation_markhello_worldquotation_m" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-2. </span>The “Hello World” example modified for non-JavaScript browsers</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;html</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">Hello World</code><code class="nt">&lt;/title&gt;</code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/javascript"</code><code class="nt">&gt;</code><strong class="calibre31"><code class="c3">&lt;!--</code></strong><code class="calibre15">
      </code><code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"Hello World"</code><code class="p">)</code><code class="calibre15">
    </code><strong class="calibre31"><code class="c2">// --&gt;</code></strong><code class="c">
</code><code class="calibre15">    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">Here an opening HTML comment tag (<code class="calibre15">&lt;!--</code>) has been added directly after the opening <code class="calibre15">&lt;script&gt;</code> statement, and a closing comment tag (<code class="calibre15">// --&gt;</code>) has been added directly before the script is closed with <code class="calibre15">&lt;/script&gt;</code>.</p>

<p class="author1">The<a contenteditable="false" data-primary="/ (forward slash)" data-secondary="// in JavaScript comments" data-type="indexterm" id="idm45694707140536" class="calibre6"/><a contenteditable="false" data-primary="forward slash (/)" data-secondary="// in JavaScript comments" data-type="indexterm" id="idm45694707139160" class="calibre6"/> double forward slash (<code class="calibre15">//</code>) is used by JavaScript to indicate that the rest of the line is a comment. It is there so that browsers that <em class="hyperlink">do</em> support JavaScript will ignore the following <code class="calibre15">--&gt;</code>, but non-JavaScript browsers will ignore the preceding <code class="calibre15">//</code> and act on the <code class="calibre15">--&gt;</code> by closing the HTML comment.</p>

<p class="author1">Although the solution is a little convoluted, all you really need to remember is to use the two following lines to enclose your JavaScript when you wish to support very old or nonstandard browsers:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<strong class="calibre31"><code class="o1">&lt;</code><code class="nx1">script</code><code class="calibre17"> </code><code class="nx1">type</code><code class="o1">=</code><code class="s2">"text/javascript"</code><code class="o1">&gt;</code><code class="c3">&lt;!--</code></strong><code class="calibre15">
  </code><em class="calibre30"><code class="p2">(</code><code class="nx">Your</code><code class="calibre18"> </code><code class="nx">JavaScript</code><code class="calibre18"> </code><code class="nx">goes</code><code class="calibre18"> </code><code class="nx">here</code><code class="p2">...</code><code class="p2">)</code></em><code class="calibre15">
</code><strong class="calibre31"><code class="c2">// --&gt;
</code><code class="o1">&lt;</code><code class="si">/</code><code class="si">s</code><code class="si">c</code><code class="si">r</code><code class="si">i</code><code class="si">p</code><code class="si">t</code><code class="si">&gt;</code></strong></pre>

<p class="author1">However, the use of these comments is unnecessary for any browser released over the past several years, but you do need to be aware of this, just in case.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Including JavaScript Files" class="calibre4"><div class="preface" id="including_javascript_files">
<h2 class="calibre28">Including JavaScript Files</h2>

<p class="author1">In addition to writing JavaScript code directly in HTML documents, you can include files of JavaScript code either from your website or from anywhere on the internet. The syntax for this is as follows:</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/javascript"</code> <code class="na">src=</code><code class="s">"script.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p class="author1">Or, to pull a file in from the internet, use this (here without the <code class="calibre15">type="text/javascript"</code> as it is optional):</p>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"http://someserver.com/script.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p class="author1">As for the script files themselves, they must <em class="hyperlink">not</em> include any <code class="calibre15">&lt;script&gt;</code> or <code class="calibre15">&lt;/script&gt;</code> tags, because they are unnecessary: the browser already knows that a JavaScript file is being loaded. Putting them in the JavaScript files will cause an error.</p>

<p class="author1">Including script files is the preferred way for you to use third-party JavaScript files on your website.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">It<a contenteditable="false" data-primary="&lt;script type=&quot;text/javascript&quot;&gt; tag" data-primary-sortas="script type=&quot;text/javascript&quot;&gt; tag" data-type="indexterm" id="idm45694707041688" class="calibre6"/> is possible to leave out the <code class="calibre15">type="text/javascript"</code> parameter; all modern browsers default to assuming that the script contains JavaScript.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Debugging JavaScript Errors" class="calibre4"><div class="preface" id="debugging_javascript_errors">
<h2 class="calibre28">Debugging JavaScript Errors</h2>

<p class="author1">When<a contenteditable="false" data-primary="JavaScript" data-secondary="debugging errors" data-type="indexterm" id="idm45694707037832" class="calibre6"/><a contenteditable="false" data-primary="error handling" data-secondary="JavaScript errors" data-type="indexterm" id="idm45694707036424" class="calibre6"/><a contenteditable="false" data-primary="debugging" data-secondary="JavaScript errors" data-type="indexterm" id="idm45694707031912" class="calibre6"/><a contenteditable="false" data-primary="browsers" data-secondary="debugging JavaScript errors" data-type="indexterm" id="idm45694707030536" class="calibre6"/> you’re learning JavaScript, it’s important to be able to track typing or other coding errors. Unlike PHP, which displays error messages in the browser, JavaScript handles error messages in a way that changes according to the browser used. <a data-type="xref" href="#accessing_javascript_error_messages_in_d" class="calibre6">Table 14-1</a> lists how to access JavaScript error messages in the most commonly used browsers.</p>

<table id="accessing_javascript_error_messages_in_d" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-1. </span>Accessing JavaScript error messages in different browsers</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Browser</th>
			<th class="calibre37">How to access JavaScript error messages</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39">Apple Safari</td>
			<td class="calibre39">Open Safari and choose Safari &gt; Preferences &gt; Advanced. Then select Show Develop menu in menu bar. Choose Develop &gt; Show Error Console.</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><span class="keep-together">Google Chrome, Microsoft Edge, Mozilla Firefox, &amp; Opera</span></td>
			<td class="calibre39">Press Ctrl-Shift-J on a PC or Command-Shift-J on a Mac.</td>
		</tr>
	</tbody>
</table>

<p class="author1">Please refer to the browser developers’ documentation on their websites for full details on using them.<a contenteditable="false" data-primary="" data-startref="HTMLjava13" data-type="indexterm" id="idm45694707004392" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="JStext13" data-type="indexterm" id="idm45694707003016" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using Comments" class="calibre4"><div class="preface" id="using_comments-id00034">
<h1 class="calibre11">Using Comments</h1>

<p class="author1">Because<a contenteditable="false" data-primary="JavaScript" data-secondary="comments in" data-type="indexterm" id="idm45694706983544" class="calibre6"/><a contenteditable="false" data-primary="comments" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706982328" class="calibre6"/> of their shared inheritance from the C programming language, PHP and JavaScript have many similarities, one of which is commenting. First, there’s the single-line comment, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="c">// This is a comment</code></pre>

<p class="author1">This style uses a pair of forward slash characters (<code class="calibre15">//</code>) to inform JavaScript that everything that follows is to be ignored. You also have multiline comments, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="c">/* This is a section</code>
<code class="c">   of multiline comments</code>
<code class="c">   that will not be</code>
<code class="c">   interpreted */</code></pre>

<p class="author1">You start a multiline comment with the sequence <code class="calibre15">/*</code> and end it with <code class="calibre15">*/</code>. Just remember that you cannot nest multiline comments, so make sure that you don’t comment out large sections of code that already contain multiline comments.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Semicolons" class="calibre4"><div class="preface" id="semicolons-id00035">
<h1 class="calibre11">Semicolons</h1>

<p class="author1">Unlike<a contenteditable="false" data-primary="JavaScript" data-secondary="semicolons in" data-type="indexterm" id="idm45694706958712" class="calibre6"/><a contenteditable="false" data-primary="semicolons (;)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706957304" class="calibre6"/><a contenteditable="false" data-primary="; (semicolons)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706973992" class="calibre6"/> PHP, JavaScript generally does not require semicolons if you have only one statement on a line. Therefore, the following is valid:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">x</code> <code class="o">+=</code> <code class="mi">10</code></pre>

<p class="author1">However, when you wish to place more than one statement on a line, you must separate them with semicolons, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">x</code> <code class="o">+=</code> <code class="mi">10</code><code class="p">;</code> <code class="n">y</code> <code class="o">-=</code> <code class="mi">5</code><code class="p">;</code> <code class="n">z</code> <code class="o">=</code> <code class="mi">0</code></pre>

<p class="author1">You can normally leave the final semicolon off, because the newline terminates the final statement.</p>

<div data-type="warning" epub:type="warning" class="calibre21"><h6 class="calibre22">Warning</h6>
<p class="author1">There are exceptions to the semicolon rule. If you write JavaScript bookmarklets, or end a statement with a variable or function reference, <em class="hyperlink">and</em> the first character of the line below is a left parenthesis or bracket, you <em class="hyperlink">must</em> remember to append a semicolon or the JavaScript will fail. So, when in doubt, use a semicolon.</p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Variables" class="calibre4"><div class="preface" id="variables-id00036">
<h1 class="calibre11">Variables</h1>

<p class="author1">No<a contenteditable="false" data-primary="JavaScript" data-secondary="variables in" data-type="indexterm" id="JSvar13" class="calibre6"/> particular character identifies a variable in JavaScript as the dollar sign does in PHP. Instead, variables<a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="naming rules" data-type="indexterm" id="idm45694706881000" class="calibre6"/><a contenteditable="false" data-primary="names and naming" data-secondary="variables in JavaScript" data-type="indexterm" id="idm45694706879624" class="calibre6"/> use the following naming rules:</p>

<ul class="printings">
	<li class="calibre9">
	<p class="author1">A variable may include only the letters <code class="calibre15">a–z</code>, <code class="calibre15">A–Z</code>, <code class="calibre15">0–9</code>, the <code class="calibre15">$</code> symbol, and the underscore (<code class="calibre15">_</code>).</p>
	</li>
	<li class="calibre9">
	<p class="author1">No other characters, such as spaces or punctuation, are allowed in a variable name.</p>
	</li>
	<li class="calibre9">
	<p class="author1">The first character of a variable name can be only <code class="calibre15">a–z</code>, <code class="calibre15">A–Z</code>, <code class="calibre15">$</code>, or <code class="calibre15">_</code> (no numbers).</p>
	</li>
	<li class="calibre9">
	<p class="author1">Names are case-sensitive. <code class="calibre15">Count</code>, <code class="calibre15">count</code>, and <code class="calibre15">COUNT</code> are all different variables.</p>
	</li>
	<li class="calibre9">
	<p class="author1">There is no set limit on variable name lengths.</p>
	</li>
</ul>

<p class="author1">And yes, you’re right: a <code class="calibre15">$</code> is there in that list of allowed characters. It <em class="hyperlink">is</em> allowed by JavaScript and <em class="hyperlink">may</em> be the first character of a variable or function name. Although I don’t recommend keeping the <code class="calibre15">$</code> characters, this rule lets you port a lot of PHP code more quickly to JavaScript.</p>

<section data-type="sect2" data-pdf-bookmark="String Variables" class="calibre4"><div class="preface" id="string_variables-id00037">
<h2 class="calibre28">String Variables</h2>

<p class="author1">JavaScript<a contenteditable="false" data-primary="assignment" data-secondary="string variables in JavaScript" data-type="indexterm" id="idm45694706847208" class="calibre6"/><a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="string" data-type="indexterm" id="idm45694706845992" class="calibre6"/><a contenteditable="false" data-primary="string variables (JavaScript)" data-type="indexterm" id="idm45694706844776" class="calibre6"/> string variables should be enclosed in either<a contenteditable="false" data-primary="&quot; (quotation marks, double)" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706843672" class="calibre6"/><a contenteditable="false" data-primary="quotation marks, double (&quot;)" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706842456" class="calibre6"/><a contenteditable="false" data-primary="' (quotation marks, single)" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706841240" class="calibre6"/><a contenteditable="false" data-primary="quotation marks, single (')" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706840024" class="calibre6"/> single or double quotation marks, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">greeting</code> <code class="o">=</code> <code class="s">"Hello there"</code>
<code class="n">warning</code>  <code class="o">=</code> <code class="s">'Be careful'</code></pre>

<p class="author1">You may include a single quote within a double-quoted string or a double quote within a single-quoted string. But you must escape a quote of the same type by using the backslash character, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">greeting</code> <code class="o">=</code> <code class="s">"\"Hello there\" is a greeting"</code>
<code class="n">warning</code>  <code class="o">=</code> <code class="s">'\'Be careful\' is a warning'</code></pre>

<p class="author1">To read from a string variable, you can assign it to another one, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">newstring</code> <code class="o">=</code> <code class="n">oldstring</code></pre>

<p class="author1">or you can use it in a function, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">status</code> <code class="o">=</code> <code class="s">"All systems are working"</code>
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">status</code><code class="p">)</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Numeric Variables" class="calibre4"><div class="preface" id="numeric_variables-id00038">
<h2 class="calibre28">Numeric Variables</h2>

<p class="author1">Creating<a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="numeric" data-type="indexterm" id="idm45694706789848" class="calibre6"/><a contenteditable="false" data-primary="numeric variables" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706788440" class="calibre6"/> a numeric variable is as simple as assigning a value, like these examples:</p>

<pre data-programming-language="perl" class="calibre29">
count       = 42
temperature = 98.4</pre>

<p class="author1">Like strings, numeric variables can be read from and used in expressions and <span class="keep-together">functions.</span><a contenteditable="false" data-primary="" data-startref="JSvar13" data-type="indexterm" id="idm45694706753640" class="calibre6"/></p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Arrays" class="calibre4"><div class="preface" id="arrays-id00039">
<h2 class="calibre28">Arrays</h2>

<p class="author1">JavaScript<a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="arrays" data-type="indexterm" id="idm45694706779112" class="calibre6"/><a contenteditable="false" data-primary="arrays (JavaScript)" data-secondary="assigning values to" data-type="indexterm" id="idm45694706735624" class="calibre6"/> arrays are also very similar to those in PHP, in that an array can contain string or numeric data, as well as other arrays. To assign values to an array, use the following syntax (which in this case creates an array of strings):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">toys</code> <code class="o">=</code> <code class="p">[</code><code class="s">'bat'</code><code class="p">,</code> <code class="s">'ball'</code><code class="p">,</code> <code class="s">'whistle'</code><code class="p">,</code> <code class="s">'puzzle'</code><code class="p">,</code> <code class="s">'doll'</code><code class="p">]</code></pre>

<p class="author1">To create a multidimensional array, nest smaller arrays within a larger one. So, to create a two-dimensional array containing the colors of a single face of a scrambled Rubik’s Cube (where the colors red, green, orange, yellow, blue, and white are represented by their capitalized initial letters), you could use the following code:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">face</code> <code class="o">=</code>
<code class="p">[</code>
  <code class="p">[</code><code class="s">'R'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">,</code> <code class="s">'Y'</code><code class="p">],</code>
  <code class="p">[</code><code class="s">'W'</code><code class="p">,</code> <code class="s">'R'</code><code class="p">,</code> <code class="s">'O'</code><code class="p">],</code>
  <code class="p">[</code><code class="s">'Y'</code><code class="p">,</code> <code class="s">'W'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">]</code>
<code class="p">]</code></pre>

<p class="author1">The previous example has been formatted to make it obvious what is going on, but it could also be written like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">face</code> <code class="o">=</code> <code class="p">[[</code><code class="s">'R'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">,</code> <code class="s">'Y'</code><code class="p">],</code> <code class="p">[</code><code class="s">'W'</code><code class="p">,</code> <code class="s">'R'</code><code class="p">,</code> <code class="s">'O'</code><code class="p">],</code> <code class="p">[</code><code class="s">'Y'</code><code class="p">,</code> <code class="s">'W'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">]]</code></pre>

<p class="author1">or even like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">top</code> <code class="o">=</code> <code class="p">[</code><code class="s">'R'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">,</code> <code class="s">'Y'</code><code class="p">]</code>
<code class="n">mid</code> <code class="o">=</code> <code class="p">[</code><code class="s">'W'</code><code class="p">,</code> <code class="s">'R'</code><code class="p">,</code> <code class="s">'O'</code><code class="p">]</code>
<code class="n">bot</code> <code class="o">=</code> <code class="p">[</code><code class="s">'Y'</code><code class="p">,</code> <code class="s">'W'</code><code class="p">,</code> <code class="s">'G'</code><code class="p">]</code>

<code class="n">face</code> <code class="o">=</code> <code class="p">[</code><code class="n">top</code><code class="p">,</code> <code class="n">mid</code><code class="p">,</code> <code class="n">bot</code><code class="p">]</code></pre>

<p class="author1">To access the element two down and three along in this matrix, you would use the following (because array elements start at position 0):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">face</code><code class="p">[</code><code class="mi">1</code><code class="p">][</code><code class="mi">2</code><code class="p">])</code></pre>

<p class="author1">This statement will output the letter <code class="calibre15">O</code> for <em class="hyperlink">orange</em>.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">JavaScript arrays are powerful storage structures, so <a data-type="xref" href="ch16.xhtml#javascript_functionscomma_objectscomma_a" class="calibre6">Chapter 16</a> discusses them in much greater depth.</p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Operators" class="calibre4"><div class="preface" id="operators-id00040">
<h1 class="calibre11">Operators</h1>

<p class="author1">Operators<a contenteditable="false" data-primary="JavaScript" data-secondary="operators in" data-type="indexterm" id="JSoperat13" class="calibre6"/> in JavaScript, as in PHP, can involve mathematics, changes to strings, and comparison and logical operations (<code class="calibre15">and</code>, <code class="calibre15">or</code>, etc.). JavaScript mathematical operators look a lot like plain arithmetic—for instance, the following statement outputs <code class="calibre15">15</code>:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="mi">13</code> <code class="o">+</code> <code class="mi">2</code><code class="p">)</code></pre>

<p class="author1">The following sections teach you about the various operators.</p>

<section data-type="sect2" data-pdf-bookmark="Arithmetic Operators" class="calibre4"><div class="preface" id="arithmetic_operators-id00041">
<h2 class="calibre28">Arithmetic Operators</h2>

<p class="author1"><em class="hyperlink">Arithmetic operators</em> are<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="arithmetic" data-type="indexterm" id="idm45694706516760" class="calibre6"/><a contenteditable="false" data-primary="arithmetic operators" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706515464" class="calibre6"/><a contenteditable="false" data-primary="addition (+) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706514088" class="calibre6"/><a contenteditable="false" data-primary="+ (addition) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706512712" class="calibre6"/> used to perform<a contenteditable="false" data-primary="- (subtraction) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706466840" class="calibre6"/><a contenteditable="false" data-primary="subtraction (-) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706465576" class="calibre6"/><a contenteditable="false" data-primary="/ (division) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706464232" class="calibre6"/><a contenteditable="false" data-primary="% (modulus) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706462856" class="calibre6"/> mathematics. You<a contenteditable="false" data-primary="division (/) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706461352" class="calibre6"/><a contenteditable="false" data-primary="modulus (%) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706459944" class="calibre6"/><a contenteditable="false" data-primary="multiplication (*) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706458568" class="calibre6"/><a contenteditable="false" data-primary="* (multiplication) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706457224" class="calibre6"/> can use them for the main four operations (addition, subtraction, multiplication, and division) as well as to find the modulus (the remainder after a division) and to increment or decrement a value (see <a data-type="xref" href="#arithmetic_operators-id00042" class="calibre6">Table 14-2</a>).</p>

<table id="arithmetic_operators-id00042" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-2. </span>Arithmetic operators</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Operator</th>
			<th class="calibre37">Description</th>
			<th class="calibre37">Example</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">+</code></td>
			<td class="calibre39">Addition</td>
			<td class="calibre39"><code class="calibre48"><code class="calibre65">j</code> <strong class="calibre31"><code class="calibre50">+</code></strong> <code class="calibre65">12</code></code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">–</code></td>
			<td class="calibre39">Subtraction</td>
			<td class="calibre39"><code class="calibre48"><code class="calibre65">j</code> <strong class="calibre31"><code class="calibre50">–</code></strong> <code class="calibre65">22</code></code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">*</code></td>
			<td class="calibre39">Multiplication</td>
			<td class="calibre39"><code class="calibre48"><code class="calibre65">j</code> <strong class="calibre31"><code class="calibre50">*</code></strong> <code class="calibre65">7</code></code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">/</code></td>
			<td class="calibre39">Division</td>
			<td class="calibre39"><code class="calibre48"><code class="calibre65">j</code> <strong class="calibre31"><code class="calibre50">/</code></strong> <code class="calibre65">3.13</code></code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">%</code></td>
			<td class="calibre39">Modulus (division remainder)</td>
			<td class="calibre39"><code class="calibre48"><code class="calibre65">j</code> <strong class="calibre31"><code class="calibre50">%</code></strong> <code class="calibre65">6</code></code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">++</code></td>
			<td class="calibre39">Increment</td>
			<td class="calibre39"><code class="calibre48"><strong class="calibre31"><code class="calibre50">++</code></strong><code class="calibre65">j</code></code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">--</code></td>
			<td class="calibre39">Decrement</td>
			<td class="calibre39"><code class="calibre48"><strong class="calibre31"><code class="calibre50">--</code></strong><code class="calibre65">j</code></code></td>
		</tr>
	</tbody>
</table>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Assignment Operators" class="calibre4"><div class="preface" id="assignment_operators-id00043">
<h2 class="calibre28">Assignment Operators</h2>

<p class="author1">The <em class="hyperlink">assignment</em> <em class="hyperlink">operators</em> are<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="assignment" data-type="indexterm" id="idm45694706408888" class="calibre6"/><a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706407672" class="calibre6"/><a contenteditable="false" data-primary="assignment operators" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706406456" class="calibre6"/><a contenteditable="false" data-primary="+= (addition and assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706405240" class="calibre6"/><a contenteditable="false" data-primary="-= (subtraction and assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706404024" class="calibre6"/><a contenteditable="false" data-primary="assignment" data-secondary="setting variable type by in JavaScript" data-type="indexterm" id="idm45694706402808" class="calibre6"/> used to assign values to variables. They start with the very simple <code class="calibre15">=</code> and move on to <code class="calibre15">+=</code>, <code class="calibre15">–=</code>, and so on. The operator <code class="calibre15">+=</code> adds the value on the right side to the variable on the left, instead of totally replacing the value on the left. Thus, if <code class="calibre15">count</code> starts with the value <code class="calibre15">6</code>, the statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">count</code> <code class="o">+=</code> <code class="mi">1</code></pre>

<p class="author1">sets <code class="calibre15">count</code> to <code class="calibre15">7</code>, just like the more familiar assignment statement:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">count</code> <code class="o">=</code> <code class="n">count</code> <code class="o">+</code> <code class="mi">1</code></pre>

<p class="author1"><a data-type="xref" href="#assignment_operators-id00044" class="calibre6">Table 14-3</a> lists the various assignment operators<a contenteditable="false" data-primary="= (assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706391336" class="calibre6"/><a contenteditable="false" data-primary="*= (multiplication and assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706390088" class="calibre6"/><a contenteditable="false" data-primary="/= (division and assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706388744" class="calibre6"/><a contenteditable="false" data-primary="%= (modulus and assignment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706384328" class="calibre6"/><a contenteditable="false" data-primary="modulus and assignment (%=) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706382936" class="calibre6"/> available.</p>

<table id="assignment_operators-id00044" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-3. </span>Assignment operators</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Operator</th>
			<th class="calibre37">Example</th>
			<th class="calibre37">Equivalent to</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">=</code></strong> 99</code></td>
			<td class="calibre39"><code class="calibre48">j = 99</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">+=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">+=</code></strong> 2</code></td>
			<td class="calibre39"><code class="calibre48">j = j + 2</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">+=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31">+=</strong> 'string'</code></td>
			<td class="calibre39"><code class="calibre48">j = j + 'string'</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">–=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">–=</code></strong> 12</code></td>
			<td class="calibre39"><code class="calibre48">j = j – 12</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">*=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">*=</code></strong> 2</code></td>
			<td class="calibre39"><code class="calibre48">j = j * 2</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">/=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">/=</code></strong> 6</code></td>
			<td class="calibre39"><code class="calibre48">j = j / 6</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">%=</code></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">%=</code></strong> 7</code></td>
			<td class="calibre39"><code class="calibre48">j = j % 7</code></td>
		</tr>
	</tbody>
</table>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Comparison Operators" class="calibre4"><div class="preface" id="comparison_operators-id00045">
<h2 class="calibre28">Comparison Operators</h2>

<p class="author1"><em class="hyperlink">Comparison operators</em> are<a contenteditable="false" data-primary="comparison operators" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706317336" class="calibre6"/><a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="comparison" data-type="indexterm" id="idm45694706316120" class="calibre6"/> generally used inside a construct such as an <code class="calibre15">if</code> statement, where you need to compare two items. For example, you may wish to know whether a variable you have been incrementing has reached a specific value, or whether another variable is less than a set value, and so on (see <a data-type="xref" href="#comparison_operators-id00046" class="calibre6">Table 14-4</a>).<a contenteditable="false" data-primary="== (equality) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706313032" class="calibre6"/><a contenteditable="false" data-primary="equality (==) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706311656" class="calibre6"/><a contenteditable="false" data-primary="!= (inequality) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706310280" class="calibre6"/><a contenteditable="false" data-primary="inequality (!=) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706308936" class="calibre6"/><a contenteditable="false" data-primary="&gt; (greater than) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706307592" class="calibre6"/><a contenteditable="false" data-primary="greater than (&gt;) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706306200" class="calibre6"/><a contenteditable="false" data-primary="&lt; (less than) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706304808" class="calibre6"/><a contenteditable="false" data-primary="less than (&lt;) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706303432" class="calibre6"/><a contenteditable="false" data-primary="&gt;= (greater than or equal to) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706302056" class="calibre6"/><a contenteditable="false" data-primary="greater than or equal to (&gt;=) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706300664" class="calibre6"/><a contenteditable="false" data-primary="&lt;= (less than or equal to) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706299272" class="calibre6"/><a contenteditable="false" data-primary="less than or equal to (&lt;=) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706297880" class="calibre6"/><a contenteditable="false" data-primary="=== (identity) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706296488" class="calibre6"/><a contenteditable="false" data-primary="identity (===) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706295112" class="calibre6"/><a contenteditable="false" data-primary="!== (not identical) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706293736" class="calibre6"/><a contenteditable="false" data-primary="not identical (!==) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706292344" class="calibre6"/></p>

<table id="comparison_operators-id00046" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-4. </span>Comparison operators</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Operator</th>
			<th class="calibre37">Description</th>
			<th class="calibre37">Example</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">==</code></td>
			<td class="calibre39">Is <em class="hyperlink">equal</em> to</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31">==</strong> 42</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">!=</code></td>
			<td class="calibre39">Is <em class="hyperlink">not equal</em> to</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">!=</code></strong> 17</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">&gt;</code></td>
			<td class="calibre39">Is <em class="hyperlink">greater than</em></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">&gt;</code></strong> 0</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">&lt;</code></td>
			<td class="calibre39">Is <em class="hyperlink">less than</em></td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">&lt;</code></strong> 100</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">&gt;=</code></td>
			<td class="calibre39">Is <em class="hyperlink">greater than or equal</em> to</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">&gt;=</code></strong> 23</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">&lt;=</code></td>
			<td class="calibre39">Is <em class="hyperlink">less than or equal</em> to</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">&lt;=</code></strong> 13</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">===</code></td>
			<td class="calibre39">Is <em class="hyperlink">equal</em> to (and of the same type)</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31">===</strong> 56</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">!==</code></td>
			<td class="calibre39">Is <em class="hyperlink">not equal</em> to (and of the same type)</td>
			<td class="calibre39"><code class="calibre48">j <strong class="calibre31"><code class="calibre50">!==</code></strong> '1'</code></td>
		</tr>
	</tbody>
</table>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Logical Operators" class="calibre4"><div class="preface" id="logical_operators-id00047">
<h2 class="calibre28">Logical Operators</h2>

<p class="author1">Unlike PHP, JavaScript’s <em class="hyperlink">logical</em> <em class="hyperlink">operators</em> do<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="logical" data-type="indexterm" id="idm45694706260248" class="calibre6"/><a contenteditable="false" data-primary="logical operators" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706258840" class="calibre6"/><a contenteditable="false" data-primary="&amp;&amp; (And) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706257464" class="calibre6"/><a contenteditable="false" data-primary="And (&amp;&amp;) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706256072" class="calibre6"/><a contenteditable="false" data-primary="|| (Or) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706254680" class="calibre6"/><a contenteditable="false" data-primary="Or (||) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706253288" class="calibre6"/><a contenteditable="false" data-primary="! (Not) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706251896" class="calibre6"/><a contenteditable="false" data-primary="Not (!) logical operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706250504" class="calibre6"/> not include <code class="calibre15">and</code> and <code class="calibre15">or</code> equivalents to <code class="calibre15">&amp;&amp;</code> and <code class="calibre15">||</code>, and there is no <code class="calibre15">xor</code> operator (see <a data-type="xref" href="#logical_operators-id00048" class="calibre6">Table 14-5</a>).</p>

<table id="logical_operators-id00048" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-5. </span>Logical operators</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Operator</th>
			<th class="calibre37">Description</th>
			<th class="calibre37">Example</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">&amp;&amp;</code></td>
			<td class="calibre39">And</td>
			<td class="calibre39"><code class="calibre48">j == 1 <strong class="calibre31">&amp;&amp;</strong> k == 2</code></td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">||</code></td>
			<td class="calibre39">Or</td>
			<td class="calibre39"><code class="calibre48">j &lt; 100 <strong class="calibre31">||</strong> j &gt; 0</code></td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">!</code></td>
			<td class="calibre39">Not</td>
			<td class="calibre39"><code class="calibre48"><strong class="calibre31"><code class="calibre50">!</code></strong> (j == k)</code></td>
		</tr>
	</tbody>
</table>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Incrementing, Decrementing, and Shorthand Assignment" class="calibre4"><div class="preface" id="variable_incrementing_and_decrem-id00049">
<h2 class="calibre28">Incrementing, Decrementing, and Shorthand Assignment</h2>

<p class="author1">The<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="increment, decrement, shorthand" data-type="indexterm" id="idm45694706232936" class="calibre6"/><a contenteditable="false" data-primary="++ (increment) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706231720" class="calibre6"/><a contenteditable="false" data-primary="increment (++) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706230504" class="calibre6"/><a contenteditable="false" data-primary="-- (decrement) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706229256" class="calibre6"/><a contenteditable="false" data-primary="decrement (--) operator" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706227880" class="calibre6"/> following forms of post- and pre-incrementing and decrementing that you learned to use in PHP are also supported by JavaScript, as are shorthand assignment operators:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">++</code><code class="n">x</code>
<code class="o">--</code><code class="n">y</code>
<code class="n">x</code> <code class="o">+=</code> <code class="mi">22</code>
<code class="n">y</code> <code class="o">-=</code> <code class="mi">3</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="String Concatenation" class="calibre4"><div class="preface" id="string_concatenation-id00050">
<h2 class="calibre28">String Concatenation</h2>

<p class="author1">JavaScript<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="string concatenation" data-type="indexterm" id="idm45694706218312" class="calibre6"/><a contenteditable="false" data-primary="strings (JavaScript)" data-secondary="concatenation of" data-type="indexterm" id="idm45694706216904" class="calibre6"/><a contenteditable="false" data-primary="concatenation" data-type="indexterm" id="idm45694706215528" class="calibre6"/><a contenteditable="false" data-primary="+ (string concatenation) operator in JavaScript" data-type="indexterm" id="idm45694706214424" class="calibre6"/> handles string concatenation slightly differently from PHP. Instead of the <code class="calibre15">.</code> (period) operator, it uses the plus sign (<code class="calibre15">+</code>), like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">"You have "</code> <code class="o">+</code> <code class="n">messages</code> <code class="o">+</code> <code class="s">" messages."</code><code class="p">)</code></pre>

<p class="author1">Assuming that the variable <code class="calibre15">messages</code> is set to the value <code class="calibre15">3</code>, the output from this line of code will be as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">You have 3 messages.</strong></pre>

<p class="author1">Just as you can add a value to a numeric variable with the <code class="calibre15">+=</code> operator, you can also append one string to another the same way:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">name</code> <code class="o">=</code>  <code class="s">"James"</code>
<code class="n">name</code> <code class="o">+=</code> <code class="s">" Dean"</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Escape Characters" class="calibre4"><div class="preface" id="escaping_characters-id00051">
<h2 class="calibre28">Escape Characters</h2>

<p class="author1">Escape<a contenteditable="false" data-primary="operators (JavaScript)" data-secondary="escape characters" data-type="indexterm" id="idm45694706162088" class="calibre6"/><a contenteditable="false" data-primary="escape characters" data-secondary="in JavaScript" data-type="indexterm" id="idm45694706160680" class="calibre6"/><a contenteditable="false" data-primary="backslash (\)" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706159304" class="calibre6"/><a contenteditable="false" data-primary="\ (backslash)" data-secondary="in JavaScript strings" data-type="indexterm" id="idm45694706157928" class="calibre6"/><a contenteditable="false" data-primary="strings (JavaScript)" data-secondary="escaping characters in" data-type="indexterm" id="idm45694706156552" class="calibre6"/><a contenteditable="false" data-primary="special characters" data-type="indexterm" id="idm45694706130440" class="calibre6"/><a contenteditable="false" data-primary="strings (JavaScript)" data-secondary="special characters in" data-type="indexterm" id="idm45694706129336" class="calibre6"/> characters, which you’ve seen used to insert<a contenteditable="false" data-primary="&quot; (quotation marks, double)" data-secondary="escaping in JavaScript" data-type="indexterm" id="idm45694706127832" class="calibre6"/><a contenteditable="false" data-primary="quotation marks, double (&quot;)" data-secondary="escaping in JavaScript" data-type="indexterm" id="idm45694706126488" class="calibre6"/><a contenteditable="false" data-primary="' (quotation marks, single)" data-secondary="escaping in JavaScript" data-type="indexterm" id="idm45694706125144" class="calibre6"/><a contenteditable="false" data-primary="quotation marks, single (')" data-secondary="escaping in JavaScript" data-type="indexterm" id="idm45694706123800" class="calibre6"/> quotation marks in strings, can also be used to insert various special characters such as tabs, newlines, and carriage returns. Here is an example using tabs to lay out a heading—it is included here merely to illustrate escapes, because in web pages, there are better ways to do layout:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">heading</code> <code class="o">=</code> <code class="s">"Name\tAge\tLocation"</code></pre>

<p class="author1"><a data-type="xref" href="#javascriptapostrophes_escape_characters" class="calibre6">Table 14-6</a> details the escape characters available.<a contenteditable="false" data-primary="\n (newline) character" data-type="indexterm" id="idm45694706120984" class="calibre6"/><a contenteditable="false" data-primary="newline (\n) character" data-type="indexterm" id="idm45694706120088" class="calibre6"/><a contenteditable="false" data-primary="\r (carriage return) character" data-type="indexterm" id="idm45694706118984" class="calibre6"/><a contenteditable="false" data-primary="carriage return (\r) character" data-type="indexterm" id="idm45694706117912" class="calibre6"/><a contenteditable="false" data-primary="tab (\t) character" data-type="indexterm" id="idm45694706099624" class="calibre6"/><a contenteditable="false" data-primary="\t (tab) character" data-type="indexterm" id="idm45694706098520" class="calibre6"/></p>

<table id="javascriptapostrophes_escape_characters" class="calibre33">
	<caption class="calibre34"><span class="keep-together">Table 14-6. </span>JavaScript’s escape characters</caption>
	<thead class="calibre35">
		<tr class="calibre36">
			<th class="calibre37">Character</th>
			<th class="calibre37">Meaning</th>
		</tr>
	</thead>
	<tbody class="calibre38">
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\b</code></td>
			<td class="calibre39">Backspace</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">\f</code></td>
			<td class="calibre39">Form feed</td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\n</code></td>
			<td class="calibre39">Newline</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">\r</code></td>
			<td class="calibre39">Carriage return</td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\t</code></td>
			<td class="calibre39">Tab</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">\'</code></td>
			<td class="calibre39">Single quote (or apostrophe)</td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\"</code></td>
			<td class="calibre39">Double quote</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">\\</code></td>
			<td class="calibre39">Backslash</td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\<em class="calibre30"><code class="calibre66">XXX</code></em></code></td>
			<td class="calibre39">An octal number between <code class="calibre48">000</code> and <code class="calibre48">377</code> that represents the Latin-1 character equivalent (such as <code class="calibre48">\251</code> for the © symbol)</td>
		</tr>
		<tr class="calibre40">
			<td class="calibre39"><code class="calibre48">\x<em class="calibre30"><code class="calibre66">XX</code></em></code></td>
			<td class="calibre39">A hexadecimal number between <code class="calibre48">00</code> and <code class="calibre48">FF</code> that represents the Latin-1 character equivalent (such as <code class="calibre48">\xA9</code> for the © symbol)</td>
		</tr>
		<tr class="calibre36">
			<td class="calibre39"><code class="calibre48">\u<em class="calibre30"><code class="calibre66">XXXX</code></em></code></td>
			<td class="calibre39">A hexadecimal number between <code class="calibre48">0000</code> and <code class="calibre48">FFFF</code> that represents the Unicode character equivalent (such as <code class="calibre48">\u00A9</code> for the © symbol)<a contenteditable="false" data-primary="" data-startref="JSoperat13" data-type="indexterm" id="idm45694706050456" class="calibre6"/></td>
		</tr>
	</tbody>
</table>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Variable Typing" class="calibre4"><div class="preface" id="variable_typing-id00052">
<h1 class="calibre11">Variable Typing</h1>

<p class="author1">Like PHP, JavaScript<a contenteditable="false" data-primary="JavaScript" data-secondary="variable typing in" data-type="indexterm" id="JSvartype13" class="calibre6"/><a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="variable typing" data-type="indexterm" id="Vtype13" class="calibre6"/><a contenteditable="false" data-primary="typeof operator (JavaScript)" data-type="indexterm" id="idm45694706043864" class="calibre6"/> is a very loosely typed language; the <em class="hyperlink">type</em> of a variable is determined only when a value is assigned and can change as the variable appears in different contexts. Usually, you don’t have to worry about the type; JavaScript figures out what you want and just does it.</p>

<p class="author1">Take a look at <a data-type="xref" href="#setting_a_variableapostrophes_type_by_as" class="calibre6">Example 14-3</a>, in which:</p>

<ol class="calibre25">
	<li class="calibre26">
	<p class="author1">The variable <code class="calibre15">n</code> is assigned the string value <code class="calibre15">'838102050'</code>. The next line prints out its value, and the <code class="calibre15">typeof</code> operator is used to look up the type.</p>
	</li>
	<li class="calibre26">
	<p class="author1"><code class="calibre15">n</code> is given the value returned when the numbers <code class="calibre15">12345</code> and <code class="calibre15">67890</code> are multiplied together. This value is also <code class="calibre15">838102050</code>, but it is a number, not a string. The type of the variable is then looked up and displayed.</p>
	</li>
	<li class="calibre26">
	<p class="author1">Some text is appended to the number <code class="calibre15">n</code> and the result is displayed.</p>
	</li>
</ol>


<div data-type="example" id="setting_a_variableapostrophes_type_by_as" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-3. </span>Setting a variable’s type by assignment</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">n</code> <code class="o">=</code> <code class="s">'838102050'</code>        <code class="c">// Set 'n' to a string</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'n = '</code> <code class="o">+</code> <code class="n">n</code> <code class="o">+</code> <code class="s">', and is a '</code> <code class="o">+</code> <code class="k">typeof</code> <code class="n">n</code> <code class="o">+</code> <code class="s">'&lt;br&gt;'</code><code class="p">)</code>

  <code class="n">n</code> <code class="o">=</code> <code class="mi">12345</code> <code class="o">*</code> <code class="mi">67890</code><code class="p">;</code>     <code class="c">// Set 'n' to a number</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'n = '</code> <code class="o">+</code> <code class="n">n</code> <code class="o">+</code> <code class="s">', and is a '</code> <code class="o">+</code> <code class="k">typeof</code> <code class="n">n</code> <code class="o">+</code> <code class="s">'&lt;br&gt;'</code><code class="p">)</code>

  <code class="n">n</code> <code class="o">+=</code> <code class="s">' plus some text'</code> <code class="c">// Change 'n' from a number to a string</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'n = '</code> <code class="o">+</code> <code class="n">n</code> <code class="o">+</code> <code class="s">', and is a '</code> <code class="o">+</code> <code class="k">typeof</code> <code class="n">n</code> <code class="o">+</code> <code class="s">'&lt;br&gt;'</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The output from this script looks like this:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">n = 838102050, and is a string</strong>
<strong class="calibre31">n = 838102050, and is a number</strong>
<strong class="calibre31">n = 838102050 plus some text, and is a string</strong></pre>

<p class="author1">If there is ever any doubt about the type of a variable, or you need to ensure that a variable has a particular type, you can force it to that type by using statements such as the following (which, respectively, turn a string into a number and a number into a string):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">n</code> <code class="o">=</code> <code class="s">"123"</code>
<code class="n">n</code> <code class="o">*=</code> <code class="mi">1</code>    <code class="c">// Convert 'n' into a number</code>

<code class="n">n</code> <code class="o">=</code> <code class="mi">123</code>
<code class="n">n</code> <code class="o">+=</code> <code class="s">""</code>   <code class="c">// Convert 'n' into a string</code></pre>

<p class="author1">Or you can use  the following functions in the same way:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">n</code> <code class="o">=</code> <code class="s">"123"</code>
<code class="n">n</code> <code class="o">=</code> <code class="nb">parseInt</code><code class="p">(</code><code class="n">n</code><code class="p">)</code>   <code class="c">// Convert 'n' into an integer number</code>
<code class="n">n</code> <code class="o">=</code> <code class="nb">parseFloat</code><code class="p">(</code><code class="n">n</code><code class="p">)</code> <code class="c">// Convert 'n' into a floating point number</code>


<code class="n">n</code> <code class="o">=</code> <code class="mi">123</code>
<code class="n">n</code> <code class="o">=</code> <code class="n">n</code><code class="p">.</code><code class="n">toString</code><code class="p">()</code>  <code class="c">// Convert 'n' into a string</code></pre>

<p class="author1">You<a contenteditable="false" data-primary="JavaScript" data-secondary="type conversion" data-type="indexterm" id="idm45694705943192" class="calibre6"/><a contenteditable="false" data-primary="type conversion" data-type="indexterm" id="idm45694705852328" class="calibre6"/> can read more about type conversion in JavaScript <a href="https://javascript.info/type-conversions" class="calibre6">online.</a>. And you can always look up a variable’s type by using the <code class="calibre15">typeof</code> operator.<a contenteditable="false" data-primary="" data-startref="JSvartype13" data-type="indexterm" id="idm45694705849832" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="Vtype13" data-type="indexterm" id="idm45694705848424" class="calibre6"/></p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Functions" class="calibre4"><div class="preface" id="functions-id00053">
<h1 class="calibre11">Functions</h1>

<p class="author1">As<a contenteditable="false" data-primary="JavaScript" data-secondary="functions in" data-type="indexterm" id="idm45694705845304" class="calibre6"/><a contenteditable="false" data-primary="functions (JavaScript)" data-secondary="creating" data-type="indexterm" id="idm45694705843896" class="calibre6"/> with PHP, JavaScript functions are used to separate out sections of code that perform a particular task. To create a function, declare it in the manner shown in <a data-type="xref" href="#simple_function_declaration-id00054" class="calibre6">Example 14-4</a>.</p>

<div data-type="example" id="simple_function_declaration-id00054" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-4. </span>A simple function declaration</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">product</code><code class="p">(</code><code class="n">a</code><code class="p">,</code> <code class="n">b</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">return</code> <code class="n">a</code><code class="o">*</code><code class="n">b</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">This function takes the two parameters passed, multiplies them together, and returns the product.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Global Variables" class="calibre4"><div class="preface" id="global_variables-id00055">
<h1 class="calibre11">Global Variables</h1>

<p class="author1"><em class="hyperlink">Global</em> variables<a contenteditable="false" data-primary="JavaScript" data-secondary="global variables in" data-type="indexterm" id="idm45694705783080" class="calibre6"/><a contenteditable="false" data-primary="global variables" data-secondary="in JavaScript" data-type="indexterm" id="idm45694705781672" class="calibre6"/><a contenteditable="false" data-primary="scope" data-secondary="variable scope in JavaScript" data-type="indexterm" id="Svar13" class="calibre6"/><a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="global" data-type="indexterm" id="idm45694705778680" class="calibre6"/> are ones defined outside of any functions (or defined within functions but without the <code class="calibre15">var</code> keyword). They can be defined in the following ways:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
    <code class="n">a</code> <code class="o">=</code> <code class="mi">123</code>               <code class="c">// Global scope</code>
<code class="k">var</code> <code class="n">b</code> <code class="o">=</code> <code class="mi">456</code>               <code class="c">// Global scope</code>
<code class="k">if</code> <code class="p">(</code><code class="n">a</code> <code class="o">==</code> <code class="mi">123</code><code class="p">)</code> <code class="k">var</code> <code class="n">c</code> <code class="o">=</code> <code class="mi">789</code> <code class="c">// Global scope</code></pre>

<p class="author1">Regardless of whether you are using the <code class="calibre15">var</code> keyword, as long as a variable is defined outside of a function, it is global in scope. This means that every part of a script can have access to it.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Local Variables" class="calibre4"><div class="preface" id="local_variables-id00056">
<h1 class="calibre11">Local Variables</h1>

<p class="author1">Parameters<a contenteditable="false" data-primary="JavaScript" data-secondary="local variables" data-type="indexterm" id="idm45694705726232" class="calibre6"/><a contenteditable="false" data-primary="local variables (JavaScript)" data-type="indexterm" id="idm45694705724824" class="calibre6"/><a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="local" data-type="indexterm" id="idm45694705723752" class="calibre6"/> passed to a function automatically have <em class="hyperlink">local</em> scope, that is, they can be referenced only from within that function. However, there is one exception. Arrays<a contenteditable="false" data-primary="variables (JavaScript)" data-secondary="arrays" data-type="indexterm" id="idm45694705721704" class="calibre6"/> are passed to a function by reference, so if you modify any elements in an array parameter, the elements of the original array will be modified.</p>

<p class="author1">To define a local variable that has scope only within the current function, and has not been passed as a parameter, use the <code class="calibre15">var</code> keyword. <a data-type="xref" href="#function_creating_variables_with_globa" class="calibre6">Example 14-5</a> shows a function that creates one variable with global scope and two with local scope.</p>

<div data-type="example" id="function_creating_variables_with_globa" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-5. </span>A function creating variables with global and local scope</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">test</code><code class="p">()</code>
  <code class="p">{</code>
        <code class="n">a</code> <code class="o">=</code> <code class="mi">123</code>               <code class="c">// Global scope</code>
    <code class="k">var</code> <code class="n">b</code> <code class="o">=</code> <code class="mi">456</code>               <code class="c">// Local scope</code>
    <code class="k">if</code> <code class="p">(</code><code class="n">a</code> <code class="o">==</code> <code class="mi">123</code><code class="p">)</code> <code class="k">var</code> <code class="n">c</code> <code class="o">=</code> <code class="mi">789</code> <code class="c">// Local scope</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">To test whether scope setting has worked in PHP, we can use the <code class="calibre15">isset</code> function. But<a contenteditable="false" data-primary="typeof operator (JavaScript)" data-type="indexterm" id="idm45694705662040" class="calibre6"/> in JavaScript there is no such function, so <a data-type="xref" href="#checking_the_scope_of_the_variables_defi" class="calibre6">Example 14-6</a> makes use of the <code class="calibre15">typeof</code> operator, which returns the string <code class="calibre15">undefined</code> when a variable is not defined.</p>

<div data-type="example" id="checking_the_scope_of_the_variables_defi" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-6. </span>Checking the scope of the variables defined in the function test</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="n">test</code><code class="p">()</code>

  <code class="k">if</code> <code class="p">(</code><code class="k">typeof</code> <code class="n">a</code> <code class="o">!=</code> <code class="s">'undefined'</code><code class="p">)</code> <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'a = "'</code> <code class="o">+</code> <code class="n">a</code> <code class="o">+</code> <code class="s">'"&lt;br&gt;'</code><code class="p">)</code>
  <code class="k">if</code> <code class="p">(</code><code class="k">typeof</code> <code class="n">b</code> <code class="o">!=</code> <code class="s">'undefined'</code><code class="p">)</code> <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'b = "'</code> <code class="o">+</code> <code class="n">b</code> <code class="o">+</code> <code class="s">'"&lt;br&gt;'</code><code class="p">)</code>
  <code class="k">if</code> <code class="p">(</code><code class="k">typeof</code> <code class="n">c</code> <code class="o">!=</code> <code class="s">'undefined'</code><code class="p">)</code> <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'c = "'</code> <code class="o">+</code> <code class="n">c</code> <code class="o">+</code> <code class="s">'"&lt;br&gt;'</code><code class="p">)</code>

  <code class="k">function</code> <code class="n">test</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="n">a</code>     <code class="o">=</code> <code class="mi">123</code>
    <code class="k">var</code> <code class="n">b</code> <code class="o">=</code> <code class="mi">456</code>

    <code class="k">if</code> <code class="p">(</code><code class="n">a</code> <code class="o">==</code> <code class="mi">123</code><code class="p">)</code> <code class="k">var</code> <code class="n">c</code> <code class="o">=</code> <code class="mi">789</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">The output from this script is the following single line:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31">a = "123"</strong></pre>

<p class="author1">This shows that only the variable <code class="calibre15">a</code> was given global scope, which is exactly what we would expect, since the variables <code class="calibre15">b</code> and <code class="calibre15">c</code> were given local scope by being prefaced with the <code class="calibre15">var</code> keyword.</p>

<p class="author1">If your browser issues a warning about <code class="calibre15">b</code> being undefined, the warning is correct but can be ignored.<a contenteditable="false" data-primary="" data-startref="Svar13" data-type="indexterm" id="idm45694705525432" class="calibre6"/></p>

<section data-type="sect2" data-pdf-bookmark="Using let and const" class="calibre4"><div class="preface" id="idm45694705523928">
<h2 class="calibre28">Using let and const</h2>

<p class="author1">JavaScript<a contenteditable="false" data-primary="JavaScript" data-secondary="let and const keywords" data-type="indexterm" id="JSlet14" class="calibre6"/><a contenteditable="false" data-primary="let keyword (JavaScript)" data-type="indexterm" id="let14" class="calibre6"/><a contenteditable="false" data-primary="const keyword (JavaScript)" data-type="indexterm" id="const14" class="calibre6"/> now offers two new keywords: <code class="calibre15">let</code> and <code class="calibre15">const</code>. The <code class="calibre15">let</code> keyword is pretty much a swap-in for <code class="calibre15">var</code>, but it has the advantage that you cannot redeclare a variable once you have done so with <code class="calibre15">let</code>, although you can with <code class="calibre15">var</code>.</p>

<p class="author1">You see, the fact that you could redeclare variables using <code class="calibre15">var</code> was leading to obscure bugs, such as the following:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">var</code> <code class="n">hello</code>   <code class="o">=</code> <code class="s">"Hello there"</code>
<code class="k">var</code> <code class="n">counter</code> <code class="o">=</code> <code class="mi">1</code>

<code class="k">if</code> <code class="p">(</code><code class="n">counter</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">var</code> <code class="n">hello</code> <code class="o">=</code> <code class="s">"How are you?"</code>
<code class="p">}</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">hello</code><code class="p">)</code></pre>

<p class="author1">Can you see the problem? Because <code class="calibre15">counter</code> is greater than 0 (since we initialized it to 1), the string <code class="calibre15">hello</code> is redefined as “How are you?” which is then displayed in the document.</p>

<p class="author1">Now, if you replace the <code class="calibre15">var</code> with <code class="calibre15">let</code> (as follows), the second declaration is ignored, and the original string “Hello there” will be displayed:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">let</code> <code class="n">hello</code>   <code class="o">=</code> <code class="s">"Hello there"</code>
<code class="k">let</code> <code class="n">counter</code> <code class="o">=</code> <code class="mi">1</code>

<code class="k">if</code> <code class="p">(</code><code class="n">counter</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">let</code> <code class="n">hello</code> <code class="o">=</code> <code class="s">"How are you?"</code>
<code class="p">}</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">hello</code><code class="p">)</code>
</pre>

<p class="author1">The<a contenteditable="false" data-primary="block scoping" data-type="indexterm" id="idm45694705482920" class="calibre6"/><a contenteditable="false" data-primary=" function scoping" data-type="indexterm" id="idm45694705406584" class="calibre6"/><a contenteditable="false" data-primary="var keyword (JavaScript)" data-type="indexterm" id="idm45694705405480" class="calibre6"/> <code class="calibre15">var</code> keyword is either globally scoped (if outside of any blocks or functions) or <em class="hyperlink">function</em> scoped, and variables declared with it are initialized with <code class="calibre15">undefined</code>, but the <code class="calibre15">let</code> keyword is either globally or <em class="hyperlink">block</em> scoped, and variables are not initialized.</p>

<p class="author1">Any variable assigned using <code class="calibre15">let</code> has scope either within the entire document if declared outside of any block, or, if declared within a block bounded by <code class="calibre15">{}</code> (which includes functions), its scope is limited to that block (and any nested sub-blocks). If you declare a variable within a block but try to access it from outside that block, an error will be returned, as with the following, which will fail at the <code class="calibre15">document.write</code> because <code class="calibre15">hello</code> will have no value:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">let</code> <code class="n">counter</code> <code class="o">=</code> <code class="mi">1</code>

<code class="k">if</code> <code class="p">(</code><code class="n">counter</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">let</code> <code class="n">hello</code> <code class="o">=</code> <code class="s">"How are you?"</code>
<code class="p">}</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">hello</code><code class="p">)</code>
</pre>

<p class="author1">You can use <code class="calibre15">let</code> to declare variables of the same name as previously declared ones, as long as it is within a new scope, in which case any previous value assigned to a variable of the same name in the previous scope will become inaccessible to the new scope, because the new variable of the same name is treated as totally different from the previous one. It only has scope within the current block, or any sub-blocks (unless another <code class="calibre15">let</code> is used to declare yet another variable of the same name in a sub-block).</p>

<p class="author1">It<a contenteditable="false" data-primary="names and naming" data-secondary="variable names" data-type="indexterm" id="idm45694705340136" class="calibre6"/> is good practice to try avoiding the reuse of meaningful variable names, or you risk causing confusion. However, loop or index variables such as <code class="calibre15">i</code> (or other short and simple names) can generally be reused in new scopes without causing any confusion.</p>

<p class="author1">You can further increase your control over scope by declaring a variable to have a constant value, that is, one that cannot be changed. This is beneficial where you have created a variable that you are treating as a constant but had declared it only using <code class="calibre15">var</code> or <code class="calibre15">let</code>, because you might have instances in your code where you try to change that value, which would be allowed but would be a bug.</p>

<p class="author1">However, if you use the<a contenteditable="false" data-primary="const keyword (JavaScript)" data-type="indexterm" id="idm45694705335816" class="calibre6"/> <code class="calibre15">const</code> keyword to declare the variable and assign its value, any attempt to change the value later will be disallowed, and your code will halt with an error message in the console similar to:</p>

<pre class="calibre29">Uncaught TypeError: Assignment to constant variable</pre>

<p class="author1">The following code will cause just that error:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">const</code> <code class="n">hello</code> <code class="o">=</code> <code class="s">"Hello there"</code>
<code class="k">let</code> <code class="n">counter</code> <code class="o">=</code> <code class="mi">1</code>

<code class="k">if</code> <code class="p">(</code><code class="n">counter</code> <code class="o">&gt;</code> <code class="mi">0</code><code class="p">)</code>
<code class="p">{</code>
  <code class="n">hello</code> <code class="o">=</code> <code class="s">"How are you?"</code>
<code class="p">}</code>

<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">hello</code><code class="p">)</code></pre>

<p class="author1">Just like <code class="calibre15">let</code>, <code class="calibre15">const</code> declarations are also block scoped (within <code class="calibre15">{}</code> sections and any sub-blocks), meaning that you can have constant variables of the same name but have different values in different scopes of a piece of code. However, I strongly recommend you try to avoid duplication of names and keep any constant name for one single value throughout each program, using a new constant name wherever you need a new constant.</p>

<p class="author1">In summary: <code class="calibre15">var</code> has global or function scope, and <code class="calibre15">let</code> and <code class="calibre15">const</code> have global or block scope. Both <code class="calibre15">var</code> and <code class="calibre15">let</code> can be declared without being initialized, while <code class="calibre15">const</code> must be initialized during declaration. The <code class="calibre15">var</code> keyword can be reused to re-declare a <code class="calibre15">var</code> variable, but <code class="calibre15">let</code> and <code class="calibre15">const</code> cannot. Finally, <code class="calibre15">const</code> can neither be redeclared nor reassigned.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">You<a contenteditable="false" data-primary="console.log function (JavaScript)" data-type="indexterm" id="idm45694705280312" class="calibre6"/><a contenteditable="false" data-primary="document.write function (JavaScript)" data-type="indexterm" id="idm45694705279208" class="calibre6"/> may prefer to use a developer console with tests such as these (and elsewhere in this book) as previously explained in <a data-type="xref" href="#debugging_javascript_errors" class="calibre6">“Debugging JavaScript Errors”</a>, in which case you can replace <code class="calibre15">document.write</code> with <code class="calibre15">console.log</code>, and the output will be shown in the console instead of within the browser. This is also a better option for JavaScript that will run once a document has fully loaded, because at that time <code class="calibre15">document.write</code> would replace the current document, rather than append to it, which is probably not what you might intend.<a contenteditable="false" data-primary="" data-startref="JSlet14" data-type="indexterm" id="idm45694705275304" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="let14" data-type="indexterm" id="idm45694705273928" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="const14" data-type="indexterm" id="idm45694705272552" class="calibre6"/></p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="The Document Object Model" class="calibre4"><div class="preface" id="document_object_model">
<h1 class="calibre11">The Document Object Model</h1>

<p class="author1">The<a contenteditable="false" data-primary="JavaScript" data-secondary="Document Object Model and" data-type="indexterm" id="JSdom13" class="calibre6"/><a contenteditable="false" data-primary="DOM (Document Object Model)" data-secondary="JavaScript and" data-type="indexterm" id="DOMjs13" class="calibre6"/> design of JavaScript is very smart. Rather than just creating yet another scripting language (which would have still been a pretty good improvement at the time), there was a vision to build it around the already-existing HTML Document Object Model. This breaks down the parts of an HTML document into discrete <em class="hyperlink">objects</em>, each with its own <em class="hyperlink">properties</em> and <em class="hyperlink">methods</em> and each subject to JavaScript’s control.</p>

<p class="author1">JavaScript separates objects, properties, and methods by using a period (one good reason why <code class="calibre15">+</code> is the string concatenation operator in JavaScript, rather than the period). For example, let’s consider a business card as an object we’ll call <code class="calibre15">card</code>. This object contains properties such as a name, address, phone number, and so on. In the syntax of JavaScript, these properties would look like this:</p>

<pre data-programming-language="perl" class="calibre29">
card.name
card.phone
card.address</pre>

<p class="author1">Its methods are functions that retrieve, change, and otherwise act on the properties. For instance, to invoke a method that displays the properties of the object <code class="calibre15">card</code>, you might use syntax such as this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">card</code><code class="p">.</code><code class="n">display</code><code class="p">()</code></pre>

<p class="author1">Have a look at some of the earlier examples in this chapter and notice where the statement <code class="calibre15">document.write</code> is used. Now that you understand how JavaScript is based around objects, you will see that <code class="calibre15">write</code> is actually a method of the <code class="calibre15">document</code> object.</p>

<p class="author1">Within JavaScript, there is a hierarchy of parent and child objects, which is what is known as the Document Object Model (DOM; see <a data-type="xref" href="#example_of_dom_object_hierarchy" class="calibre6">Figure 14-3</a>).</p>

<figure class="calibre23"><div id="example_of_dom_object_hierarchy" class="figure"><img alt="Example of DOM object hierarchy" src="Images/pmj6_1403.png" class="calibre85"/>
<h6 class="calibre24"><span class="keep-together">Figure 14-3. </span>Example of DOM object hierarchy</h6>
</div></figure>

<p class="author1">The figure uses HTML tags that you are already familiar with to illustrate the parent/child relationship between the various objects in a document. For example, a URL within a link is part of the body of an HTML document. In JavaScript, it is referenced like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">.</code><code class="n">linkname</code><code class="p">.</code><code class="n">href</code></pre>

<p class="author1">Notice how this follows the central column down. The first part, <code class="calibre15">document</code>, refers to the <code class="calibre15">&lt;html&gt;</code> and <code class="calibre15">&lt;body&gt;</code> tags; <code class="calibre15">links.linkname</code> refers to the <code class="calibre15">&lt;a&gt;</code> tag, and <code class="calibre15">href</code> to the <code class="calibre15">href</code> attribute.</p>

<p class="author1">Let’s turn this into some HTML and a script to read a link’s properties. Type <a data-type="xref" href="#reading_a_link_url_with_javascript" class="calibre6">Example 14-7</a> and save it as <em class="hyperlink">linktest.html</em>; then call it up in your browser.</p>

<div data-type="example" id="reading_a_link_url_with_javascript" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-7. </span>Reading a link URL with JavaScript</h5>

<pre data-code-language="html" data-programming-language="perl" class="calibre29">
<code class="nt">&lt;html&gt;</code>
  <code class="nt">&lt;head&gt;</code>
    <code class="nt">&lt;title&gt;</code>Link Test<code class="nt">&lt;/title&gt;</code>
  <code class="nt">&lt;/head&gt;</code>
  <code class="nt">&lt;body&gt;</code>
    <code class="nt">&lt;a</code> <code class="na">id=</code><code class="s">"mylink"</code> <code class="na">href=</code><code class="s">"http://mysite.com"</code><code class="nt">&gt;</code>Click me<code class="nt">&lt;/a&gt;&lt;br&gt;</code>
    <code class="nt">&lt;script&gt;</code>
      <code class="n">url</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">.</code><code class="n">mylink</code><code class="p">.</code><code class="n">href</code>
      <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="s">'The URL is '</code> <code class="o">+</code> <code class="n">url</code><code class="p">)</code>
    <code class="nt">&lt;/script&gt;</code>
  <code class="nt">&lt;/body&gt;</code>
<code class="nt">&lt;/html&gt;</code></pre>
</div>

<p class="author1">Note the short form of the <code class="calibre15">&lt;script&gt;</code> tags, where I have omitted the parameter <code class="calibre15">type="text/JavaScript"</code> to save you some typing. If you wish, just for the purposes of testing this (and other examples), you could also omit everything outside of the <code class="calibre15">&lt;script&gt;</code> and <code class="calibre15">&lt;/script&gt;</code> tags. The output from this example is as follows:</p>

<pre data-programming-language="perl" class="calibre29">
<strong class="calibre31"><span class="calibre86">Click me</span></strong>
<strong class="calibre31">The URL is http://mysite.com</strong></pre>

<p class="author1">The second line of output comes from the <code class="calibre15">document.write</code> method. Notice how the code follows the document tree down from <code class="calibre15">document</code> to <code class="calibre15">links</code> to <code class="calibre15">mylink</code> (the <code class="calibre15">id</code> given to the link) to <code class="calibre15">href</code> (the URL destination value).</p>

<p class="author1">There is also a short form that works equally well, which starts with the value in the <code class="calibre15">id</code> attribute: <code class="calibre15">mylink.href</code>. So, you can replace this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">.</code><code class="n">mylink</code><code class="p">.</code><code class="n">href</code></pre>

<p class="author1">with the following:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="n">mylink</code><code class="p">.</code><code class="n">href</code></pre>

<section data-type="sect2" data-pdf-bookmark="Another Use for the $ Symbol" class="calibre4"><div class="preface" id="another_use_for_the_dollar_symbol">
<h2 class="calibre28">Another Use for the $ Symbol</h2>

<p class="author1">As<a contenteditable="false" data-primary="$ (dollar) symbol" data-secondary="in JavaScript" data-type="indexterm" id="idm45694705102024" class="calibre6"/><a contenteditable="false" data-primary="dollar symbol ($)" data-secondary="in JavaScript" data-type="indexterm" id="idm45694705100616" class="calibre6"/> mentioned earlier, the <code class="calibre15">$</code> symbol<a contenteditable="false" data-primary="$ () function" data-secondary="in JavaScript" data-type="indexterm" id="idm45694705098696" class="calibre6"/> is allowed in JavaScript variable and function names. Because of this, you may sometimes encounter strange-looking code like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="n">$</code><code class="p">(</code><code class="s">'mylink'</code><code class="p">).</code><code class="n">href</code></pre>

<p class="author1">Some<a contenteditable="false" data-primary="getElementById function (JavaScript)" data-type="indexterm" id="idm45694705087640" class="calibre6"/> enterprising programmers have decided that the <code class="calibre15">getElementById</code> function is so prevalent in JavaScript that they have written a function to replace it called <code class="calibre15">$</code>, like in jQuery (although jQuery uses the <code class="calibre15">$</code> for much more than that—see <a data-type="xref" href="ch22.xhtml#introduction_to_jquery" class="calibre6">Chapter 22</a>), as shown in <a data-type="xref" href="#replacement_function_for_the_getelemen" class="calibre6">Example 14-8</a>.</p>

<div data-type="example" id="replacement_function_for_the_getelemen" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 14-8. </span>A replacement function for the <code class="calibre15">getElementById</code> method</h5>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="o">&lt;</code><code class="n">script</code><code class="o">&gt;</code>
  <code class="k">function</code> <code class="n">$</code><code class="p">(</code><code class="n">id</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">return</code> <code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><code class="n">id</code><code class="p">)</code>
  <code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code></pre>
</div>

<p class="author1">Therefore, as long as you have included the <code class="calibre15">$</code> function in your code, syntax such as this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">$</code><code class="p">(</code><code class="s">'mylink'</code><code class="p">).</code><code class="n">href</code></pre>

<p class="author1">can replace code such as this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><code class="s">'mylink'</code><code class="p">).</code><code class="n">href</code></pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using the DOM" class="calibre4"><div class="preface" id="using_the_dom">
<h2 class="calibre28">Using the DOM</h2>

<p class="author1">The <code class="calibre15">links</code> object is actually an array of URLs, so the <code class="calibre15">mylink</code> URL in <a data-type="xref" href="#reading_a_link_url_with_javascript" class="calibre6">Example 14-7</a> can also be safely referred to in all browsers in the following way (because it’s the first, and only, link):</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">url</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">[</code><code class="mi">0</code><code class="p">].</code><code class="n">href</code></pre>

<p class="author1">If you want to know how many links there are in an entire document, you can query the <code class="calibre15">length</code> property of the <code class="calibre15">links</code> object like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">numlinks</code> <code class="o">=</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">.</code><code class="n">length</code></pre>

<p class="author1">You can extract and display all links in a document like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="k">for</code> <code class="p">(</code><code class="n">j</code><code class="o">=</code><code class="mi">0</code> <code class="p">;</code> <code class="n">j</code> <code class="o">&lt;</code> <code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">.</code><code class="n">length</code> <code class="p">;</code> <code class="o">++</code><code class="n">j</code><code class="p">)</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="nb">document</code><code class="p">.</code><code class="n">links</code><code class="p">[</code><code class="n">j</code><code class="p">].</code><code class="n">href</code> <code class="o">+</code> <code class="s">'&lt;br&gt;'</code><code class="p">)</code></pre>

<p class="author1">The <code class="calibre15">length</code> of something is a property of every array, and many objects as well. For example, the number of items in your browser’s web history can be queried like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">write</code><code class="p">(</code><code class="n">history</code><code class="p">.</code><code class="n">length</code><code class="p">)</code></pre>

<p class="author1">To stop websites from snooping on your browsing history, the <code class="calibre15">history</code> object stores only the number of sites in the array: you cannot read from or write to these values. But you can replace the current page with one from the history, if you know what position it has within the history. This can be very useful in cases in which you know that certain pages in the history came from your site, or you simply wish to send the browser back one or more pages, which you do with the <code class="calibre15">go</code> method of the <code class="calibre15">history</code> object. For example, to send the browser back three pages, issue the following <span class="keep-together">command:</span></p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">history</code><code class="p">.</code><code class="n">go</code><code class="p">(</code><code class="o">-</code><code class="mi">3</code><code class="p">)</code></pre>

<p class="author1">You can also use the following methods to move back or forward a page at a time:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="n">history</code><code class="p">.</code><code class="n">back</code><code class="p">()</code>
<code class="n">history</code><code class="p">.</code><code class="n">forward</code><code class="p">()</code></pre>

<p class="author1">In a similar manner, you can replace the currently loaded URL with one of your choosing, like this:</p>

<pre data-code-language="javascript" data-programming-language="perl" class="calibre29">
<code class="nb">document</code><code class="p">.</code><code class="n">location</code><code class="p">.</code><code class="n">href</code> <code class="o">=</code> <code class="s">'http://google.com'</code></pre>

<p class="author1">Of course, there’s a whole lot more to the DOM than reading and modifying links. As you progress through the following chapters on JavaScript, you’ll become quite familiar with the DOM and how to access it.<a contenteditable="false" data-primary="" data-startref="JSdom13" data-type="indexterm" id="idm45694704745784" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="DOMjs13" data-type="indexterm" id="idm45694704744680" class="calibre6"/></p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="About document.write" class="calibre4"><div class="preface" id="about_documentdotwrite">
<h1 class="calibre11">About document.write</h1>

<p class="author1">When<a contenteditable="false" data-primary="JavaScript" data-secondary="document.write function" data-type="indexterm" id="idm45694704716296" class="calibre6"/><a contenteditable="false" data-primary="document.write function (JavaScript)" data-type="indexterm" id="idm45694704714888" class="calibre6"/> teaching programming, it’s necessary to have a quick and easy way to display the results of expressions. In PHP (for example) there are the <code class="calibre15">echo</code> and <code class="calibre15">print</code> statements, which simply send text to the browser, so that’s easy. In JavaScript, though, there are the following alternatives.</p>

<section data-type="sect2" data-pdf-bookmark="Using console.log" class="calibre4"><div class="preface" id="using_consoledotlog">
<h2 class="calibre28">Using console.log</h2>

<p class="author1">The <code class="calibre15">console.log</code> function<a contenteditable="false" data-primary="console.log function (JavaScript)" data-type="indexterm" id="idm45694704687736" class="calibre6"/> will output the result of any value or expression passed to it in the console of the current browser. This is a special mode with a frame or window separate from the browser window, and in which errors and other messages can be made to display. While great for experienced programmers, it is not ideal for beginners because the output is not near the web content in the browser.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using alert" class="calibre4"><div class="preface" id="using_alert">
<h2 class="calibre28">Using alert</h2>

<p class="author1">The <code class="calibre15">alert</code> function<a contenteditable="false" data-primary="alert function (JavaScript)" data-type="indexterm" id="idm45694704667112" class="calibre6"/> displays values or expressions passed to it in a pop-up window, which requires you to click a button to close. Clearly this can become quite irritating very quickly, and it has the downside of displaying only the current message—previous ones are erased.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Writing into Elements" class="calibre4"><div class="preface" id="writing_into_elements">
<h2 class="calibre28">Writing into Elements</h2>

<p class="author1">It is possible to write directly into the text of an HTML element, which is a fairly elegant solution (and the best one for production websites)—except that for this book every example would require such an element to be created, and some lines of code to access it. This gets in the way of teaching the core of an example and would make the code look overly cumbersome and confusing.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using document.write" class="calibre4"><div class="preface" id="using_documentdotwrite">
<h2 class="calibre28">Using document.write</h2>

<p class="author1">The <code class="calibre15">document.write</code> function writes a value or expression at the current browser location and is therefore the perfect choice for quickly displaying results. It keeps all the examples short and sweet, by placing the output right there in the browser next to the web content and code.</p>

<p class="author1">You may, however, have heard that this function is regarded as unsafe by some developers, because when you call it after a web page is fully loaded, it will overwrite the current document. While this is correct, it doesn’t apply to any of the examples in this book, because they all use <code class="calibre15">document.write</code> the way it was originally intended: as part of the page creation process, calling it only before the page has completed loading and displaying.</p>

<p class="author1">However, although I use <code class="calibre15">document.write</code> in this way for simple examples, I never use it in production code (except in the very rarest of circumstances where it actually is necessary). Instead, I almost always use the preceding option of writing directly into a specially prepared element, per the more complex examples in <a data-type="xref" href="ch18.xhtml#using_ajax" class="calibre6">Chapter 18</a> onward (which access the <code class="calibre15">innerHTML</code> property of elements for program output).</p>

<p class="author1">So, please remember that where you see <code class="calibre15">document.write</code> being called in this book, it is there only to simplify an example, and I recommend that you also use the function only in this same way—for obtaining quick test results.</p>

<p class="author1">With that caveat explained, in the following chapter we’ll continue our exploration of JavaScript by looking at how to control program flow and write expressions.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Questions" class="calibre4"><div class="preface" id="questions-id00057">
<h1 class="calibre11">Questions</h1>

<ol class="calibre25">
	<li class="calibre26">Which tags do you use to enclose JavaScript code?</li>
	<li class="calibre26">By default, to which part of a document will JavaScript code output?</li>
	<li class="calibre26">How can you include JavaScript code from another source in your documents?</li>
	<li class="calibre26">Which JavaScript function is the equivalent of <code class="calibre15">echo</code> or <code class="calibre15">print</code> in PHP?</li>
	<li class="calibre26">How can you create a comment in JavaScript?</li>
	<li class="calibre26">What is the JavaScript string concatenation operator?</li>
	<li class="calibre26">Which keyword can you use within a JavaScript function to define a variable that has local scope?</li>
	<li class="calibre26">Give two cross-browser methods to display the URL assigned to the link with an <code class="calibre15">id</code> of <code class="calibre15">thislink</code>.</li>
	<li class="calibre26">Which two JavaScript commands will make the browser load the previous page in its history array?</li>
	<li class="calibre26">What JavaScript command would you use to replace the current document with the main page at the <em class="hyperlink">oreilly.com</em> website?</li>
</ol>

<p class="author1">See <a data-type="xref" href="app01_split_013.xhtml#chapter_14_answers" class="calibre6">“Chapter 14 Answers”</a> in the <a data-type="xref" href="app01_split_000.xhtml#solutions_to_the_chapter_questions" class="calibre6">Appendix A</a> for the answers to these <span class="keep-together">questions</span>.</p>
</div></section>
</div></section></div></body></html>