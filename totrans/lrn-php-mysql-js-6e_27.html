<html><head></head><body><div id="sbo-rt-content" class="calibre1"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 24. Introduction to React" class="calibre4"><div class="preface" id="introduction_to_react">
<h1 class="calibre10"><span class="keep-together">Chapter 24. </span>Introduction to React</h1>

<p class="author1">When<a contenteditable="false" data-primary="React" data-secondary="introduction to" data-type="indexterm" id="idm45694676225464" class="calibre6"/> using JavaScript, HTML, and CSS to build dynamic websites, there comes a time that the creation of the code required to handle the frontend of your websites and apps can become cumbersome and overly verbose, slowing down the speed of project development and potentially leading to the introduction of hard-to-find bugs.</p>

<p class="author1">This<a contenteditable="false" data-primary="jQuery" data-secondary="vs. similar tools" data-secondary-sortas="similar tools" data-type="indexterm" id="idm45694676223208" class="calibre6"/><a contenteditable="false" data-primary="JavaScript" data-secondary="vs. similar tools" data-secondary-sortas="similar tools" data-type="indexterm" id="idm45694676221720" class="calibre6"/> is where frameworks come in. Of course, since 2006 there’s been jQuery to help us out, and consequently it’s installed on the vast majority of production websites, although these days JavaScript has grown sufficiently in scope and flexibility that programmers need to rely on frameworks like jQuery a lot less. Also, as time marches on the technology continually improves, and now there are a number of excellent other options, such as Angular and, as discussed here, my preferred favorite, React.</p>

<p class="author1">jQuery<a contenteditable="false" data-primary="Angular" data-type="indexterm" id="idm45694676219016" class="calibre6"/> was designed to simplify HTML DOM tree traversal and manipulation, as well as event handling, CSS animation, and Ajax, but some programmers, such as the development team at Google, felt it still wasn’t powerful enough, and they came up with Angular JS in 2010, which evolved into Angular in 2016.</p>

<p class="author1">Angular uses a hierarchy of components as its primary architectural characteristic, rather than using “scope” or controllers (like Angular). Google’s massive AdWords platform is powered by Angular, as are Forbes, Autodesk, Indiegogo, UPS, and many others, and it is indeed extremely powerful.</p>

<p class="author1">Facebook, on<a contenteditable="false" data-primary=" JSX extension" data-secondary="vs. React" data-secondary-sortas="React" data-type="indexterm" id="idm45694676216280" class="calibre6"/> the other hand, had a different vision and came up with React (also known as React JS) as its framework for the development of single-page or mobile applications, basing it around the JSX extension (which stands for JavaScript XML). The React Library (first developed in 2012) divides a web page into single components, simplifying the development of the interface required to serve all of Facebook’s advertising and more, and it is now widely adopted by platforms across the web, such as Dropbox, Cloudflare, Airbnb, Netflix, the BBC, PayPal, and many more household names.</p>

<p class="author1">Clearly, both Angular and React were driven in their creation and design by solid commercial decisions and were built to handle extremely high-traffic web pages, where it was felt that jQuery simply did not have the oomph the developers were looking for.</p>

<p class="author1">Therefore, nowadays, as well as knowing the core technologies of JavaScript, HTML, CSS, a server-side language such as PHP, and a database such as MySQL, programmers still may find it handy to at least know a little jQuery and at least one (if not both) of Angular and React, and possibly other frameworks that also have their <span class="keep-together">followings.</span></p>

<p class="author1">However, for reasons of ease of use, a not-too-steep learning curve, and general implementation, and also because Google Trends shows it to be the framework of most popular interest of the three (see <a data-type="xref" href="#recent-popularity-of-jquery" class="calibre6">Figure 24-1</a>), I decided it was more important to introduce you to React. By the way, please don’t confuse the similarly named ReactPHP with React for JavaScript, as it is an entirely separate and unconnected project.</p>

<section data-type="sect1" data-pdf-bookmark="What Is the Point of React Anyway?" class="calibre4"><div class="preface" id="idm45694676209912">
<h1 class="calibre11">What Is the Point of React Anyway?</h1>

<p class="author1">React<a contenteditable="false" data-primary="React" data-secondary="purpose and benefits of" data-type="indexterm" id="Rpurp24" class="calibre6"/><a contenteditable="false" data-primary="MVC (Model, View, Controller) architecture" data-type="indexterm" id="idm45694676206744" class="calibre6"/> allows developers to create large web applications that can easily handle and change data, without reloading the web page. Its main raisons d'être are speed, scalability, and simplicity in handling the view layer of single-page web and mobile applications. It also enables the creation of reusable UI components and manages a virtual DOM for increased performance. Some people have been quoted as saying you can use it as the V in the MVC (Model, View, Controller) architecture that separates applications into three components.</p>

<p class="author1">Instead of developers having to come up with various ways to describe transactions on interfaces, they can simply describe the interfaces in terms of a final state, such that when transactions happen to that state, React updates the UI for you. The net results are faster, less buggy development; speed; reliability; and scalability. Because React is a library and not a framework, learning it is also quick, with just a few functions to master. After that, it’s all down to your JavaScript skills.</p>

<p class="author1">So let’s get started with how to access React files.</p>

<figure class="calibre23"><div id="recent-popularity-of-jquery" class="figure"><img alt="" class="iimagestrends-js-a-rpng" src="Images/pmj6_2401.png"/>
<h6 class="calibre24"><span class="keep-together">Figure 24-1. </span>Recent popularity of jQuery, Angular, and React according to Google Trends</h6>
</div></figure>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">I<a contenteditable="false" data-primary="Angular" data-type="indexterm" id="idm45694676200280" class="calibre6"/> think jQuery is great, but I also find React very easy to use, and I suppose time will tell whether I’m right in my suspicion that React could eventually replace jQuery as the dominant framework, certainly for handling the UI, because it’s simply so much richer. But even if it doesn’t, by learning React you will still have an incredibly powerful new tool at your disposal, which many top companies will be looking for on your resume. And don’t dismiss Angular, either. Had there been room in this book, I would have covered it too, because it’s definitely worth understanding for debugging and maintenance of existing code, even if you don’t develop using it. You<a contenteditable="false" data-primary="" data-startref="Rpurp24" data-type="indexterm" id="idm45694676198232" class="calibre6"/> can learn all about it at <a href="https://angular.io" class="calibre6">https://angular.io</a> (and it will also look great on your resume).</p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Accessing the React Files" class="calibre4"><div class="preface" id="accessing_the_react_files">
<h1 class="calibre11">Accessing the React Files</h1>

<p class="author1">Like<a contenteditable="false" data-primary="React" data-secondary="files, accessing" data-type="indexterm" id="Rfiles24" class="calibre6"/><a contenteditable="false" data-primary="file handling (React)" data-type="indexterm" id="filereact24" class="calibre6"/> jQuery and Angular, React is open source and entirely free to use. Also like these other frameworks, there are a number of services on the web that will serve the latest (or any) version up for you free of charge, so using it can be as easy as placing a couple of extra lines of code in your web page.</p>

<p class="author1">Before examining what you can do with React and how to use it, here’s how you include it in a web page, pulling the files from <em class="hyperlink">unpkg.com</em>:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;script</code>
<code class="err"> </code> <code class="na">src=</code><code class="s">"https://unpkg.com/react@17/umd/react.development.js"</code><code class="nt">&gt;</code>
<code class="nt">&lt;/script&gt;</code>
<code class="nt">&lt;script</code>
<code class="err"> </code> <code class="na">src=</code><code class="s">"https://unpkg.com/react-dom@17/umd/react-dom.development.js"</code><code class="nt">&gt;</code>
<code class="nt">&lt;/script&gt;</code></pre>

<p class="author1">These lines should ideally be placed within the <code class="calibre15">&lt;head&gt;...&lt;/head&gt;</code> section of a page to ensure they are loaded before the body section. They load in the development versions of React and React DOM to aid you with development and debugging. On a production website, you should replace the word <code class="calibre15">development</code> with <code class="calibre15">production</code> in these URLs, and, to speed up transfer, you can even change <code class="calibre15">development</code> to <code class="calibre15">production.min</code>, which will call up compressed versions of the files, like this:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;script</code>
<code class="err"> </code> <code class="na">src=</code><code class="s">"https://unpkg.com/react@17/umd/react.production.min.js"</code><code class="nt">&gt;</code>
<code class="nt">&lt;/script&gt;</code>
<code class="nt">&lt;script</code>
<code class="err"> </code> <code class="na">src=</code><code class="s">"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"</code><code class="nt">&gt;</code>
<code class="nt">&lt;/script&gt;</code></pre>

<p class="author1">For ease of access and to make the code as brief as possible, I have downloaded the latest (version 17 as I write) of the uncompressed development files to the accompanying archive of examples for this book (on <a href="https://github.com/RobinNixon/lpmj6" class="calibre6">GitHub</a>) so that all the examples will load locally and look like this:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"react.development.js"</code><code class="nt">&gt;&lt;/script&gt;</code>
<code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"react-dom.development.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p class="author1">Now<a contenteditable="false" data-primary="JSX extension" data-secondary="Babel JSX extenstion" data-type="indexterm" id="idm45694676159048" class="calibre6"/> that React is available to your code, what next? Well, although it is not strictly necessary, next we pull in the Babel JSX extension, which allows you to include XML text directly within JavaScript, making your life much easier.</p>

<section data-type="sect2" data-pdf-bookmark="Including babel.js" class="calibre4"><div class="preface" id="including_babel.js">
<h2 class="calibre28">Including babel.js</h2>

<p class="author1">The<a contenteditable="false" data-primary="Babel JSX extension" data-type="indexterm" id="idm45694676117912" class="calibre6"/><a contenteditable="false" data-primary="ECMAScrip" data-type="indexterm" id="idm45694676116776" class="calibre6"/><a contenteditable="false" data-primary="XML documents" data-type="indexterm" id="idm45694676115672" class="calibre6"/><a contenteditable="false" data-primary="ES6 syntax" data-type="indexterm" id="idm45694676127096" class="calibre6"/> Babel JSX extension adds the ability for you to use XML (very similar to HTML) directly within your JavaScript, saving you from having to call a function each time. In addition, on browsers that have earlier versions of ECMAScript (the official standard of JavaScript) than 6, Babel upgrades them to handle ES6 syntax, so it provides two great benefits in one go.</p>

<p class="author1">Once again you can pull the file needed from the <em class="hyperlink">unpkg.com</em> server, like this:</p>

<pre class="calibre29" data-code-language="html">
<code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"https://unpkg.com/babel-standalone@6/babel.min.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p class="author1">You require only the one minimized version of the Babel code on either a development or a production server. For convenience I have also downloaded the latest version to the companion archive of example files, so examples in this book load locally and look like this:</p>

<pre class="calibre29" data-code-language="html">
<code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"babel.min.js"</code><code class="nt">&gt;&lt;/script&gt;</code></pre>

<p class="author1">Now that we can access the React files, let’s get on with doing something with them.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">This<a contenteditable="false" data-primary="React" data-secondary="documentation" data-type="indexterm" id="idm45694676087496" class="calibre6"/> chapter is intended to teach you the basics of using React to give you a clear understanding of how and why it works and to provide you with a good starting point to take your React development further. Indeed, some of the examples in this chapter are based on (or similar to) examples you can find in the official documentation at the <a href="http://reactjs.org" class="calibre6">reactjs.org</a> website so that, should you wish to learn React in greater depth, you can visit the website and will be off to a running<a contenteditable="false" data-primary="" data-startref="Rfiles24" data-type="indexterm" id="idm45694676083240" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="filereact24" data-type="indexterm" id="idm45694676081864" class="calibre6"/> start.</p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Our First React Project" class="calibre4"><div class="preface" id="our_first_react_project">
<h1 class="calibre11">Our First React Project</h1>

<p class="author1">Rather<a contenteditable="false" data-primary="React" data-secondary="example project" data-type="indexterm" id="Rexam24" class="calibre6"/> than teaching you all about React and JSX before actually setting about coding, let’s approach it from the other angle and show how easy everything is by jumping right into our first React project, as shown in <a data-type="xref" href="#our-first-react-project" class="calibre6">Example 24-1</a>, the result of which is to simply display the text “By Jeeves, it works!” in the browser.</p>

<div data-type="example" id="our-first-react-project" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-1. </span>Our first React project</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="calibre15"> </code><code class="na">lang=</code><code class="s">"en"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;meta</code><code class="calibre15"> </code><code class="na">charset=</code><code class="s">"utf-8"</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">First React Project</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">

    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'react.development.js'</code><code class="err"> </code><code class="calibre15"> </code><code class="err"> </code><code class="calibre15"> </code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'react-dom.development.js'</code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"babel.min.js"</code><code class="nt">&gt;</code><code class="calibre15">            </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

    </code><code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
      </code><strong class="calibre31"><code class="k1">class</code><code class="calibre17"> </code><code class="nx1">One</code><code class="calibre17"> </code><code class="k1">extends</code><code class="calibre17"> </code><code class="nx1">React</code><code class="p1">.</code><code class="nx1">Component</code><code class="calibre17">
      </code><code class="p1">{</code><code class="calibre17">
        </code><code class="nx1">render</code><code class="p1">(</code><code class="p1">)</code><code class="calibre17">
        </code><code class="p1">{</code><code class="calibre17">
          </code><code class="k1">return</code><code class="calibre17"> </code><code class="p1">&lt;</code><code class="na1">p</code><code class="p1">&gt;</code><code class="nx1">By</code><code class="calibre17"> </code><code class="nx1">Jeeves</code><code class="p1">,</code><code class="calibre17"> </code><code class="nx1">it</code><code class="calibre17"> </code><code class="nx1">works</code><code class="o1">!</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">p</code><code class="p1">&gt;</code><code class="calibre17">
        </code><code class="p1">}</code><code class="calibre17">
      </code><code class="p1">}</code><code class="calibre17">
      
      </code><code class="nx1">ReactDOM</code><code class="p1">.</code><code class="nx1">render</code><code class="p1">(</code><code class="p1">&lt;</code><code class="na1">One</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code><code class="p1">,</code><code class="calibre17"> </code><code class="nb1">document</code><code class="p1">.</code><code class="nx1">getElementById</code><code class="p1">(</code><code class="s2">'div1'</code><code class="p1">)</code><code class="p1">)</code></strong><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">"div1"</code><code class="err"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">This is a standard HTML5 document, which loads in the two React scripts and the Babel script before opening an inline script. Here is where we first need to pay attention because, instead of not specifying a type to the <code class="calibre15">script</code> tag, or using <code class="calibre15">type=application/javascript</code>, the tag is given <code class="calibre15">type=text/babel</code>. This lets the browser know to allow the Babel preprocessor to run through the script, add ES6 functionality to it if necessary, and replace any XML encountered with JavaScript function calls, and only then to run the contents of the script as JavaScript.</p>

<p class="author1">Within the script, a new class name, <code class="calibre15">One</code>, is created, extending the <code class="calibre15">React.component</code> class. Within the class, a <code class="calibre15">render</code> method is created, which returns the following XML (not a string):</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;p&gt;</code>By Jeeves, it works!<code class="nt">&lt;/p&gt;</code></pre>

<p class="author1">Finally, within<a contenteditable="false" data-primary="render function (React)" data-type="indexterm" id="idm45694675888616" class="calibre6"/> the script, the <code class="calibre15">render</code> function of the <code class="calibre15">One</code> class is called, passing it the ID of the only <code class="calibre15">&lt;div&gt;</code> element in the body of the document, which has been given the ID of <code class="calibre15">div1</code>. The result is to render the XML into the div, which causes the browser to automatically update and display the contents, which looks like this:</p>

<pre class="calibre29">
<strong class="calibre31">By Jeeves, it works!</strong></pre>

<p class="author1">Immediately you should see how including the XML within the JavaScript makes for much easier and faster-to-write code and makes it easier to understand too. Without the<a contenteditable="false" data-primary="JSX extension" data-secondary="benefits of" data-type="indexterm" id="idm45694675883608" class="calibre6"/> JSX extension, you would have to do all this using a sequence of JavaScript function calls.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">React<a contenteditable="false" data-primary="React" data-secondary="case sensitivity in" data-type="indexterm" id="idm45694675854216" class="calibre6"/> treats components starting with lowercase letters as DOM tags. Therefore, for example, <code class="calibre15">&lt;div /&gt;</code> represents an HTML <code class="calibre15">&lt;div&gt;</code> tag, but <code class="calibre15">&lt;One /&gt;</code> represents a component and requires <code class="calibre15">One</code> to be in scope—you cannot use <code class="calibre15">one</code> (with a lowercase <code class="calibre15">o</code>) in the previous example and expect your code to work, as the component needs to start with uppercase and so does any reference to it.</p>
</div>

<section data-type="sect2" data-pdf-bookmark="Using a Function Instead of a Class" class="calibre4"><div class="preface" id="idm45694675849704">
<h2 class="calibre28">Using a Function Instead of a Class</h2>

<p class="author1">If<a contenteditable="false" data-primary="functions (React)" data-secondary="using instead of classes" data-type="indexterm" id="idm45694675848168" class="calibre6"/> you prefer, and as is becoming the more common practice, you can use a function for your code instead of placing it in a class with a <code class="calibre15">render</code> function, as in <a data-type="xref" href="#using-a-function-instead" class="calibre6">Example 24-2</a>. The main reasons you may prefer to do this are simplicity, ease of use, and faster development.</p>

<div data-type="example" id="using-a-function-instead" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-2. </span>Using a function instead of a class</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="cp">&lt;!DOCTYPE html&gt;</code><code class="calibre15">
</code><code class="nt">&lt;html</code><code class="calibre15"> </code><code class="na">lang=</code><code class="s">"en"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;head</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;meta</code><code class="calibre15"> </code><code class="na">charset=</code><code class="s">"utf-8"</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;title</code><code class="nt">&gt;</code><code class="calibre15">First React Project</code><code class="nt">&lt;/title&gt;</code><code class="calibre15">

    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'react.development.js'</code><code class="err"> </code><code class="calibre15"> </code><code class="err"> </code><code class="calibre15"> </code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">'react-dom.development.js'</code><code class="nt">&gt;</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;script </code><code class="na">src=</code><code class="s">"babel.min.js"</code><code class="nt">&gt;</code><code class="calibre15">            </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

    </code><code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
      </code><strong class="calibre31"><code class="k1">function</code><code class="calibre17"> </code><code class="nx1">Two</code><code class="p1">(</code><code class="p1">)</code><code class="calibre17">
      </code><code class="p1">{</code><code class="calibre17">
        </code><code class="k1">return</code><code class="calibre17"> </code><code class="p1">&lt;</code><code class="na1">p</code><code class="p1">&gt;</code><code class="nx1">And</code><code class="calibre17"> </code><code class="k1">this</code><code class="p1">,</code><code class="calibre17"> </code><code class="nx1">by</code><code class="calibre17"> </code><code class="nx1">Jove</code><code class="o1">!</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">p</code><code class="p1">&gt;</code><code class="calibre17">
      </code><code class="p1">}</code></strong><code class="calibre15">

      </code><code class="n">ReactDOM</code><code class="p">.</code><code class="n">render</code><code class="p">(</code><strong class="calibre31"><code class="p1">&lt;</code><code class="na1">Two</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code></strong><code class="p">,</code><code class="calibre15"> </code><code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><strong class="calibre31"><code class="s2">'div2'</code></strong><code class="p">)</code><code class="p">)</code><code class="calibre15">
    </code><code class="nt">&lt;/script&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/head&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;body</code><code class="nt">&gt;</code><code class="calibre15">
    </code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">"div2"</code><code class="err"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
  </code><code class="nt">&lt;/body&gt;</code><code class="calibre15">
</code><code class="nt">&lt;/html&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">The displayed result of this in the browser is:</p>

<pre class="calibre29">
<strong class="calibre31">And this, by Jove!</strong></pre>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">In the examples that follow from this point onward, for the sake of brevity and simplicity, I will show only the contents of the Babel script and the body of the document as if they were both in the body (which works just the same), but the examples in the companion archive <em class="hyperlink">will</em> be complete. So they will look like this from now on:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre45">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code>
  <code class="k">function</code> <code class="n">Two</code><code class="p">()</code>
  <code class="p">{</code>
    <code class="k">return</code> <code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code><code class="n">And</code> <code class="k">this</code><code class="p">,</code> <code class="n">by</code> <code class="n">Jove</code><code class="o">!</code><code class="p">&lt;/</code><code class="nt">p</code><code class="p">&gt;</code>
  <code class="p">}</code>

  <code class="n">ReactDOM</code><code class="p">.</code><code class="n">render</code><code class="p">(&lt;</code><code class="nt">Two</code> <code class="p">/&gt;,</code>
  <code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><code class="s">'div2'</code><code class="p">))</code>
<code class="nt">&lt;/script&gt;</code>

<code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">"div2"</code><code class="nt">&gt;&lt;/div&gt;</code>
</pre>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Pure and Impure Code: A Golden Rule" class="calibre4"><div class="preface" id="idm45694675624456">
<h2 class="calibre28">Pure and Impure Code: A Golden Rule</h2>

<p class="author1">When <a contenteditable="false" data-primary="React" data-secondary="pure vs. impure code" data-type="indexterm" id="idm45694675657224" class="calibre6"/><a contenteditable="false" data-primary="code, pure vs. impure" data-type="indexterm" id="idm45694675655848" class="calibre6"/>you write a normal JavaScript function, it is possible to write either what React calls <em class="hyperlink">pure</em> or <em class="hyperlink">impure</em> code. Pure function code does not change its inputs, as in the following, which returns a value calculated from its arguments:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">function</code> <code class="n">mult</code><code class="p">(</code><code class="n">m1</code><code class="p">,</code> <code class="n">m2</code><code class="p">)</code>
<code class="p">{</code>
  <code class="k">return</code> <code class="n">m1</code> <code class="o">*</code> <code class="n">m2</code>
<code class="p">}</code>
</pre>

<p class="author1">However, this function is considered impure because it modifies an argument and is absolutely not allowed when using React:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">function</code> <code class="n">assign</code><code class="p">(</code><code class="n">obj</code><code class="p">,</code> <code class="n">val</code><code class="p">)</code>
<code class="p">{</code>
  <code class="n">obj</code><code class="p">.</code><code class="n">value</code> <code class="o">=</code> <code class="n">val</code>
<code class="p">}</code>
</pre>

<p class="author1">Expressed as a golden rule, this means that all React components must act like pure functions with respect to their props, as explained at <a data-type="xref" href="#props-and-components" class="calibre6">“Props and Components”</a>.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using Both a Class and a Function" class="calibre4"><div class="preface" id="idm45694675566840">
<h2 class="calibre28">Using Both a Class and a Function</h2>

<p class="author1">You<a contenteditable="false" data-primary="functions (React)" data-secondary="using both classes and functions" data-type="indexterm" id="idm45694675565336" class="calibre6"/><a contenteditable="false" data-primary="classes" data-secondary="in React" data-type="indexterm" id="idm45694675563960" class="calibre6"/> can, of course, use functions and classes pretty much interchangeably (although there are differences between them, which I explain later in <a data-type="xref" href="#the-differences-between-class-function" class="calibre6">“The Differences Between Using a Class and a Function”</a>), as in <a data-type="xref" href="#using-both-classes-and" class="calibre6">Example 24-3</a>.</p>

<div data-type="example" id="using-both-classes-and" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-3. </span>Using both classes and functions</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="k">class</code><code class="calibre15"> </code><code class="n">One</code><code class="calibre15"> </code><code class="k">extends</code><code class="calibre15"> </code><code class="n">React</code><code class="p">.</code><code class="n">Component</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">render</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">return</code><code class="calibre15"> </code><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code><code class="n">By</code><code class="calibre15"> </code><code class="n">Jeeves</code><code class="p">,</code><code class="calibre15"> </code><code class="n">it</code><code class="calibre15"> </code><code class="n">works</code><code class="o">!</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">p</code><code class="p">&gt;</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">
  
  </code><code class="k">function</code><code class="calibre15"> </code><code class="n">Two</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="k">return</code><code class="calibre15"> </code><code class="p">&lt;</code><code class="nt">p</code><code class="p">&gt;</code><code class="n">And</code><code class="calibre15"> </code><code class="k">this</code><code class="p">,</code><code class="calibre15"> </code><code class="n">by</code><code class="calibre15"> </code><code class="n">Jove</code><code class="o">!</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">p</code><code class="p">&gt;</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">

  </code><strong class="calibre31"><code class="nx1">doRender</code><code class="p1">(</code><code class="p1">&lt;</code><code class="na1">One</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'div1'</code><code class="p1">)</code><code class="calibre17">
  </code><code class="nx1">doRender</code><code class="p1">(</code><code class="p1">&lt;</code><code class="na1">Two</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code><code class="p1">,</code><code class="calibre17"> </code><code class="s2">'div2'</code><code class="p1">)</code><code class="calibre17">

  </code><code class="k1">function</code><code class="calibre17"> </code><code class="nx1">doRender</code><code class="p1">(</code><code class="nx1">elem</code><code class="p1">,</code><code class="calibre17"> </code><code class="nx1">dest</code><code class="p1">)</code></strong><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">ReactDOM</code><code class="p">.</code><code class="n">render</code><code class="p">(</code><strong class="calibre31"><code class="nx1">elem</code></strong><code class="p">,</code><code class="calibre15"> </code><code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><strong class="calibre31"><code class="nx1">dest</code></strong><code class="p">)</code><code class="p">)</code><strong class="calibre31"><code class="calibre17">
  </code><code class="p1">}</code></strong><code class="calibre15">
</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">"div1"</code><code class="err"> </code><code class="na">style=</code><code class="s">"font-family:monospace"</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">"div2"</code><code class="err"> </code><code class="na">style=</code><code class="s">"font-family:monospace"</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">Here<a contenteditable="false" data-primary="doRender function (React)" data-type="indexterm" id="idm45694675379944" class="calibre6"/> there is a class named <code class="calibre15">One</code> and a function named <code class="calibre15">Two</code>, which are the same as in the previous two examples. There is an additional difference, though—the creation of a new function called <code class="calibre15">doRender</code>—which considerably shortens the syntax of the call required to render a block of XML. The result of running this displays in the browser as:</p>

<pre class="calibre29">
<strong class="calibre31">By Jeeves, it works!</strong></pre>

<pre class="calibre29">
<strong class="calibre31">And this, by Jove!</strong></pre>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">In addition to leaving out the surrounding HTML code of the following examples, I will also leave out the code for the <code class="calibre15">doRender</code> function to save needlessly repeating it many times over. So when you see a call to the <code class="calibre15">doRender</code> function in these examples, remember that it is not a built-in React function but is a function included in the full examples in the companion archive.</p>
</div>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Props and Components" class="calibre4"><div class="preface" id="props-and-components">
<h2 class="calibre28">Props and Components</h2>

<p class="author1">A<a contenteditable="false" data-primary="React" data-secondary="props and components and" data-type="indexterm" id="idm45694675394648" class="calibre6"/><a contenteditable="false" data-primary="props (React)" data-type="indexterm" id="idm45694675393272" class="calibre6"/><a contenteditable="false" data-primary="components (React)" data-type="indexterm" id="idm45694675392168" class="calibre6"/> great way to introduce you to what React calls <em class="hyperlink">props</em> and <em class="hyperlink">components</em> is to build a simple welcome page in which a name is passed to the script and then displayed. <a data-type="xref" href="#passing-props-to-a-function" class="calibre6">Example 24-4</a>  is one way to do that. Components let you split the UI into separate, reusable parts and work with each part in isolation. They are similar to JavaScript functions and accept arbitrary inputs that are called <em class="hyperlink">props</em>, returning React elements that describe how elements should appear in the browser.</p>

<div data-type="example" id="passing-props-to-a-function" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-4. </span>Passing <code class="calibre15">props</code> to a function</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code>
  <code class="k">function</code> <code class="n">Welcome</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
  <code class="p">{</code>
    <code class="k">return</code> <code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code><code class="n">Hello</code><code class="p">,</code> <code class="p">{</code><code class="n">props</code><code class="p">.</code><code class="n">name</code><code class="p">}&lt;/</code><code class="nt">h1</code><code class="p">&gt;</code>
  <code class="p">}</code>

  <code class="n">doRender</code><code class="p">(&lt;</code><code class="nt">Welcome</code> <code class="na">name</code><code class="o">=</code><code class="s">'Robin'</code> <code class="p">/&gt;,</code> <code class="s">'hello'</code><code class="p">)</code>
<code class="nt">&lt;/script&gt;</code>

<code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">"hello"</code><code class="err"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;&lt;/div&gt;</code></pre>
</div>

<p class="author1">In this example, the <code class="calibre15">Welcome</code> function receives an argument of <code class="calibre15">props</code>, which stands for properties, and within its JSX <code class="calibre15">return</code> statement there is a section inside curly braces that fetches the <code class="calibre15">name</code> property from the <code class="calibre15">props</code> object, like this:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
return <code class="nt">&lt;h1&gt;</code>Hello, {props.name}<code class="nt">&lt;/h1&gt;</code></pre>

<p class="author1"><code class="calibre15">props</code> is an object in React, and next you will see one way to populate it with a <span class="keep-together">property.</span></p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Using<a contenteditable="false" data-primary="curly braces ({ })" data-secondary="embedding expressions within JSX" data-type="indexterm" id="idm45694675318264" class="calibre6"/><a contenteditable="false" data-primary="{ } (curly braces)" data-secondary="embedding expressions within JSX" data-type="indexterm" id="idm45694675316888" class="calibre6"/><a contenteditable="false" data-primary="JSX extension" data-secondary="embedding expression within" data-type="indexterm" id="idm45694675314200" class="calibre6"/> curly braces is how you can embed expressions within JSX. In fact, you can place almost any JavaScript expression inside these curly braces and it will be evaluated (with the exception of <code class="calibre15">for</code> and <code class="calibre15">if</code> statements, which cannot be evaluated).</p>

<p class="author1">So, in place of <code class="calibre15">props.name</code> in this example, you could enter <code class="calibre15">76 / 13</code> or <code class="calibre15">"decode".substr(-4)</code> (which would evaluate to the string <code class="calibre15">"code"</code>). In this instance, however, the property <code class="calibre15">name</code> is retrieved from the <code class="calibre15">props</code> object and returned.</p>
</div>

<p class="author1">Finally, the <code class="calibre15">doRender</code> function (which you will remember is a shorthand call leading to the <code class="calibre15">ReactDOM.render</code> function) is passed the name of the <code class="calibre15">Welcome</code> function, followed by assigning the string value <code class="calibre15">'Robin'</code> to its <code class="calibre15">name</code> property, like this:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="n">doRender</code><code class="p">(</code><code class="o">&lt;</code><code class="n">Welcome</code> <code class="n">name</code><code class="o">=</code><code class="s">'Robin'</code> <code class="o">/&gt;</code><code class="p">,</code> <code class="s">'hello'</code><code class="p">)</code></pre>

<p class="author1">React then calls the <code class="calibre15">Welcome</code> function (also called a <em class="hyperlink">component</em>), passing it <code class="calibre15">{name: 'Robin'}</code> in <code class="calibre15">props</code>. <code class="calibre15">Welcome</code> then evaluates and returns <code class="calibre15">&lt;h1&gt;Hello, Robin&lt;/h1&gt;</code> as its result, which is then rendered into the <code class="calibre15">div</code> called <code class="calibre15">hello</code> and renders in the browser like this:</p>

<pre class="calibre29">
<b class="keep-together">  Hello, Robin</b></pre>

<p class="author1">To make your code tidier you can also, if you wish, first create an element containing the XML to pass to <code class="calibre15">doRender</code>, like this:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">const</code> <code class="n">elem</code> <code class="o">=</code> <code class="o">&lt;</code><code class="n">Welcome</code> <code class="n">name</code><code class="o">=</code><code class="s">'Robin'</code> <code class="o">/&gt;</code>
<code class="n">doRender</code><code class="p">(</code><code class="n">elem</code><code class="p">,</code> <code class="s">'hello'</code><code class="p">)</code>
</pre>
</div></section>

<section data-type="sect2" data-pdf-bookmark="The Differences Between Using a Class and a Function" class="calibre4"><div class="preface" id="the-differences-between-class-function">
<h2 class="calibre28">The Differences Between Using a Class and a Function</h2>

<p class="author1">The<a contenteditable="false" data-primary="React" data-secondary="classes vs. functions" data-type="indexterm" id="idm45694675195144" class="calibre6"/><a contenteditable="false" data-primary="functions (React)" data-secondary="vs. classes" data-secondary-sortas="classes" data-type="indexterm" id="idm45694675193768" class="calibre6"/><a contenteditable="false" data-primary="classes" data-secondary="in React" data-type="indexterm" id="idm45694675192120" class="calibre6"/> most obvious difference between using a class and a function in React is the syntax. A function is simple JavaScript (possibly incorporating JSX), which can accept a props argument and return a component element.</p>

<p class="author1">A class, however, is extended from <code class="calibre15">React.Component</code> and requires a <code class="calibre15">render</code> method to return a component. But this additional code does come with benefits, in that a class allows you to use <code class="calibre15">setState</code> in your component, enabling (for example) the use of timers and other stateful features. Functions in React are called <em class="hyperlink">functional stateless component</em>s. Additionally, classes allow you to use what React calls <em class="hyperlink">life-cycle hooks and methods</em>. More on all of this in the following section.</p>

<p class="author1">In essence, nowadays you can do pretty much everything in React using<a contenteditable="false" data-primary="" data-startref="Rexam24" data-type="indexterm" id="idm45694675187144" class="calibre6"/> functions.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="React State and Life Cycle" class="calibre4"><div class="preface" id="idm45694676053144">
<h1 class="calibre11">React State and Life Cycle</h1>

<p class="author1">Let’s<a contenteditable="false" data-primary="React" data-secondary="state and life cycle" data-type="indexterm" id="Rstate24" class="calibre6"/><a contenteditable="false" data-primary="clocks, ticking" data-type="indexterm" id="idm45694675182008" class="calibre6"/> assume you want a ticking clock to be displayed on your web page (an ordinary digital one for simplicity’s sake). If you are using stateless code this is not an easy matter, but if you set up your code to retain its state, then the clock counter can be updated once per second and the time rendered equally as often. This is where you would use a class in React rather than a function. So let’s build such a clock:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code>
  <code class="k">class</code> <code class="n">Clock</code> <code class="k">extends</code> <code class="n">React</code><code class="p">.</code><code class="n">Component</code>
  <code class="p">{</code>
    <code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
      <code class="k">this</code><code class="p">.</code><code class="n">state</code> <code class="o">=</code> <code class="p">{</code><code class="n">date</code><code class="o">:</code> <code class="k">new</code> <code class="nb">Date</code><code class="p">()}</code>
    <code class="p">}</code>

    <code class="n">render</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">return</code> <code class="p">&lt;</code><code class="nt">span</code><code class="p">&gt;</code> <code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">date</code><code class="p">.</code><code class="n">toLocaleTimeString</code><code class="p">()}</code> <code class="p">&lt;/</code><code class="nt">span</code><code class="p">&gt;</code>
    <code class="p">}</code>
  <code class="p">}</code>

  <code class="n">doRender</code><code class="p">(&lt;</code><code class="nt">Clock</code> <code class="p">/&gt;,</code> <code class="s">'the_time'</code><code class="p">)</code>
<code class="nt">&lt;/script&gt;</code>

<code class="nt">&lt;p</code> <code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code>The time is: <code class="nt">&lt;span</code> <code class="na">id=</code><code class="s">"the_time"</code><code class="nt">&gt;&lt;/span&gt;&lt;/p&gt;</code>
</pre>

<p class="author1">This<a contenteditable="false" data-primary="render function (React)" data-type="indexterm" id="idm45694675178360" class="calibre6"/> code assigns the result returned from calling the <code class="calibre15">Date</code> function to the <code class="calibre15">state</code> property of the constructor’s <code class="calibre15">this</code> object, which is <code class="calibre15">props</code>. The JSX content will now be rendered whenever the class’s <code class="calibre15">render</code> function is called, and, as long as it is rendered into the same DOM node, only a single instance of the class will be used.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Did<a contenteditable="false" data-primary="super method (React)" data-type="indexterm" id="idm45694675090712" class="calibre6"/> you see the call to <code class="calibre15">super</code> at the start of the constructor? By passing it <code class="calibre15">props</code>, it is now possible to refer to <code class="calibre15">props</code> using the <code class="calibre15">this</code> keyword within the constructor, without which call you could not.</p>
</div>

<p class="author1">However, as<a contenteditable="false" data-primary="life cycle method (React)" data-type="indexterm" id="idm45694675087240" class="calibre6"/> things stand, the time will be displayed only once, and then the code will stop running. So now we need to set up some interrupt-driven code to keep the <code class="calibre15">date</code> property updated, which is done by adding a <em class="hyperlink">life-cycle</em> method to the class by mounting a timer using <code class="calibre15">componentDidMount</code>, like this:</p>

<pre class="calibre29" data-code-language="javascript">
<code class="n">componentDidMount</code><code class="p">()</code>
<code class="p">{</code>
  <code class="k">this</code><code class="p">.</code><code class="n">timerID</code> <code class="o">=</code> <code class="n">setInterval</code><code class="p">(()</code> <code class="o">=&gt;</code> <code class="k">this</code><code class="p">.</code><code class="n">tick</code><code class="p">(),</code> <code class="mi">1000</code><code class="p">)</code>
<code class="p">}</code>
</pre>

<p class="author1">We aren’t quite there yet, as we still need to write the <code class="calibre15">tick</code> function, but first, to explain the preceding: <code class="calibre15"><em class="calibre30">mounting</em></code> is the term React uses to describe the action of adding nodes to the DOM. A class’s <code class="calibre15">componentDidMount</code> method is always called if the component is mounted successfully, so it’s the ideal place to set up an interrupt, and, indeed, in the preceding code, <code class="calibre15">this.timerID</code> is assigned the ID returned by calling the <code class="calibre15">SetInterval</code> function, passing it the method <code class="calibre15">this.tick</code> to be called every 1,000 milliseconds (or once per second).</p>

<p class="author1">When a timer is mounted, we must also provide a means for it to be <em class="hyperlink">unmounted</em> to prevent wasted interrupt cycles. In this case when the DOM produced by <code class="calibre15">Clock</code> is removed (that is, the component is unmounted), the method and code we use to stop the interrupts looks like this:</p>

<pre class="calibre29" data-code-language="javascript">
<code class="n">componentWillUnmount</code><code class="p">()</code>
<code class="p">{</code>
  <code class="n">clearInterval</code><code class="p">(</code><code class="k">this</code><code class="p">.</code><code class="n">timerID</code><code class="p">)</code>
<code class="p">}</code>
</pre>

<p class="author1">Here, <code class="calibre15">componentWillUnmount</code> is called by React when the DOM is removed; thus, this is where we place the code to clear the interval stored in <code class="calibre15">this.timerID</code>, then return all those time slices back to the system, because clearing the interval instantly stops <code class="calibre15">tick</code> from being called.</p>

<p class="author1">The last piece of the puzzle is the interrupt-driven code to be called every 1,000 milliseconds, which is in the method <code class="calibre15">tick</code>:</p>

<pre class="calibre29" data-code-language="javascript">
<code class="n">tick</code><code class="p">()</code>
<code class="p">{</code>
  <code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">({</code><code class="n">date</code><code class="o">:</code> <code class="k">new</code> <code class="nb">Date</code><code class="p">()})</code>
<code class="p">}</code></pre>

<p class="author1">Here<a contenteditable="false" data-primary="setState function (React)" data-type="indexterm" id="idm45694674975032" class="calibre6"/> the React <code class="calibre15">setState</code> function is called to update the value in the <code class="calibre15">state</code> property with the latest result of calling the <code class="calibre15">Date</code> function once every second.</p>

<p class="author1">So let’s look at all this code together in one example, as shown in <a data-type="xref" href="#building-a-clock-in-react" class="calibre6">Example 24-5</a>.</p>

<div data-type="example" id="building-a-clock-in-react" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-5. </span>Building a clock in React</h5>

<pre data-code-language="js" data-type="programlisting" class="calibre72">
<code class="o">&lt;</code><code class="n">script</code> <code class="n">type</code><code class="o">=</code><code class="s">"text/babel"</code><code class="o">&gt;</code>
  <code class="k">class</code> <code class="n">Clock</code> <code class="k">extends</code> <code class="n">React</code><code class="p">.</code><code class="n">Component</code>
  <code class="p">{</code>
    <code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
      <code class="k">this</code><code class="p">.</code><code class="n">state</code> <code class="o">=</code> <code class="p">{</code><code class="n">date</code><code class="o">:</code> <code class="k">new</code> <code class="nb">Date</code><code class="p">()}</code>
    <code class="p">}</code>

    <code class="n">componentDidMount</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">this</code><code class="p">.</code><code class="n">timerID</code> <code class="o">=</code> <code class="n">setInterval</code><code class="p">(()</code> <code class="o">=&gt;</code> <code class="k">this</code><code class="p">.</code><code class="n">tick</code><code class="p">(),</code> <code class="mi">1000</code><code class="p">)</code>
    <code class="p">}</code>

    <code class="n">componentWillUnmount</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="n">clearInterval</code><code class="p">(</code><code class="k">this</code><code class="p">.</code><code class="n">timerID</code><code class="p">)</code>
    <code class="p">}</code>

    <code class="n">tick</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">({</code><code class="n">date</code><code class="o">:</code> <code class="k">new</code> <code class="nb">Date</code><code class="p">()})</code>
    <code class="p">}</code>

    <code class="n">render</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">return</code> <code class="o">&lt;</code><code class="n">span</code><code class="o">&gt;</code> <code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">date</code><code class="p">.</code><code class="n">toLocaleTimeString</code><code class="p">()}</code> <code class="o">&lt;</code><code class="err">/span&gt;</code>
    <code class="p">}</code>
  <code class="p">}</code>

  <code class="n">doRender</code><code class="p">(</code><code class="o">&lt;</code><code class="n">Clock</code> <code class="o">/&gt;</code><code class="p">,</code> <code class="s">'the_time'</code><code class="p">)</code>
<code class="p">}</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code>

<code class="o">&lt;</code><code class="n">p</code> <code class="n">style</code><code class="o">=</code><code class="s">'font-family:monospace'</code><code class="o">&gt;</code><code class="n">The</code> <code class="n">time</code> <code class="n">is</code><code class="o">:</code> <code class="o">&lt;</code><code class="n">span</code> <code class="n">id</code><code class="o">=</code><code class="s">"the_time"</code><code class="o">&gt;&lt;</code><code class="err">/span&gt;&lt;/p&gt;</code>
</pre>
</div>

<p class="author1">With<a contenteditable="false" data-primary="doRender function (React)" data-type="indexterm" id="idm45694674939576" class="calibre6"/> the <code class="calibre15">Clock</code> class now complete with a constructor, an interrupt starter and stopper, a method to update the <code class="calibre15">state</code> property using interrupts, and a <code class="calibre15">render</code> function, all that is now necessary is to call <code class="calibre15">doRender</code> to get the whole thing ticking away, as smooth as clockwork! The result looks like this in the browser:</p>

<pre class="calibre29">
<strong class="calibre31">The time is: <span id="the_time" class="keep-together">12:17:21</span></strong></pre>

<p class="author1">The clock is automatically updated to screen each time the <code class="calibre15">setState</code> function is called, because components are rerendered by this function, so you don’t have to worry about doing this with your code.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">After the initial state setup, <code class="calibre15">setState</code> is the only legitimate way to update state, because simply modifying a state directly will <em class="hyperlink">not</em> cause a component to be rerendered. Remember that the <em class="hyperlink">only</em> place you can assign <code class="calibre15">this.state</code> is in the constructor. React may bundle multiple <code class="calibre15">setState</code> calls into a single update.</p>
</div>

<section data-type="sect2" data-pdf-bookmark="Using Hooks (if You Use Node.js)" class="calibre4"><div class="preface" id="idm45694674795256">
<h2 class="calibre28">Using Hooks (if You Use Node.js)</h2>

<p class="author1">If<a contenteditable="false" data-primary="Node.js" data-type="indexterm" id="idm45694674793960" class="calibre6"/><a contenteditable="false" data-primary="hooks (React)" data-type="indexterm" id="idm45694674792824" class="calibre6"/> you are using Node.js (see <a href="http://nodejs.org/" class="calibre6">nodejs.org</a>), you can make use of hooks instead of having to rely so much on classes. Node.js is an open source server environment that runs JavaScript (and React) directly on the server and is a technology that would take several chapters to properly document here, but if you are already using it, I wanted you to know that you can also make use of React’s new hooks.</p>

<p class="author1">Hooks were included as a new addition in React 16.8 to support accessing state without having to use a class. They are easy to use and are becoming a growing addition to React. If you would like to look into using them, you can get<a contenteditable="false" data-primary="" data-startref="Rstate24" data-type="indexterm" id="idm45694674789800" class="calibre6"/> <a href="https://reactjs.org/docs/hooks-intro.html" class="calibre6">more information online</a>.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Events in React" class="calibre4"><div class="preface" id="events-in-react">
<h1 class="calibre11">Events in React</h1>

<p class="author1">In<a contenteditable="false" data-primary="React" data-secondary="events in" data-type="indexterm" id="Revent24" class="calibre6"/><a contenteditable="false" data-primary="event handling" data-secondary="in React" data-type="indexterm" id="EHreact24" class="calibre6"/><a contenteditable="false" data-primary="syntheticEvent (React)" data-type="indexterm" id="idm45694674782008" class="calibre6"/><a contenteditable="false" data-primary="nativeEvent (React)" data-type="indexterm" id="idm45694674780904" class="calibre6"/> React, events are named using camelCase, and you use JSX to pass a function as the event handler, not a string. Also, React events do not work in exactly the same way as native JavaScript events, in that your handlers are passed instances of a cross-browser wrapper around the browser’s native event called <code class="calibre15">syntheticEvent</code>. The reason for this is that React normalizes events to have consistent properties across different browsers. Should you need access to the browser event, however, you can always use the <code class="calibre15">nativeEvent</code> attribute to reach it.</p>

<p class="author1">To<a contenteditable="false" data-primary="onClick event (React)" data-type="indexterm" id="idm45694674777864" class="calibre6"/> illustrate the use of events in React, <a data-type="xref" href="#setting-up-an-event" class="calibre6">Example 24-6</a> is a simple example of an <code class="calibre15">onClick</code> event that removes or redisplays some text when clicked.</p>

<div data-type="example" id="setting-up-an-event" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-6. </span>Setting up an event</h5>

<pre data-code-language="js" data-type="programlisting" class="calibre72">
<code class="o">&lt;</code><code class="n">script</code> <code class="n">type</code><code class="o">=</code><code class="s">"text/babel"</code><code class="o">&gt;</code>
  <code class="k">class</code> <code class="n">Toggle</code> <code class="k">extends</code> <code class="n">React</code><code class="p">.</code><code class="n">Component</code>
  <code class="p">{</code>
    <code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
      <code class="k">this</code><code class="p">.</code><code class="n">state</code>       <code class="o">=</code> <code class="p">{</code><code class="n">isVisible</code><code class="o">:</code> <code class="k">true</code><code class="p">}</code>
      <code class="k">this</code><code class="p">.</code><code class="n">handleClick</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="n">handleClick</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code>
    <code class="p">}</code>

    <code class="n">handleClick</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">(</code><code class="n">state</code> <code class="o">=&gt;</code> <code class="p">({</code><code class="n">isVisible</code><code class="o">:</code> <code class="o">!</code><code class="n">state</code><code class="p">.</code><code class="n">isVisible</code><code class="p">}))</code>
    <code class="p">}</code>

    <code class="n">render</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">const</code> <code class="n">show</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">isVisible</code>

      <code class="k">return</code> <code class="p">(</code>
        <code class="o">&lt;</code><code class="n">div</code><code class="o">&gt;</code>
          <code class="o">&lt;</code><code class="n">button</code> <code class="n">onClick</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">handleClick</code><code class="p">}</code><code class="o">&gt;</code>
            <code class="p">{</code><code class="n">show</code> <code class="o">?</code> <code class="s">'HIDE'</code> <code class="o">:</code> <code class="s">'DISPLAY'</code><code class="p">}</code>
          <code class="o">&lt;</code><code class="err">/button&gt;</code>
          <code class="o">&lt;</code><code class="n">p</code><code class="o">&gt;</code><code class="p">{</code><code class="n">show</code> <code class="o">?</code> <code class="s">'Here is some text'</code> <code class="o">:</code> <code class="s">''</code><code class="p">}</code><code class="o">&lt;</code><code class="err">/p&gt;</code>
        <code class="o">&lt;</code><code class="err">/div&gt;</code>
      <code class="p">)</code>
    <code class="p">}</code>
  <code class="p">}</code>

  <code class="n">doRender</code><code class="p">(</code><code class="o">&lt;</code><code class="n">Toggle</code> <code class="o">/&gt;</code><code class="p">,</code> <code class="s">'display'</code><code class="p">)</code>
<code class="o">&lt;</code><code class="err">/script&gt;</code>

<code class="o">&lt;</code><code class="n">div</code> <code class="n">id</code><code class="o">=</code><code class="s">"display"</code> <code class="n">style</code><code class="o">=</code><code class="s">"font-family:monospace"</code><code class="o">&gt;&lt;</code><code class="err">/div&gt;</code>
</pre>
</div>

<p class="author1">In the constructor of a new class called <code class="calibre15">Toggle</code>, an <code class="calibre15">isVisible</code> property is set to <code class="calibre15">true</code> and assigned to <code class="calibre15">this.state</code>, like this:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">this</code><code class="p">.</code><code class="n">state</code> <code class="o">=</code> <code class="p">{</code><code class="n">isVisible</code><code class="o">:</code> <code class="k">true</code><code class="p">}</code></pre>

<p class="author1">Then an event handler called <code class="calibre15">handleClick</code> is attached to <code class="calibre15">this</code> using the <code class="calibre15">bind</code> method:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">this</code><code class="p">.</code><code class="n">handleClick</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="n">handleClick</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code></pre>

<p class="author1">With the constructor finished, the <code class="calibre15">handleClick</code> event handler is next. This has a single-line command to toggle the state of <code class="calibre15">isVisible</code> between <code class="calibre15">true</code> and <code class="calibre15">false</code>:</p>

<pre data-code-language="javascript" data-type="programlisting" class="calibre29">
<code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">(</code><code class="n">state</code> <code class="o">=&gt;</code> <code class="p">({</code><code class="n">isVisible</code><code class="o">:</code> <code class="o">!</code><code class="n">state</code><code class="p">.</code><code class="n">isVisible</code><code class="p">}))</code></pre>

<p class="author1">Last, there’s<a contenteditable="false" data-primary="render function (React)" data-type="indexterm" id="idm45694674563560" class="calibre6"/> the call to the <code class="calibre15">render</code> method, which returns two elements wrapped inside a <code class="calibre15">&lt;div&gt;</code>. The reason for this is that render can only return a single component (or XML tag), so the two elements are wrapped into a single element to satisfy that requirement.</p>

<p class="author1">The elements returned are a button, which displays either the text DISPLAY if the following text is currently hidden (that is, <code class="calibre15">isVisible</code> is set to <code class="calibre15">false</code>) or HIDE if <code class="calibre15">isVisible</code> is set to <code class="calibre15">true</code> and the text is currently visible. Following this button, some text is displayed underneath if <code class="calibre15">isVisible</code> is <code class="calibre15">true</code>, otherwise nothing is shown (in fact, an empty string is returned, which is the same thing).</p>

<p class="author1">To decide what button text to display, or whether or not to show the text, the ternary operator is used, which you will recall follows the syntax:</p>

<pre class="calibre29">
 expression ? return this if true : or this if false.
</pre>

<p class="author1">This is done by the single-word expression of the variable <code class="calibre15">show</code> (which retrieved its value from <code class="calibre15">this.state.isVisible</code>). If it evaluates to <code class="calibre15">true</code>, then the button shows HIDE and the text is displayed, otherwise the button shows DISPLAY and the text is not displayed. When loaded into the browser, the result looks like this (where <code class="calibre15">[HIDE]</code> and <code class="calibre15">[DISPLAY]</code> are buttons):</p>

<pre class="calibre29">
<strong class="calibre31">[HIDE]</strong></pre>

<pre class="calibre29">
<strong class="calibre31">Here is some text</strong></pre>

<p class="author1">When the button is pressed, it changes to just the following:</p>

<pre class="calibre29">
<strong class="calibre31">[DISPLAY]</strong></pre>

<div data-type="warning" epub:type="warning" class="calibre21">
<h1 class="calibre32">Using JSX Over Multiple Lines</h1>

<p class="author1">Although<a contenteditable="false" data-primary="JSX extension" data-secondary="using over multiple lines" data-type="indexterm" id="idm45694674414952" class="calibre6"/> you can split up your JSX across many lines to improve readability, as in the previous example, the one thing you may not do is move the parenthesis following the <code class="calibre15">return</code> command down a line (or anywhere else). It must stay in its place following <code class="calibre15">return</code> or syntax errors will be reported. The closing parenthesis may, however, appear where you<a contenteditable="false" data-primary="" data-startref="Revent24" data-type="indexterm" id="idm45694674412328" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="EHreact24" data-type="indexterm" id="idm45694674410952" class="calibre6"/> wish.</p>
</div>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Inline JSX Conditional Statements" class="calibre4"><div class="preface" id="idm45694674786440">
<h1 class="calibre11">Inline JSX Conditional Statements</h1>

<p class="author1">In<a contenteditable="false" data-primary="React" data-secondary="inline JSX conditional statements" data-type="indexterm" id="idm45694674407928" class="calibre6"/><a contenteditable="false" data-primary="JSX extension" data-secondary="inline conditional statements" data-type="indexterm" id="idm45694674406552" class="calibre6"/><a contenteditable="false" data-primary="conditionals (JSX)" data-type="indexterm" id="idm45694674405160" class="calibre6"/> JSX there is a way to only return XML if a condition is <code class="calibre15">true</code>, thus enabling conditional rendering. This is achieved by virtue of the fact that <code class="calibre15">true &amp;&amp; expression</code> evaluates to <code class="calibre15">expression</code>, while <code class="calibre15">false &amp;&amp; expression</code> evaluates to <code class="calibre15">false</code>.</p>

<p class="author1">Therefore, for example, <a data-type="xref" href="#a-conditional-jsx-statement" class="calibre6">Example 24-7</a> sets up two variables as if they are in part of a game. <code class="calibre15">this.highScore</code> is set to 90, and <code class="calibre15">this.currentScore</code> is set to 100.</p>

<div data-type="example" id="a-conditional-jsx-statement" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-7. </span>A conditional JSX statement</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="k">class</code><code class="calibre15"> </code><code class="n">Setup</code><code class="calibre15"> </code><code class="k">extends</code><code class="calibre15"> </code><code class="n">React</code><code class="p">.</code><code class="n">Component</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">highScore</code><code class="calibre15">    </code><code class="o">=</code><code class="calibre15"> </code><code class="mi">90</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">currentScore</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="mi">100</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">render</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">return</code><code class="calibre15"> </code><code class="p">(</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="nt">div</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">{</code><code class="calibre15">
            </code><strong class="calibre31"><code class="k1">this</code><code class="p1">.</code><code class="nx1">currentScore</code><code class="calibre17"> </code><code class="o1">&gt;</code><code class="calibre17"> </code><code class="k1">this</code><code class="p1">.</code><code class="nx1">highScore</code><code class="calibre17"> </code><code class="o1">&amp;&amp;</code></strong><code class="calibre15">
              </code><code class="p">&lt;</code><code class="nt">h1</code><code class="p">&gt;</code><code class="n">New</code><code class="calibre15"> </code><code class="n">High</code><code class="calibre15"> </code><code class="n">Score</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">h1</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">}</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">div</code><code class="p">&gt;</code><code class="calibre15">
      </code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">

  </code><code class="n">doRender</code><code class="p">(</code><code class="p">&lt;</code><code class="nt">Setup</code><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'display'</code><code class="p">)</code><code class="calibre15">
</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'display'</code><code class="calibre15"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">In this instance, if <code class="calibre15">this.currentScore</code> is greater than <code class="calibre15">this.highScore</code>, then the <code class="calibre15">h1</code> element is returned; otherwise <code class="calibre15">false</code> is returned. The result of the code looks like this in the browser:</p>

<pre class="calibre29">
<b class="keep-together">  New High Score</b></pre>

<p class="author1">Of course, in an actual game you would then proceed to set <code class="calibre15">this.highScore</code> to the value in <code class="calibre15">this.currentScore</code> and would probably do a few other things, too, before going back to the game code.</p>

<p class="author1">So, wherever<a contenteditable="false" data-primary="logical operators" data-secondary="in JSX" data-type="indexterm" id="idm45694674247992" class="calibre6"/><a contenteditable="false" data-primary="&amp;&amp; (And) logical operator" data-secondary="in JSX" data-type="indexterm" id="idm45694674246696" class="calibre6"/><a contenteditable="false" data-primary="And (&amp;&amp;) logical operator" data-secondary="in JSX" data-type="indexterm" id="idm45694674245352" class="calibre6"/><a contenteditable="false" data-primary="ternary (? :) operator" data-secondary="in JSX" data-type="indexterm" id="idm45694674244008" class="calibre6"/><a contenteditable="false" data-primary="? : (ternary) operator" data-secondary="in JSX" data-type="indexterm" id="idm45694674262824" class="calibre6"/> something should be displayed only upon a condition being <code class="calibre15">true</code>, the <code class="calibre15">&amp;&amp;</code> operator is a great way to achieve this. And, of course, you have just seen (near the end of <a data-type="xref" href="#events-in-react" class="calibre6">“Events in React”</a>) how you can also create an <code class="calibre15">if...then...else</code> block in JSX using a ternary (<code class="calibre15">?:</code>) expression.</p>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Using Lists and Keys" class="calibre4"><div class="preface" id="idm45694674258552">
<h1 class="calibre11">Using Lists and Keys</h1>

<p class="author1">Displaying<a contenteditable="false" data-primary="React" data-secondary="lists and keys" data-type="indexterm" id="Rlists24" class="calibre6"/><a contenteditable="false" data-primary="lists, and keys in React" data-type="indexterm" id="listsreact24" class="calibre6"/><a contenteditable="false" data-primary="keys" data-secondary="in React" data-type="indexterm" id="keyreact24" class="calibre6"/><a contenteditable="false" data-primary="map function (React)" data-type="indexterm" id="idm45694674227992" class="calibre6"/> lists using React is a breeze. In <a data-type="xref" href="#displaying-a-list" class="calibre6">Example 24-8</a> the array <code class="calibre15">cats</code> contains a list of four types of cat. This is then extracted in the following line of code using the <code class="calibre15">map</code> function, which iterates through the array, returning each item in turn in the variable <code class="calibre15">cat</code>. This results in each iteration being embedded in a pair of <code class="calibre15">&lt;li&gt;...&lt;li&gt;</code> tags and then appended to the <code class="calibre15">listofCats</code> string.</p>

<div data-type="example" id="displaying-a-list" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-8. </span>Displaying a list</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="k">const</code><code class="calibre15"> </code><code class="n">cats</code><code class="calibre15">       </code><code class="o">=</code><code class="calibre15"> </code><code class="p">[</code><code class="s">'lion'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'tiger'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'cheetah'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'lynx'</code><code class="p">]</code><code class="calibre15">
  </code><code class="k">const</code><code class="calibre15"> </code><code class="n">listofCats</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">cats</code><code class="p1">.</code><code class="nx1">map</code></strong><code class="p">(</code><code class="p">(</code><code class="n">cat</code><code class="p">)</code><code class="calibre15"> </code><code class="o">=</code><code class="o">&gt;</code><code class="calibre15"> </code><code class="p">&lt;</code><code class="nt">li</code><code class="p">&gt;</code><code class="p">{</code><code class="n">cat</code><code class="p">}</code><code class="p">&lt;</code><code class="p">/</code><code class="nt">li</code><code class="p">&gt;</code><code class="p">)</code><code class="calibre15">

  </code><code class="n">doRender</code><code class="p">(</code><strong class="calibre31"><code class="p1">&lt;</code><code class="na1">ul</code><code class="p1">&gt;</code><code class="p1">{</code><code class="nx1">listofCats</code><code class="p1">}</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">ul</code><code class="p1">&gt;</code></strong><code class="p">,</code><code class="calibre15"> </code><code class="s">'display'</code><code class="p">)</code><code class="calibre15">
</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'display'</code><code class="calibre15"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">Finally, <code class="calibre15">doRender</code> is called, embedding <code class="calibre15">listofCats</code> within a pair of <code class="calibre15">&lt;ul&gt;...&lt;/ul&gt;</code> tags, the result of which displays like this:</p>

<pre class="calibre29">
<strong class="calibre31">• lion
• tiger
• cheetah
• lynx</strong></pre>

<section data-type="sect2" data-pdf-bookmark="Unique Keys" class="calibre4"><div class="preface" id="idm45694674159736">
<h2 class="calibre28">Unique Keys</h2>

<p class="author1">If<a contenteditable="false" data-primary="unique keys (React)" data-type="indexterm" id="idm45694674158040" class="calibre6"/> you had your JavaScript console open when running <a data-type="xref" href="#displaying-a-list" class="calibre6">Example 24-8</a> (usually by pressing Ctrl Shift J or Option Command J on a Mac), you may have noticed the warning message “Each child in a list should have a unique ‘key’ prop.”</p>

<p class="author1">Although not necessary, React works best when you supply a unique key for each sibling list item, which helps it to find references to the appropriate DOM nodes and, when you make a small change, allows for making minor adjustments to the DOM, rather than requiring rerendering of larger sections. So <a data-type="xref" href="#using-unique-keys" class="calibre6">Example 24-9</a> is an example of providing just such a key.</p>

<div data-type="example" id="using-unique-keys" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-9. </span>Using unique keys</h5>

<pre data-code-language="js" data-type="programlisting" class="calibre72">
<code class="o">&lt;</code><code class="n">script</code><code class="calibre15"> </code><code class="n">type</code><code class="o">=</code><code class="s">"text/babel"</code><code class="o">&gt;</code><code class="calibre15">
  </code><strong class="calibre31"><code class="k1">var</code><code class="calibre17"> </code><code class="nx1">uniqueId</code><code class="calibre17">     </code><code class="o1">=</code><code class="calibre17"> </code><code class="mi1">0</code></strong><code class="calibre15">
  </code><code class="k">const</code><code class="calibre15"> </code><code class="n">cats</code><code class="calibre15">       </code><code class="o">=</code><code class="calibre15"> </code><code class="p">[</code><code class="s">'lion'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'tiger'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'cheetah'</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'lynx'</code><code class="p">]</code><code class="calibre15">
  </code><code class="k">const</code><code class="calibre15"> </code><code class="n">listofCats</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="n">cats</code><code class="p">.</code><code class="n">map</code><code class="p">(</code><code class="p">(</code><code class="n">cat</code><code class="p">)</code><code class="calibre15"> </code><code class="o">=&gt;</code><code class="calibre15"> </code><code class="o">&lt;</code><code class="n">li</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">key</code><code class="o1">=</code><code class="p1">{</code><code class="nx1">uniqueId</code><code class="o1">++</code><code class="p1">}</code></strong><code class="o">&gt;</code><code class="p">{</code><code class="n">cat</code><code class="p">}</code><code class="o">&lt;</code><code class="err">/</code><code class="err">l</code><code class="err">i</code><code class="err">&gt;</code><code class="err">)</code><code class="calibre15">
</code><code class="calibre15">
  </code><code class="n">doRender</code><code class="p">(</code><code class="o">&lt;</code><code class="n">ul</code><code class="o">&gt;</code><code class="p">{</code><code class="n">listofCats</code><code class="p">}</code><code class="o">&lt;</code><code class="err">/</code><code class="err">u</code><code class="err">l</code><code class="err">&gt;</code><code class="err">,</code><code class="err"> </code><code class="err">'</code><code class="err">d</code><code class="err">i</code><code class="err">s</code><code class="err">p</code><code class="err">l</code><code class="err">a</code><code class="err">y</code><code class="err">'</code><code class="err">)</code><code class="calibre15">
</code><code class="o">&lt;</code><code class="err">/</code><code class="err">s</code><code class="err">c</code><code class="err">r</code><code class="err">i</code><code class="err">p</code><code class="err">t</code><code class="err">&gt;</code><code class="calibre15">
</code><code class="calibre15">
</code><code class="o">&lt;</code><code class="n">div</code><code class="calibre15"> </code><code class="n">id</code><code class="o">=</code><code class="s">'display'</code><code class="calibre15"> </code><code class="n">style</code><code class="o">=</code><code class="s">'font-family:monospace'</code><code class="o">&gt;</code><code class="o">&lt;</code><code class="err">/</code><code class="err">d</code><code class="err">i</code><code class="err">v</code><code class="err">&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">In this example a <code class="calibre15">uniqueId</code> variable has been created that is incremented each time it is used so that, for example, the first key will become <code class="calibre15">1</code>. The displayed output is the same as the previous example, but if you would like to see the keys generated (just out of interest), you can change the contents of the <code class="calibre15">li</code> element from <code class="calibre15">{cat}</code> to <code class="calibre15">{uniqueId - 1 + ' ' + cat}</code>, and you will see the following displayed (the <code class="calibre15">- 1</code> is used because <code class="calibre15">uniqueId</code> has already been incremented by the time it is referred to, so we need to see what the value was before incrementing):</p>

<pre class="calibre29">
<strong class="calibre31">• 0 lion
• 1 tiger
• 2 cheetah
• 3 lynx</strong></pre>

<p class="author1">But what is the point of this, you may ask? Well, consider the case of the following list structure:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;ul&gt;</code> // Cities In Europe
  <code class="nt">&lt;li&gt;</code>Birmingham<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Paris<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Milan<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Vienna<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code>
<code class="nt">&lt;ul&gt;</code> // Cities in the USA
  <code class="nt">&lt;li&gt;</code>Cincinnati<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Paris<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Chicago<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li&gt;</code>Birmingham<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code>
</pre>

<p class="author1">Here are two sets of lists, each with four unique siblings, but between the lists, both the city names of “Birmingham” and “Paris” are shared at the same level of nesting. When React performs certain reconciliation actions (after reordering or modifying an element perhaps), there are instances when you can achieve speed gains and possibly avoid problems when sibling list items at the same level share the same values. To do this you can provide unique keys for all siblings, which, to React, could look like this:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;ul&gt;</code> // Cities In Europe
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"1"</code><code class="nt">&gt;</code>Birmingham<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"2"</code><code class="nt">&gt;</code>Paris<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"3"</code><code class="nt">&gt;</code>Milan<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"4"</code><code class="nt">&gt;</code>Vienna<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code>
<code class="nt">&lt;ul&gt;</code> // Cities in the USA
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"5"</code><code class="nt">&gt;</code>Cincinnati<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"6"</code><code class="nt">&gt;</code>Paris<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"7"</code><code class="nt">&gt;</code>Chicago<code class="nt">&lt;/li&gt;</code>
  <code class="nt">&lt;li</code> <code class="na">key =</code> <code class="s">"8"</code><code class="nt">&gt;</code>Birmingham<code class="nt">&lt;/li&gt;</code>
<code class="nt">&lt;/ul&gt;</code></pre>

<p class="author1">Now there is no possibility of confusing Paris in Europe with Paris in the USA (or at least of having to work harder to locate and possibly rerender the correct DOM node), as each array element has a different unique ID for React.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">Don’t worry too much about why you are creating these unique keys. Just remember that React works at its best when you do so, and a good rule of thumb is that elements within a <code class="calibre15">map</code> call will need keys. Also, you can reuse your keys for different sets of siblings that are not related in any way. However, you may not have to create your own keys because the data you are working with could well supply them for you, such as book ISBN numbers. As a last resort, you can simply use the index of an item as its key, but reorders could be slow, and you could encounter other issues, so creating your own keys so you can control what they contain is usually the best<a contenteditable="false" data-primary="" data-startref="Rlists24" data-type="indexterm" id="idm45694673857480" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="listsreact24" data-type="indexterm" id="idm45694673856136" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="keyreact24" data-type="indexterm" id="idm45694673854760" class="calibre6"/> option.</p>
</div>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Handling Forms" class="calibre4"><div class="preface" id="idm45694674159144">
<h1 class="calibre11">Handling Forms</h1>

<p class="author1">In<a contenteditable="false" data-primary="React" data-secondary="form handling" data-type="indexterm" id="Rformh24" class="calibre6"/><a contenteditable="false" data-primary="form handling" data-secondary="in React" data-secondary-sortas="React" data-type="indexterm" id="FHreact24" class="calibre6"/> React, <code class="calibre15">&lt;input type='text'&gt;</code>, <code class="calibre15">&lt;textarea&gt;</code>, and <code class="calibre15">&lt;select&gt;</code> all work in a similar way because React’s internal state becomes what is known as the “source of truth,” and these components are therefore called <em class="hyperlink">controlled</em>.</p>

<p class="author1">With<a contenteditable="false" data-primary="controlled components (React)" data-type="indexterm" id="idm45694673845352" class="calibre6"/> a <em class="hyperlink">controlled component,</em> the input’s value is always driven by the React state. This does mean that you need to write a bit more code in React, but the end benefit is that you can then pass values to other UI elements or access them from event handlers.</p>

<p class="author1">Normally, without<a contenteditable="false" data-primary="state property (React)" data-type="indexterm" id="idm45694673843016" class="calibre6"/><a contenteditable="false" data-primary="setState function (React)" data-type="indexterm" id="idm45694673841880" class="calibre6"/> React or any other framework or library loaded, form elements maintain their own state, which is updated based on input received from the user. In React, the mutable state is typically kept in the <code class="calibre15">state</code> property of components and should then only be updated using the <code class="calibre15">setState</code> function.</p>

<section data-type="sect2" data-pdf-bookmark="Using Text Input" class="calibre4"><div class="preface" id="idm45694673839512">
<h2 class="calibre28">Using Text Input</h2>

<p class="author1">Let’s<a contenteditable="false" data-primary="text input (React)" data-type="indexterm" id="idm45694673837752" class="calibre6"/> look at these three input types, starting with a simple text input, like this:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;form&gt;</code>
  Name: <code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">'text'</code> <code class="na">name=</code><code class="s">'name'</code><code class="nt">&gt;</code>
  <code class="nt">&lt;input</code> <code class="na">type=</code><code class="s">'submit'</code><code class="nt">&gt;</code>
<code class="nt">&lt;/form&gt;</code>
</pre>

<p class="author1">This code requests a string of characters to be input, which is then submitted when the Submit button is clicked (or the Enter or Return key pressed). Now let’s change this to a controlled React component in <a data-type="xref" href="#using-text-input-react" class="calibre6">Example 24-10</a>.</p>

<div data-type="example" id="using-text-input-react" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-10. </span>Using text input</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code>
  <code class="k">class</code> <code class="n">GetName</code> <code class="k">extends</code> <code class="n">React</code><code class="p">.</code><code class="n">Component</code>
  <code class="p">{</code>
    <code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code>
      <code class="k">this</code><code class="p">.</code><code class="n">state</code>    <code class="o">=</code> <code class="p">{</code><code class="n">value</code><code class="o">:</code> <code class="s">''</code><code class="p">}</code>
      <code class="k">this</code><code class="p">.</code><code class="n">onChange</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code>
      <code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code>
    <code class="p">}</code>

    <code class="n">onChange</code><code class="p">(</code><code class="n">event</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">({</code><code class="n">value</code><code class="o">:</code> <code class="n">event</code><code class="p">.</code><code class="n">target</code><code class="p">.</code><code class="n">value</code><code class="p">})</code>
    <code class="p">}</code>

    <code class="n">onSubmit</code><code class="p">(</code><code class="n">event</code><code class="p">)</code>
    <code class="p">{</code>
      <code class="n">alert</code><code class="p">(</code><code class="s">'You submitted: '</code> <code class="o">+</code> <code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">value</code><code class="p">)</code>
      <code class="n">event</code><code class="p">.</code><code class="n">preventDefault</code><code class="p">()</code>
    <code class="p">}</code>

    <code class="n">render</code><code class="p">()</code>
    <code class="p">{</code>
      <code class="k">return</code> <code class="p">(</code>
        <code class="p">&lt;</code><code class="nt">form</code> <code class="na">onSubmit</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">}&gt;</code>
          <code class="p">&lt;</code><code class="nt">label</code><code class="p">&gt;</code>
            <code class="n">Name</code><code class="o">:</code>
            <code class="p">&lt;</code><code class="nt">input</code> <code class="na">type</code><code class="o">=</code><code class="s">"text"</code> <code class="na">value</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">value</code><code class="p">}</code>
                            <code class="na">onChange</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="p">}</code> <code class="p">/&gt;</code>
          <code class="p">&lt;/</code><code class="nt">label</code><code class="p">&gt;</code>
          <code class="p">&lt;</code><code class="nt">input</code> <code class="na">type</code><code class="o">=</code><code class="s">"submit"</code> <code class="p">/&gt;</code>
        <code class="p">&lt;/</code><code class="nt">form</code><code class="p">&gt;</code>
      <code class="p">)</code>
    <code class="p">}</code>
  <code class="p">}</code>

  <code class="n">doRender</code><code class="p">(&lt;</code><code class="nt">GetName</code> <code class="p">/&gt;,</code> <code class="s">'display'</code><code class="p">)</code>
<code class="nt">&lt;/script&gt;</code>

<code class="nt">&lt;div</code> <code class="na">id=</code><code class="s">'display'</code> <code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;&lt;/div&gt;</code>
</pre>
</div>

<p class="author1">Let me take you through this part by part. First we create a new class called <code class="calibre15">GetName</code>, which will be used to create a form that will prompt for a name to be entered. This class contains two event handlers called <code class="calibre15">onChange</code> and <code class="calibre15">onSubmit</code>. These are local handlers that are set to override the standard JavaScript handlers of these same named events by using the calls to <code class="calibre15">bind</code> in the constructor, which is also the place where the value in <code class="calibre15">value</code> is initialized to the empty string.</p>

<p class="author1">When called by the <code class="calibre15">onChange</code> interrupt, the new <code class="calibre15">onChange</code> handler calls the <code class="calibre15">setState</code> function to update <code class="calibre15">value</code> whenever the input is changed, so that <code class="calibre15">value</code> is always kept up to date with the contents in the input field.</p>

<p class="author1">When the <code class="calibre15">onSubmit</code> event is triggered, it is handled by the new <code class="calibre15">onSubmit</code> handler, which in this instance issues a pop-up <code class="calibre15">alert</code> window so that we can see it has worked. Because <em class="hyperlink">we</em> are dealing with the event and <em class="hyperlink">not</em> the system, the event is then prevented from bubbling through to the system by calling <code class="calibre15">preventDefault</code>.</p>

<p class="author1">Finally, the <code class="calibre15">render</code> method contains all the HTML code to be rendered into the display <code class="calibre15">&lt;div&gt;</code>. Of course, we use HTML formatted as XML to do this, as that is what Babel expects (namely JSX syntax). In this instance, it simply requires the additional self-closing of the input elements with <code class="calibre15">/&gt;</code>.</p>

<div data-type="note" epub:type="note" class="calibre19"><h6 class="calibre20">Note</h6>
<p class="author1">We have not globally overridden the <code class="calibre15">onChange</code> and <code class="calibre15">onSubmit</code> events, because we have only bound events issued by the rendered code to local event handlers within the <code class="calibre15">GetName</code> class, so it is safe to use the same names for our event handlers, which helps make our code’s purpose more immediately obvious to other developers. But if there could ever be the possibility of any doubt, you might prefer to use different names for your handlers, such as <code class="calibre15">actOnSubmit</code>, etc.</p>
</div>

<p class="author1">So, as you should see by now, <code class="calibre15">this.state.value</code> will always reflect the state of the input field because, as stated earlier, with a controlled component, <code class="calibre15">value</code> is always driven by the React state.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using textarea" class="calibre4"><div class="preface" id="idm45694673838856">
<h2 class="calibre28">Using textarea</h2>

<p class="author1">One<a contenteditable="false" data-primary="textarea element (React)" data-type="indexterm" id="idm45694673615704" class="calibre6"/> of the ideas behind using React is to maintain cross-browser control over the DOM for quick and simple access and also to streamline and simplify the development process. By using controlled components, we are in control at all times and can make inputting data of all types work in similar ways.</p>

<p class="author1">In <a data-type="xref" href="#using-textarea-react" class="calibre6">Example 24-11</a>, the previous example has been modified into using a <code class="calibre15">&lt;textarea&gt;</code> element for input.</p>

<div data-type="example" id="using-textarea-react" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-11. </span>Using textarea</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="k">class</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">GetText</code></strong><code class="calibre15"> </code><code class="k">extends</code><code class="calibre15"> </code><code class="n">React</code><code class="p">.</code><code class="n">Component</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="calibre15">    </code><code class="o">=</code><code class="calibre15"> </code><code class="p">{</code><code class="n">value</code><code class="o">:</code><code class="calibre15"> </code><code class="s">''</code><code class="p">}</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">onChange</code><code class="p">(</code><code class="n">event</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">(</code><code class="p">{</code><code class="n">value</code><code class="o">:</code><code class="calibre15"> </code><code class="n">event</code><code class="p">.</code><code class="n">target</code><code class="p">.</code><code class="n">value</code><code class="p">}</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">onSubmit</code><code class="p">(</code><code class="n">event</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="n">alert</code><code class="p">(</code><code class="s">'You submitted: '</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">value</code><code class="p">)</code><code class="calibre15">
      </code><code class="n">event</code><code class="p">.</code><code class="n">preventDefault</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">render</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">return</code><code class="calibre15"> </code><code class="p">(</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="nt">form</code><code class="calibre15"> </code><code class="na">onSubmit</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">}</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">&lt;</code><code class="nt">label</code><code class="p">&gt;</code><code class="calibre15">
            </code><strong class="calibre31"><code class="nx1">Enter</code><code class="calibre17"> </code><code class="nx1">some</code><code class="calibre17"> </code><code class="nx1">text</code><code class="o1">:</code><code class="p1">&lt;</code><code class="na1">br</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code></strong><code class="calibre15">
            </code><strong class="calibre31"><code class="p1">&lt;</code><code class="na1">textarea</code><code class="calibre17"> </code><code class="na1">rows</code><code class="o1">=</code><code class="s2">'5'</code><code class="calibre17"> </code><code class="na1">cols</code><code class="o1">=</code><code class="s2">'40'</code></strong><code class="calibre15"> </code><code class="na">value</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">value</code><code class="p">}</code><code class="calibre15">
                                      </code><code class="na">onChange</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="p">}</code><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">label</code><code class="p">&gt;</code><strong class="calibre31"><code class="p1">&lt;</code><code class="na1">br</code><code class="calibre17"> </code><code class="p1">/</code><code class="p1">&gt;</code></strong><code class="calibre15">
          </code><code class="p">&lt;</code><code class="nt">input</code><code class="calibre15"> </code><code class="na">type</code><code class="o">=</code><code class="s">"submit"</code><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">form</code><code class="p">&gt;</code><code class="calibre15">
      </code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">

  </code><code class="n">doRender</code><code class="p">(</code><code class="p">&lt;</code><strong class="calibre31"><code class="na1">GetText</code></strong><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'display'</code><code class="p">)</code><code class="calibre15">

  </code><code class="k">function</code><code class="calibre15"> </code><code class="n">doRender</code><code class="p">(</code><code class="n">elem</code><code class="p">,</code><code class="calibre15"> </code><code class="n">dest</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">ReactDOM</code><code class="p">.</code><code class="n">render</code><code class="p">(</code><code class="n">elem</code><code class="p">,</code><code class="calibre15"> </code><code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><code class="n">dest</code><code class="p">)</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">
</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'display'</code><code class="calibre15"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">This code is extremely similar to the text input example, with a few simple changes: this class is now called <code class="calibre15">GetText</code>, the text input in the <code class="calibre15">render</code> method is replaced with a <code class="calibre15">&lt;textarea&gt;</code> element that has been set to 40 columns wide by 5 rows high, and a couple of <code class="calibre15">&lt;br&gt;</code> elements have been added for formatting. And that’s it—nothing else has required changing to enable us to have full control over the <code class="calibre15">&lt;textarea&gt;</code> input field. As with the previous example, <code class="calibre15">this.state.value</code> will always reflect the state of the input field.</p>

<p class="author1">Of course, this type of input supports the use of Enter or Return to input carriage returns into the field, so now the input can only be submitted by clicking the button.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Using select" class="calibre4"><div class="preface" id="idm45694673307336">
<h2 class="calibre28">Using select</h2>

<p class="author1">Before<a contenteditable="false" data-primary="select element (React)" data-type="indexterm" id="idm45694673305928" class="calibre6"/> showing how to use <code class="calibre15">&lt;select&gt;</code> in React, let’s first look at a typical snippet of HTML code in which a few countries are offered from which the user must choose, with USA being the default selection:</p>

<pre data-code-language="html" data-type="programlisting" class="calibre29">
<code class="nt">&lt;select&gt;</code>
  <code class="nt">&lt;option</code><code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="na">value=</code><code class="s">"Australia"</code><code class="nt">&gt;</code>Australia<code class="nt">&lt;/option&gt;</code>
  <code class="nt">&lt;option</code><code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="na">value=</code><code class="s">"Canada"</code><code class="err"> </code> <code class="err"> </code><code class="nt">&gt;</code>Canada<code class="nt">&lt;/option&gt;</code>
  <code class="nt">&lt;option</code><code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="na">value=</code><code class="s">"UK"</code><code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="err"> </code><code class="nt">&gt;</code>United Kingdom<code class="nt">&lt;/option&gt;</code>
  <code class="nt">&lt;option</code> <code class="na">selected</code> <code class="na">value=</code><code class="s">"USA"</code><code class="err"> </code> <code class="err"> </code> <code class="err"> </code> <code class="nt">&gt;</code>United States<code class="nt">&lt;/option&gt;</code>
<code class="nt">&lt;/select&gt;</code></pre>

<p class="author1">In React this needs to be handled slightly differently because it uses a v<code class="calibre15">alue</code> attribute on the <code class="calibre15">select</code> element instead of the <code class="calibre15">selected</code> attribute applied to an <code class="calibre15">option</code> sub-element, as in <a data-type="xref" href="#using-select-react" class="calibre6">Example 24-12</a>.</p>

<div data-type="example" id="using-select-react" class="calibre41">
<h5 class="calibre42"><span class="keep-together">Example 24-12. </span>Using select</h5>

<pre data-code-language="html" data-type="programlisting" class="calibre72">
<code class="nt">&lt;script </code><code class="na">type=</code><code class="s">"text/babel"</code><code class="nt">&gt;</code><code class="calibre15">
  </code><code class="k">class</code><code class="calibre15"> </code><strong class="calibre31"><code class="nx1">GetCountry</code></strong><code class="calibre15"> </code><code class="k">extends</code><code class="calibre15"> </code><code class="n">React</code><code class="p">.</code><code class="n">Component</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">constructor</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">super</code><code class="p">(</code><code class="n">props</code><code class="p">)</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="calibre15">    </code><code class="o">=</code><code class="calibre15"> </code><code class="p">{</code><strong class="calibre31"><code class="nx1">value</code><code class="o1">:</code><code class="calibre17"> </code><code class="s2">'USA'</code></strong><code class="p">}</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">onChange</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="calibre15"> </code><code class="o">=</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">.</code><code class="n">bind</code><code class="p">(</code><code class="k">this</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">onChange</code><code class="p">(</code><code class="n">event</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">this</code><code class="p">.</code><code class="n">setState</code><code class="p">(</code><code class="p">{</code><code class="n">value</code><code class="o">:</code><code class="calibre15"> </code><code class="n">event</code><code class="p">.</code><code class="n">target</code><code class="p">.</code><code class="n">value</code><code class="p">}</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">onSubmit</code><code class="p">(</code><code class="n">event</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="n">alert</code><code class="p">(</code><code class="s">'You selected: '</code><code class="calibre15"> </code><code class="o">+</code><code class="calibre15"> </code><code class="k">this</code><code class="p">.</code><code class="n">state</code><code class="p">.</code><code class="n">value</code><code class="p">)</code><code class="calibre15">
      </code><code class="n">event</code><code class="p">.</code><code class="n">preventDefault</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">

    </code><code class="n">render</code><code class="p">(</code><code class="p">)</code><code class="calibre15">
    </code><code class="p">{</code><code class="calibre15">
      </code><code class="k">return</code><code class="calibre15"> </code><code class="p">(</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="nt">form</code><code class="calibre15"> </code><code class="na">onSubmit</code><code class="o">=</code><code class="p">{</code><code class="k">this</code><code class="p">.</code><code class="n">onSubmit</code><code class="p">}</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">&lt;</code><code class="nt">label</code><code class="p">&gt;</code><code class="calibre15">
            </code><strong class="calibre31"><code class="nx1">Select</code><code class="calibre17"> </code><code class="nx1">a</code><code class="calibre17"> </code><code class="nx1">country</code></strong><code class="o">:</code><code class="calibre15">
            </code><strong class="calibre31"><code class="p1">&lt;</code><code class="na1">select</code><code class="calibre17"> </code><code class="na1">value</code><code class="o1">=</code><code class="p1">{</code><code class="k1">this</code><code class="p1">.</code><code class="nx1">state</code><code class="p1">.</code><code class="nx1">value</code><code class="p1">}</code><code class="calibre17">
                 </code><code class="na1">onChange</code><code class="o1">=</code><code class="p1">{</code><code class="k1">this</code><code class="p1">.</code><code class="nx1">onChange</code><code class="p1">}</code><code class="p1">&gt;</code><code class="calibre17">
              </code><code class="p1">&lt;</code><code class="na1">option</code><code class="calibre17"> </code><code class="na1">value</code><code class="o1">=</code><code class="s2">"Australia"</code><code class="p1">&gt;</code><code class="nx1">Australia</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">option</code><code class="p1">&gt;</code><code class="calibre17">
              </code><code class="p1">&lt;</code><code class="na1">option</code><code class="calibre17"> </code><code class="na1">value</code><code class="o1">=</code><code class="s2">"Canada"</code><code class="calibre17">   </code><code class="p1">&gt;</code><code class="nx1">Canada</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">option</code><code class="p1">&gt;</code><code class="calibre17">
              </code><code class="p1">&lt;</code><code class="na1">option</code><code class="calibre17"> </code><code class="na1">value</code><code class="o1">=</code><code class="s2">"UK"</code><code class="calibre17">       </code><code class="p1">&gt;</code><code class="nx1">United</code><code class="calibre17"> </code><code class="nx1">Kingdom</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">option</code><code class="p1">&gt;</code><code class="calibre17">
              </code><code class="p1">&lt;</code><code class="na1">option</code><code class="calibre17"> </code><code class="na1">value</code><code class="o1">=</code><code class="s2">"USA"</code><code class="calibre17">      </code><code class="p1">&gt;</code><code class="nx1">United</code><code class="calibre17"> </code><code class="nx1">States</code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">option</code><code class="p1">&gt;</code><code class="calibre17">
            </code><code class="p1">&lt;</code><code class="p1">/</code><code class="na1">select</code><code class="p1">&gt;</code></strong><code class="calibre15">
          </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">label</code><code class="p">&gt;</code><code class="calibre15">
          </code><code class="p">&lt;</code><code class="nt">input</code><code class="calibre15"> </code><code class="na">type</code><code class="o">=</code><code class="s">"submit"</code><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="calibre15">
        </code><code class="p">&lt;</code><code class="p">/</code><code class="nt">form</code><code class="p">&gt;</code><code class="calibre15">
      </code><code class="p">)</code><code class="calibre15">
    </code><code class="p">}</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">

  </code><code class="n">doRender</code><code class="p">(</code><code class="p">&lt;</code><strong class="calibre31"><code class="na1">GetCountry</code></strong><code class="calibre15"> </code><code class="p">/</code><code class="p">&gt;</code><code class="p">,</code><code class="calibre15"> </code><code class="s">'display'</code><code class="p">)</code><code class="calibre15">

  </code><code class="k">function</code><code class="calibre15"> </code><code class="n">doRender</code><code class="p">(</code><code class="n">elem</code><code class="p">,</code><code class="calibre15"> </code><code class="n">dest</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">{</code><code class="calibre15">
    </code><code class="n">ReactDOM</code><code class="p">.</code><code class="n">render</code><code class="p">(</code><code class="n">elem</code><code class="p">,</code><code class="calibre15"> </code><code class="nb">document</code><code class="p">.</code><code class="n">getElementById</code><code class="p">(</code><code class="n">dest</code><code class="p">)</code><code class="p">)</code><code class="calibre15">
  </code><code class="p">}</code><code class="calibre15">
</code><code class="nt">&lt;/script&gt;</code><code class="calibre15">

</code><code class="nt">&lt;div</code><code class="calibre15"> </code><code class="na">id=</code><code class="s">'display'</code><code class="calibre15"> </code><code class="na">style=</code><code class="s">'font-family:monospace'</code><code class="nt">&gt;</code><code class="nt">&lt;/div&gt;</code><code class="calibre15">
</code></pre>
</div>

<p class="author1">Once again you will see that very little has changed in this example other than the new class name of <code class="calibre15">GetCountry</code>, that <code class="calibre15">this.state.value</code> is assigned the default value of <code class="calibre15">'USA'</code>, and that the input type is now a <code class="calibre15">&lt;select&gt;</code> but without a <code class="calibre15">selected</code> attribute.</p>

<p class="author1">Just as with the previous two examples, <code class="calibre15">this.state.value</code> always reflects the state of the<a contenteditable="false" data-primary="" data-startref="Rformh24" data-type="indexterm" id="idm45694673582200" class="calibre6"/><a contenteditable="false" data-primary="" data-startref="FHreact24" data-type="indexterm" id="idm45694673580824" class="calibre6"/> input.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="React Native" class="calibre4"><div class="preface" id="idm45694673579192">
<h1 class="calibre11">React Native</h1>

<p class="author1">React<a contenteditable="false" data-primary="React Native" data-type="indexterm" id="idm45694673003848" class="calibre6"/> also has a companion product called React Native. With it you can create full-blown applications for both iOS and Android phones and tablets, just using the JSX extended JavaScript language and without needing to understand Java or Kotlin (for Android) or Objective-C or Swift (for iOS).</p>

<p class="author1">Full details and explanations of how to do all this and have your apps up and running on a wide range of mobile devices are beyond the scope of this book, but in this section I show you where to go to get the software and information you need.</p>

<section data-type="sect2" data-pdf-bookmark="Creating React Native Apps" class="calibre4"><div class="preface" id="idm45694673001480">
<h2 class="calibre28">Creating React Native Apps</h2>

<p class="author1">To develop React Native apps, you will first need to install <a href="http://developer.android.com/studio" class="calibre6">Android Studio</a> and the <a href="https://tinyurl.com/getjavajdk" class="calibre6">Java JDK</a></p>

<p class="author1">On a Mac you will additionally need to install Xcode from the App Store. Windows users have no easy options other than tricky virtualization or a “Hackintosh” to develop iOS apps, so it’s really best to have access to an actual Mac (or hosted service) for this.</p>

<p class="author1">Then you will need to read the <a href="https://developer.android.com/docs" class="calibre6">documentation on Android Studio</a> until you understand how to create an Android Virtual Device (AVD), and set up the various environment variables required, such as <code class="calibre15">ANDROID_HOME</code>, which should point to the installed JDK.<span class="keep-together"> Now you need to install Node.JS from </span><a href="http://nodejs.org" class="calibre6">nodejs.org</a>.</p>

<p class="author1">Once Node is installed, read up on <a href="https://nodejs.org/en/docs/" class="calibre6">the documentation</a> if you don’t already know how to use it. Now you are ready to install React Native following the advice given in the <a href="https://reactnative.dev/docs/environment-setup" class="calibre6">React Native documentation</a>. After this you can then work through the tutorial on <a href="http://reactnative.dev/docs/getting-started" class="calibre6">the React website</a>, noting the differences between building apps on Windows and on macOS.</p>

<p class="author1">Once you get this all working (and it can take a while before you properly understand everything you are doing and have it all running smoothly), you now have the fantastic benefit that you can (mostly) go ahead and develop your apps for both major mobile platforms at the same time by just using React JSX code!</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Further Reading" class="calibre4"><div class="preface" id="idm45694673418040">
<h2 class="calibre28">Further Reading</h2>

<p class="author1">To aid you in your React Native development, here are some online tutorials that I feel clearly explain the process (thanks to Pabasara Jayawardhana at Medium, Kevin VanGelder at Infinite Red Academy, and Microsoft) and that were all online and working at the time of writing (or may be located at <a href="https://archive.org" class="calibre6"><em class="hyperlink">archive.org</em></a> if not). Of course, if you still need to know more, your favorite search engine will have what you need:</p>

<ul class="printings">
	<li class="calibre9"><a href="https://tinyurl.com/reactnativemac" class="calibre6">React Native on Mac OS</a></li>
	<li class="calibre9"><a href="https://tinyurl.com/reactnativewindows" class="calibre6">React Native on Windows</a></li>
	<li class="calibre9"><a href="https://microsoft.github.io/react-native-windows/" class="calibre6">Microsoft’s Guide to React Native</a></li>
</ul>

<p class="author1">Although the latter of these three refers only to Windows in the URL, the guide includes macOS, too.</p>
</div></section>

<section data-type="sect2" data-pdf-bookmark="Taking React to the Next Level" class="calibre4"><div class="preface" id="idm45694673411768">
<h2 class="calibre28">Taking React to the Next Level</h2>

<p class="author1">Now that you’ve learned the basics of how to set up and use React, there remains a great deal more that you can do with it (especially if you intend to build React Native apps with it), which is sadly beyond the scope of this book. So to continue your React journey, I recommend you visit the <a href="https://reactjs.org/docs/hello-world.html" class="calibre6">Reactjs.org web page</a> as a good starting point, where you can review some of the things discussed here before moving on to even more powerful features.</p>

<p class="author1">And remember that you can download all the samples from this chapter (and this book as a whole) on <a href="https://github.com/RobinNixon/lpmj6" class="calibre6">GitHub</a>.</p>

<p class="author1">So, with React now in our toolkit (at least enough to get us up and running), let’s move on to all the goodies that HTML5 brings us in the following chapter.</p>
</div></section>
</div></section>

<section data-type="sect1" data-pdf-bookmark="Questions" class="calibre4"><div class="preface" id="questions-id00116b">
<h1 class="calibre11">Questions</h1>

<ol class="calibre25">
	<li class="calibre26">
	<p class="author1">What are the main two ways you can incorporate the React scripts in your web page?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How is XML incorporated into JavaScript for use with React?</p>
	</li>
	<li class="calibre26">
	<p class="author1">Instead of <code class="calibre15">&lt;script type="application/javascript"&gt;</code>, what value for <code class="calibre15">type</code> should you use for your JSX JavaScript code?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What are two different ways you can extend React to your code?</p>
	</li>
	<li class="calibre26">
	<p class="author1">In React, what is meant by pure and impure code?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How does React keep track of state?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you embed an expression within JSX code?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you change the state of a value once a class has been constructed?</p>
	</li>
	<li class="calibre26">
	<p class="author1">What must you first do to enable referring to <code class="calibre15">props</code> using the <code class="calibre15">this</code> keyword within a constructor?</p>
	</li>
	<li class="calibre26">
	<p class="author1">How can you create a conditional statement in JSX?</p>
	</li>
</ol>

<p class="author1">See <a data-type="xref" href="app01_split_023.xhtml#chapter_24_answers" class="calibre6">“Chapter 24 Answers”</a> in the <a data-type="xref" href="app01_split_000.xhtml#solutions_to_the_chapter_questions" class="calibre6">Appendix A</a> for the answers to these <span class="keep-together">questions</span>.</p>
</div></section>
</div></section></div></body></html>